{"version":3,"sources":["../../../../components/Sidebar.tsx","../../../../node_modules/%40phosphor-icons/react/dist/csr/ChatCircleDots.es.js","../../../../node_modules/%40phosphor-icons/react/dist/defs/ChatCircleDots.es.js","../../../../node_modules/%40phosphor-icons/react/dist/defs/Files.es.js","../../../../node_modules/%40phosphor-icons/react/dist/csr/Files.es.js","../../../../node_modules/%40phosphor-icons/react/dist/defs/GitPullRequest.es.js","../../../../node_modules/%40phosphor-icons/react/dist/csr/GitPullRequest.es.js","../../../../node_modules/%40phosphor-icons/react/dist/defs/Megaphone.es.js","../../../../node_modules/%40phosphor-icons/react/dist/csr/Megaphone.es.js","../../../../node_modules/%40phosphor-icons/react/dist/defs/Moon.es.js","../../../../node_modules/%40phosphor-icons/react/dist/csr/Moon.es.js","../../../../components/Topbar.tsx","../../../../components/SlideOver.tsx","../../../../components/DocViewer.tsx","../../../../app/dashboard/layout.tsx","../../../../components/onboarding/UserTour.tsx"],"sourcesContent":["'use client';\nimport { useApp } from '@/context/AppContext';\nimport { useTranslation } from '@/lib/i18n';\nimport {\n    SquaresFour, Planet, Buildings, ShieldCheck, ChatCircleDots, Files,\n    GitPullRequest, Gear, UsersThree, TreeStructure, Megaphone, Kanban, ChartPieSlice,\n    ClipboardText, List, CaretLeft, CaretRight, Globe, CloudArrowUp\n} from '@phosphor-icons/react';\nimport { usePathname, useRouter } from 'next/navigation';\n\nexport default function Sidebar() {\n    const { currentUser, isSuperAdmin, currentTenant, isSidebarCollapsed, toggleSidebar, unreadChatCount } = useApp();\n    const { t } = useTranslation();\n    const router = useRouter();\n    const pathname = usePathname();\n\n    if (!currentUser) return null;\n\n    const NavItem = ({ icon: Icon, label, path, badge }: { icon: any, label: string, path: string, badge?: number | string | boolean }) => {\n        const isActive = pathname === path;\n        return (\n            <button\n                id={`nav-item-${path.replace(/\\//g, '-')}`}\n                className={`nav-item ${isActive ? 'active' : ''} ${isSidebarCollapsed ? 'justify-center px-0' : ''}`}\n                onClick={() => router.push(path)}\n                title={isSidebarCollapsed ? label : ''}\n            >\n                <Icon size={isSidebarCollapsed ? 22 : 18} weight={isActive ? 'bold' : 'regular'} />\n                {!isSidebarCollapsed && label}\n                {!isSidebarCollapsed && badge && badge !== 0 && <span className=\"nav-badge mx-2\">{badge}</span>}\n            </button>\n        );\n    };\n\n    return (\n        <aside id=\"sidebar\" className={`${isSuperAdmin ? 'super-mode' : ''} ${isSidebarCollapsed ? 'collapsed w-[80px]' : 'w-[260px]'} transition-all duration-300`}>\n            <div className={`brand flex items-center ${isSidebarCollapsed ? 'justify-center p-4' : 'justify-between p-5'}`}>\n                <div className=\"flex items-center gap-3\">\n                    <div className=\"brand-logo flex-shrink-0\"><SquaresFour weight=\"bold\" /></div>\n                    {!isSidebarCollapsed && (\n                        <div className=\"animate-fadeIn\">\n                            <div style={{ fontWeight: 700, color: 'white', fontSize: '15px', letterSpacing: '-0.02em' }}>\n                                {isSuperAdmin ? 'Antigravity DB' : (currentTenant?.branding?.app_title || 'Maturity360')}\n                            </div>\n                            <div style={{ fontSize: 10, opacity: 0.5, fontWeight: 600, textTransform: 'uppercase', letterSpacing: '0.05em' }} id=\"tenant-label\">\n                                {isSuperAdmin ? 'Global View' : currentTenant?.name}\n                            </div>\n                        </div>\n                    )}\n                </div>\n                <button\n                    onClick={toggleSidebar}\n                    className={`text-white/40 hover:text-white transition-colors p-1.5 rounded-lg hover:bg-white/10 ${isSidebarCollapsed ? 'hidden' : ''}`}\n                    title=\"Contraer Menú\"\n                >\n                    <CaretLeft size={16} weight=\"bold\" />\n                </button>\n            </div>\n\n            {isSidebarCollapsed && (\n                <div className=\"flex justify-center p-2 border-b border-white/5\">\n                    <button\n                        onClick={toggleSidebar}\n                        className=\"text-white/40 hover:text-white transition-colors p-2 rounded-xl hover:bg-white/10\"\n                        title=\"Expandir Menú\"\n                    >\n                        <CaretRight size={20} weight=\"bold\" />\n                    </button>\n                </div>\n            )}\n\n            <nav className=\"nav\" id=\"nav-menu\">\n                {isSuperAdmin ? (\n                    <>\n                        <div className=\"nav-header\">{t('nav_platform')}</div>\n                        <NavItem icon={Planet} label=\"Global Dashboard\" path=\"/dashboard\" />\n                        <NavItem icon={Buildings} label=\"Tenants\" path=\"/dashboard/tenants\" />\n                        <NavItem icon={UsersThree} label=\"Users & Permissions\" path=\"/dashboard/admin/users\" />\n                        <NavItem icon={Globe} label=\"Platform Params\" path=\"/dashboard/platform\" />\n                        <NavItem icon={ShieldCheck} label=\"Audit Global\" path=\"/dashboard/audit\" />\n                    </>\n                ) : (\n                    <>\n                        <div className={`nav-header ${isSidebarCollapsed ? 'text-center opacity-30 text-[9px]' : ''}`}>\n                            {isSidebarCollapsed ? '•••' : t('nav_operation')}\n                        </div>\n\n                        {(currentTenant?.features?.includes('DASHBOARD') || !currentTenant) && (\n                            <NavItem icon={SquaresFour} label={t('nav_dashboard')} path=\"/dashboard\" />\n                        )}\n\n                        {currentTenant?.features?.includes('CHAT') && (\n                            <NavItem icon={ChatCircleDots} label={t('nav_chat')} path=\"/dashboard/chat\" badge={unreadChatCount} />\n                        )}\n                        {currentTenant?.features?.includes('REPOSITORY') && (\n                            <NavItem icon={Files} label={t('nav_repository')} path=\"/dashboard/repository\" />\n                        )}\n                        {currentTenant?.features?.includes('WORKFLOWS') && (\n                            <NavItem icon={Kanban} label={t('nav_workflows')} path=\"/dashboard/workflows\" />\n                        )}\n                        {currentTenant?.features?.includes('ANALYTICS') && (\n                            <NavItem icon={ChartPieSlice} label={t('nav_analytics')} path=\"/dashboard/analytics\" />\n                        )}\n                        {currentTenant?.features?.includes('SURVEYS') && (\n                            <NavItem icon={ClipboardText} label={t('nav_surveys')} path=\"/dashboard/surveys\" />\n                        )}\n\n                        {(currentUser.level <= 2) && (\n                            <>\n                                <div className=\"nav-header\">{currentUser.level === 1 ? t('nav_governance') : t('nav_management')}</div>\n                                {currentUser.level === 1 && (\n                                    <>\n                                        <NavItem icon={Gear} label={t('nav_admin')} path=\"/dashboard/admin\" />\n                                        <NavItem icon={TreeStructure} label={t('nav_units')} path=\"/dashboard/admin/units\" />\n                                        <NavItem icon={ShieldCheck} label={t('nav_roles')} path=\"/dashboard/admin/roles\" />\n                                        <NavItem icon={UsersThree} label={t('nav_users')} path=\"/dashboard/admin/users\" />\n                                        <NavItem icon={Megaphone} label={t('nav_comms')} path=\"/dashboard/admin/communications\" />\n                                        <NavItem icon={GitPullRequest} label=\"Configuración Técnica\" path=\"/dashboard/admin/settings\" />\n                                        <NavItem icon={CloudArrowUp} label=\"Almacenamiento\" path=\"/dashboard/admin/storage\" />\n                                        <NavItem icon={ChartPieSlice} label=\"Dashboard Storage\" path=\"/dashboard/admin/storage-dashboard\" />\n                                    </>\n                                )}\n                                <NavItem icon={UsersThree} label={t('nav_unit')} path=\"/dashboard/unit\" />\n                            </>\n                        )}\n\n                    </>\n                )}\n            </nav>\n\n            <div className={`user-profile ${isSidebarCollapsed ? 'justify-center p-3' : ''}`} onClick={() => router.push('/dashboard/profile')}>\n                <div className=\"avatar\" id=\"u-avatar\">{currentUser.initials}</div>\n                {!isSidebarCollapsed && (\n                    <div style={{ flex: 1, overflow: 'hidden' }} className=\"animate-fadeIn\">\n                        <div id=\"u-name\" style={{ fontWeight: 600, color: 'white' }}>{currentUser.name}</div>\n                        <div id=\"u-role\" style={{ fontSize: 11, opacity: 0.6 }}>{currentUser.role}</div>\n                    </div>\n                )}\n                {!isSidebarCollapsed && (\n                    <button className=\"btn btn-ghost\" style={{ color: 'white', padding: 4 }}>\n                        <Gear size={16} />\n                    </button>\n                )}\n            </div>\n        </aside>\n    );\n}\n","import * as o from \"react\";\nimport a from \"../lib/IconBase.es.js\";\nimport c from \"../defs/ChatCircleDots.es.js\";\nconst t = o.forwardRef((e, r) => /* @__PURE__ */ o.createElement(a, { ref: r, ...e, weights: c }));\nt.displayName = \"ChatCircleDotsIcon\";\nconst m = t;\nexport {\n  m as ChatCircleDots,\n  t as ChatCircleDotsIcon\n};\n","import * as a from \"react\";\nconst e = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M120,128a16,16,0,1,1-16-16A16,16,0,0,1,120,128Zm32-16a16,16,0,1,0,16,16A16,16,0,0,0,152,112Zm84,16A108,108,0,0,1,78.77,224.15L46.34,235A20,20,0,0,1,21,209.66l10.81-32.43A108,108,0,1,1,236,128Zm-24,0A84,84,0,1,0,55.27,170.06a12,12,0,0,1,1,9.81l-9.93,29.79,29.79-9.93a12.1,12.1,0,0,1,3.8-.62,12,12,0,0,1,6,1.62A84,84,0,0,0,212,128Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\n      \"path\",\n      {\n        d: \"M224,128A96,96,0,0,1,79.93,211.11h0L42.54,223.58a8,8,0,0,1-10.12-10.12l12.47-37.39h0A96,96,0,1,1,224,128Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ a.createElement(\"path\", { d: \"M128,24A104,104,0,0,0,36.18,176.88L24.83,210.93a16,16,0,0,0,20.24,20.24l34.05-11.35A104,104,0,1,0,128,24Zm0,192a87.87,87.87,0,0,1-44.06-11.81,8,8,0,0,0-4-1.08,7.85,7.85,0,0,0-2.53.42L40,216,52.47,178.6a8,8,0,0,0-.66-6.54A88,88,0,1,1,128,216Zm12-88a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm-44,0a12,12,0,1,1-12-12A12,12,0,0,1,96,128Zm88,0a12,12,0,1,1-12-12A12,12,0,0,1,184,128Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M128,24A104,104,0,0,0,36.18,176.88L24.83,210.93a16,16,0,0,0,20.24,20.24l34.05-11.35A104,104,0,1,0,128,24ZM84,140a12,12,0,1,1,12-12A12,12,0,0,1,84,140Zm44,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm44,0a12,12,0,1,1,12-12A12,12,0,0,1,172,140Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM84,118a10,10,0,1,0,10,10A10,10,0,0,0,84,118Zm88,0a10,10,0,1,0,10,10A10,10,0,0,0,172,118Zm58,10A102,102,0,0,1,79.31,217.65L44.44,229.27a14,14,0,0,1-17.71-17.71l11.62-34.87A102,102,0,1,1,230,128Zm-12,0A90,90,0,1,0,50.08,173.06a6,6,0,0,1,.5,4.91L38.12,215.35a2,2,0,0,0,2.53,2.53L78,205.42a6.2,6.2,0,0,1,1.9-.31,6.09,6.09,0,0,1,3,.81A90,90,0,0,0,218,128Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-52-8a8,8,0,1,0,8,8A8,8,0,0,0,84,120Zm88,0a8,8,0,1,0,8,8A8,8,0,0,0,172,120Zm56,8A100,100,0,0,1,79.5,215.47l-35.69,11.9a12,12,0,0,1-15.18-15.18l11.9-35.69A100,100,0,1,1,228,128Zm-8,0A92,92,0,1,0,48.35,174.07a4,4,0,0,1,.33,3.27L36.22,214.72a4,4,0,0,0,5.06,5.06l37.38-12.46a3.93,3.93,0,0,1,1.27-.21,4.05,4.05,0,0,1,2,.54A92,92,0,0,0,220,128Z\" }))\n  ]\n]);\nexport {\n  e as default\n};\n","import * as a from \"react\";\nconst e = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M220.49,59.51l-40-40A12,12,0,0,0,172,16H92A20,20,0,0,0,72,36V56H56A20,20,0,0,0,36,76V216a20,20,0,0,0,20,20H164a20,20,0,0,0,20-20V196h20a20,20,0,0,0,20-20V68A12,12,0,0,0,220.49,59.51ZM160,212H60V80h67l33,33Zm40-40H184V108a12,12,0,0,0-3.51-8.49l-40-40A12,12,0,0,0,132,56H96V40h71l33,33Zm-56-28a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h44A12,12,0,0,1,144,144Zm0,40a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h44A12,12,0,0,1,144,184Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\n      \"path\",\n      {\n        d: \"M208,72V184a8,8,0,0,1-8,8H176V104L136,64H80V40a8,8,0,0,1,8-8h80Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ a.createElement(\"path\", { d: \"M213.66,66.34l-40-40A8,8,0,0,0,168,24H88A16,16,0,0,0,72,40V56H56A16,16,0,0,0,40,72V216a16,16,0,0,0,16,16H168a16,16,0,0,0,16-16V200h16a16,16,0,0,0,16-16V72A8,8,0,0,0,213.66,66.34ZM168,216H56V72h76.69L168,107.31v84.53c0,.06,0,.11,0,.16s0,.1,0,.16V216Zm32-32H184V104a8,8,0,0,0-2.34-5.66l-40-40A8,8,0,0,0,136,56H88V40h76.69L200,75.31Zm-56-32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,152Zm0,32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,184Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M213.66,66.34l-40-40A8,8,0,0,0,168,24H88A16,16,0,0,0,72,40V56H56A16,16,0,0,0,40,72V216a16,16,0,0,0,16,16H168a16,16,0,0,0,16-16V200h16a16,16,0,0,0,16-16V72A8,8,0,0,0,213.66,66.34ZM136,192H88a8,8,0,0,1,0-16h48a8,8,0,0,1,0,16Zm0-32H88a8,8,0,0,1,0-16h48a8,8,0,0,1,0,16Zm64,24H184V104a8,8,0,0,0-2.34-5.66l-40-40A8,8,0,0,0,136,56H88V40h76.69L200,75.31Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M212.24,67.76l-40-40A6,6,0,0,0,168,26H88A14,14,0,0,0,74,40V58H56A14,14,0,0,0,42,72V216a14,14,0,0,0,14,14H168a14,14,0,0,0,14-14V198h18a14,14,0,0,0,14-14V72A6,6,0,0,0,212.24,67.76ZM170,216a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2h77.51L170,106.49Zm32-32a2,2,0,0,1-2,2H182V104a6,6,0,0,0-1.76-4.24l-40-40A6,6,0,0,0,136,58H86V40a2,2,0,0,1,2-2h77.51L202,74.49Zm-60-32a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h48A6,6,0,0,1,142,152Zm0,32a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h48A6,6,0,0,1,142,184Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M213.66,66.34l-40-40A8,8,0,0,0,168,24H88A16,16,0,0,0,72,40V56H56A16,16,0,0,0,40,72V216a16,16,0,0,0,16,16H168a16,16,0,0,0,16-16V200h16a16,16,0,0,0,16-16V72A8,8,0,0,0,213.66,66.34ZM168,216H56V72h76.69L168,107.31v84.53c0,.06,0,.11,0,.16s0,.1,0,.16V216Zm32-32H184V104a8,8,0,0,0-2.34-5.66l-40-40A8,8,0,0,0,136,56H88V40h76.69L200,75.31Zm-56-32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,152Zm0,32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,184Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M210.83,69.17l-40-40A4,4,0,0,0,168,28H88A12,12,0,0,0,76,40V60H56A12,12,0,0,0,44,72V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V196h20a12,12,0,0,0,12-12V72A4,4,0,0,0,210.83,69.17ZM172,216a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V72a4,4,0,0,1,4-4h78.34L172,105.66Zm32-32a4,4,0,0,1-4,4H180V104a4,4,0,0,0-1.17-2.83l-40-40A4,4,0,0,0,136,60H84V40a4,4,0,0,1,4-4h78.34L204,73.66Zm-64-32a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h48A4,4,0,0,1,140,152Zm0,32a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h48A4,4,0,0,1,140,184Z\" }))\n  ]\n]);\nexport {\n  e as default\n};\n","import * as e from \"react\";\nimport t from \"../lib/IconBase.es.js\";\nimport a from \"../defs/Files.es.js\";\nconst o = e.forwardRef((r, s) => /* @__PURE__ */ e.createElement(t, { ref: s, ...r, weights: a }));\no.displayName = \"FilesIcon\";\nconst c = o;\nexport {\n  c as Files,\n  o as FilesIcon\n};\n","import * as a from \"react\";\nconst e = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M108,64A36,36,0,1,0,60,97.94v60.12a36,36,0,1,0,24,0V97.94A36.07,36.07,0,0,0,108,64ZM72,52A12,12,0,1,1,60,64,12,12,0,0,1,72,52Zm0,152a12,12,0,1,1,12-12A12,12,0,0,1,72,204Zm140-45.94V110.63a27.81,27.81,0,0,0-8.2-19.8L173,60h19a12,12,0,0,0,0-24H144a12,12,0,0,0-12,12V96a12,12,0,0,0,24,0V77l30.83,30.83a4,4,0,0,1,1.17,2.83v47.43a36,36,0,1,0,24,0ZM200,204a12,12,0,1,1,12-12A12,12,0,0,1,200,204Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\n      \"path\",\n      {\n        d: \"M96,64A24,24,0,1,1,72,40,24,24,0,0,1,96,64ZM200,168a24,24,0,1,0,24,24A24,24,0,0,0,200,168Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ a.createElement(\"path\", { d: \"M104,64A32,32,0,1,0,64,95v66a32,32,0,1,0,16,0V95A32.06,32.06,0,0,0,104,64ZM56,64A16,16,0,1,1,72,80,16,16,0,0,1,56,64ZM88,192a16,16,0,1,1-16-16A16,16,0,0,1,88,192Zm120-31V110.63a23.85,23.85,0,0,0-7-17L163.31,56H192a8,8,0,0,0,0-16H144a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31L189.66,105a8,8,0,0,1,2.34,5.66V161a32,32,0,1,0,16,0Zm-8,47a16,16,0,1,1,16-16A16,16,0,0,1,200,208Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M104,64A32,32,0,1,0,64,95v66a32,32,0,1,0,16,0V95A32.06,32.06,0,0,0,104,64ZM88,192a16,16,0,1,1-16-16A16,16,0,0,1,88,192Zm144,0a32,32,0,1,1-40-31V110.63a8,8,0,0,0-2.34-5.66L152,67.31V96a8,8,0,0,1-16,0V48a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H163.31L201,93.66a23.85,23.85,0,0,1,7,17V161A32.06,32.06,0,0,1,232,192Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M102,64A30,30,0,1,0,66,93.4v69.2a30,30,0,1,0,12,0V93.4A30.05,30.05,0,0,0,102,64ZM54,64A18,18,0,1,1,72,82,18,18,0,0,1,54,64ZM90,192a18,18,0,1,1-18-18A18,18,0,0,1,90,192Zm116-29.4v-52a21.88,21.88,0,0,0-6.44-15.56L158.48,54H192a6,6,0,0,0,0-12H144a6,6,0,0,0-6,6V96a6,6,0,0,0,12,0V62.48l41.07,41.08a9.91,9.91,0,0,1,2.93,7.07v52a30,30,0,1,0,12,0ZM200,210a18,18,0,1,1,18-18A18,18,0,0,1,200,210Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M104,64A32,32,0,1,0,64,95v66a32,32,0,1,0,16,0V95A32.06,32.06,0,0,0,104,64ZM56,64A16,16,0,1,1,72,80,16,16,0,0,1,56,64ZM88,192a16,16,0,1,1-16-16A16,16,0,0,1,88,192Zm120-31V110.63a23.85,23.85,0,0,0-7-17L163.31,56H192a8,8,0,0,0,0-16H144a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31L189.66,105a8,8,0,0,1,2.34,5.66V161a32,32,0,1,0,16,0Zm-8,47a16,16,0,1,1,16-16A16,16,0,0,1,200,208Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M100,64A28,28,0,1,0,68,91.71v72.58a28,28,0,1,0,8,0V91.71A28,28,0,0,0,100,64ZM52,64A20,20,0,1,1,72,84,20,20,0,0,1,52,64ZM92,192a20,20,0,1,1-20-20A20,20,0,0,1,92,192Zm112-27.71V110.63a19.89,19.89,0,0,0-5.86-14.15L153.66,52H192a4,4,0,0,0,0-8H144a4,4,0,0,0-4,4V96a4,4,0,0,0,8,0V57.66l44.49,44.48a12,12,0,0,1,3.51,8.49v53.66a28,28,0,1,0,8,0ZM200,212a20,20,0,1,1,20-20A20,20,0,0,1,200,212Z\" }))\n  ]\n]);\nexport {\n  e as default\n};\n","import * as e from \"react\";\nimport s from \"../lib/IconBase.es.js\";\nimport a from \"../defs/GitPullRequest.es.js\";\nconst t = e.forwardRef((o, r) => /* @__PURE__ */ e.createElement(s, { ref: r, ...o, weights: a }));\nt.displayName = \"GitPullRequestIcon\";\nconst m = t;\nexport {\n  m as GitPullRequest,\n  t as GitPullRequestIcon\n};\n","import * as a from \"react\";\nconst e = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M252,120a52.06,52.06,0,0,0-52-52H160.32c-3.44-.21-52.6-4-99.46-43.3A20,20,0,0,0,28,40V200a19.8,19.8,0,0,0,11.54,18.12,19.86,19.86,0,0,0,21.32-2.81A192.92,192.92,0,0,1,144,174.47v26.2a20,20,0,0,0,8.9,16.64,11.35,11.35,0,0,0,1.39.8l14.44,7.06A20,20,0,0,0,198.37,213l11.09-41.82A52.07,52.07,0,0,0,252,120ZM52,191.63V48.4c36.17,28.07,72.17,38.1,92,41.66V150C124.17,153.52,88.17,163.55,52,191.63ZM176.39,202.2,168,198.1V172h16.4ZM200,148H168V92h32a28,28,0,1,1,0,56Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\n      \"path\",\n      {\n        d: \"M240,120a40,40,0,0,1-40,40H160V80h40A40,40,0,0,1,240,120Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ a.createElement(\"path\", { d: \"M248,120a48.05,48.05,0,0,0-48-48H160.2c-2.91-.17-53.62-3.74-101.91-44.24A16,16,0,0,0,32,40V200a16,16,0,0,0,26.29,12.25c37.77-31.68,77-40.76,93.71-43.3v31.72A16,16,0,0,0,159.12,214l11,7.33A16,16,0,0,0,194.5,212l11.77-44.36A48.07,48.07,0,0,0,248,120ZM48,199.93V40h0c42.81,35.91,86.63,45,104,47.24v65.48C134.65,155,90.84,164.07,48,199.93Zm131,8,0,.11-11-7.33V168h21.6ZM200,152H168V88h32a32,32,0,1,1,0,64Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M200,72H160.2c-2.91-.17-53.62-3.74-101.91-44.24A16,16,0,0,0,32,40V200a16,16,0,0,0,26.29,12.25c37.77-31.68,77-40.76,93.71-43.3v31.72A16,16,0,0,0,159.12,214l11,7.33A16,16,0,0,0,194.5,212l11.77-44.36A48,48,0,0,0,200,72ZM179,207.89l0,.11-11-7.33V168h21.6ZM200,152H168V88h32a32,32,0,1,1,0,64Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M246,120a46.05,46.05,0,0,0-46-46H160.15c-2.58-.15-54.1-3.57-103.15-44.71A14,14,0,0,0,34,40V200a13.85,13.85,0,0,0,8.07,12.68A14.16,14.16,0,0,0,48,214a13.9,13.9,0,0,0,9-3.3c40-33.52,81.57-42,97-44.07v34a14,14,0,0,0,6.23,11.65l11,7.33a14,14,0,0,0,21.32-8.17l12.13-45.71A46.07,46.07,0,0,0,246,120ZM49.29,201.52A2,2,0,0,1,46,200V40a1.9,1.9,0,0,1,1.15-1.8A2.08,2.08,0,0,1,48,38a1.91,1.91,0,0,1,1.26.48c44,36.92,89,45.19,104.71,47v69C138.29,156.33,93.3,164.61,49.29,201.52Zm131.64,7a2,2,0,0,1-3.05,1.18l-11-7.33a2,2,0,0,1-.89-1.67V166h26.2ZM200,154H166V86h34a34,34,0,1,1,0,68Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M248,120a48.05,48.05,0,0,0-48-48H160.2c-2.91-.17-53.62-3.74-101.91-44.24A16,16,0,0,0,32,40V200a16,16,0,0,0,26.29,12.25c37.77-31.68,77-40.76,93.71-43.3v31.72A16,16,0,0,0,159.12,214l11,7.33A16,16,0,0,0,194.5,212l11.77-44.36A48.07,48.07,0,0,0,248,120ZM48,199.93V40h0c42.81,35.91,86.63,45,104,47.24v65.48C134.65,155,90.84,164.07,48,199.93Zm131,8,0,.11-11-7.33V168h21.6ZM200,152H168V88h32a32,32,0,1,1,0,64Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M200,76H160.1c-2.19-.11-54.55-3.38-104.38-45.17A12,12,0,0,0,36,40V200a11.88,11.88,0,0,0,6.92,10.87A12.18,12.18,0,0,0,48,212a11.93,11.93,0,0,0,7.69-2.83c42.46-35.62,86.76-43.25,100.28-44.8v36.29a12,12,0,0,0,5.34,10l11,7.33a12,12,0,0,0,18.28-7l12.49-47.09A44,44,0,0,0,200,76Zm-44,80.3c-13.53,1.35-60,8.62-105.42,46.75A4,4,0,0,1,44,200V40a4,4,0,0,1,2.3-3.62A4.32,4.32,0,0,1,48.05,36a3.88,3.88,0,0,1,2.53,1C96,75.09,142.47,82.36,156,83.71ZM182.87,209a4,4,0,0,1-6.1,2.36l-11-7.33a4,4,0,0,1-1.78-3.33V164h30.8ZM200,156H164V84h36a36,36,0,0,1,0,72Z\" }))\n  ]\n]);\nexport {\n  e as default\n};\n","import * as e from \"react\";\nimport t from \"../lib/IconBase.es.js\";\nimport n from \"../defs/Megaphone.es.js\";\nconst o = e.forwardRef((a, r) => /* @__PURE__ */ e.createElement(t, { ref: r, ...a, weights: n }));\no.displayName = \"MegaphoneIcon\";\nconst c = o;\nexport {\n  c as Megaphone,\n  o as MegaphoneIcon\n};\n","import * as e from \"react\";\nconst a = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M236.37,139.4a12,12,0,0,0-12-3A84.07,84.07,0,0,1,119.6,31.59a12,12,0,0,0-15-15A108.86,108.86,0,0,0,49.69,55.07,108,108,0,0,0,136,228a107.09,107.09,0,0,0,64.93-21.69,108.86,108.86,0,0,0,38.44-54.94A12,12,0,0,0,236.37,139.4Zm-49.88,47.74A84,84,0,0,1,68.86,69.51,84.93,84.93,0,0,1,92.27,48.29Q92,52.13,92,56A108.12,108.12,0,0,0,200,164q3.87,0,7.71-.27A84.79,84.79,0,0,1,186.49,187.14Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\n      \"path\",\n      {\n        d: \"M227.89,147.89A96,96,0,1,1,108.11,28.11,96.09,96.09,0,0,0,227.89,147.89Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ e.createElement(\"path\", { d: \"M233.54,142.23a8,8,0,0,0-8-2,88.08,88.08,0,0,1-109.8-109.8,8,8,0,0,0-10-10,104.84,104.84,0,0,0-52.91,37A104,104,0,0,0,136,224a103.09,103.09,0,0,0,62.52-20.88,104.84,104.84,0,0,0,37-52.91A8,8,0,0,0,233.54,142.23ZM188.9,190.34A88,88,0,0,1,65.66,67.11a89,89,0,0,1,31.4-26A106,106,0,0,0,96,56,104.11,104.11,0,0,0,200,160a106,106,0,0,0,14.92-1.06A89,89,0,0,1,188.9,190.34Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M235.54,150.21a104.84,104.84,0,0,1-37,52.91A104,104,0,0,1,32,120,103.09,103.09,0,0,1,52.88,57.48a104.84,104.84,0,0,1,52.91-37,8,8,0,0,1,10,10,88.08,88.08,0,0,0,109.8,109.8,8,8,0,0,1,10,10Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M232.13,143.64a6,6,0,0,0-6-1.49A90.07,90.07,0,0,1,113.86,29.85a6,6,0,0,0-7.49-7.48A102.88,102.88,0,0,0,54.48,58.68,102,102,0,0,0,197.32,201.52a102.88,102.88,0,0,0,36.31-51.89A6,6,0,0,0,232.13,143.64Zm-42,48.29a90,90,0,0,1-126-126A90.9,90.9,0,0,1,99.65,37.66,102.06,102.06,0,0,0,218.34,156.35,90.9,90.9,0,0,1,190.1,191.93Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M233.54,142.23a8,8,0,0,0-8-2,88.08,88.08,0,0,1-109.8-109.8,8,8,0,0,0-10-10,104.84,104.84,0,0,0-52.91,37A104,104,0,0,0,136,224a103.09,103.09,0,0,0,62.52-20.88,104.84,104.84,0,0,0,37-52.91A8,8,0,0,0,233.54,142.23ZM188.9,190.34A88,88,0,0,1,65.66,67.11a89,89,0,0,1,31.4-26A106,106,0,0,0,96,56,104.11,104.11,0,0,0,200,160a106,106,0,0,0,14.92-1.06A89,89,0,0,1,188.9,190.34Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M230.72,145.06a4,4,0,0,0-4-1A92.08,92.08,0,0,1,111.94,29.27a4,4,0,0,0-5-5A100.78,100.78,0,0,0,56.08,59.88a100,100,0,0,0,140,140,100.78,100.78,0,0,0,35.59-50.87A4,4,0,0,0,230.72,145.06ZM191.3,193.53A92,92,0,0,1,62.47,64.7a93,93,0,0,1,39.88-30.35,100.09,100.09,0,0,0,119.3,119.3A93,93,0,0,1,191.3,193.53Z\" }))\n  ]\n]);\nexport {\n  a as default\n};\n","import * as o from \"react\";\nimport n from \"../lib/IconBase.es.js\";\nimport a from \"../defs/Moon.es.js\";\nconst e = o.forwardRef((r, t) => /* @__PURE__ */ o.createElement(n, { ref: t, ...r, weights: a }));\ne.displayName = \"MoonIcon\";\nconst s = e;\nexport {\n  s as Moon,\n  e as MoonIcon\n};\n","'use client';\nimport { useApp } from '@/context/AppContext';\nimport { ChatCircleDots, Moon, SignOut } from '@phosphor-icons/react';\nimport { usePathname, useRouter } from 'next/navigation';\n\nexport default function Topbar() {\n    const { currentUser, isSuperAdmin, logout } = useApp();\n    const router = useRouter();\n    const pathname = usePathname();\n\n    // Determine title based on path\n    const getTitle = () => {\n        if (pathname === '/dashboard') return isSuperAdmin ? 'GLOBAL DASHBOARD' : 'DASHBOARD';\n        if (pathname.includes('/analytics')) return 'ANALÍTICA';\n        if (pathname.includes('/repository')) return 'REPOSITORIO';\n        if (pathname.includes('/chat')) return 'MENSAJES';\n        if (pathname.includes('/cases')) return 'TRÁMITES';\n        if (pathname.includes('/workflows')) return 'FLUJOS';\n        if (pathname.includes('/surveys')) return 'ENCUESTAS';\n        if (pathname.includes('/admin')) return 'ADMINISTRACIÓN';\n        if (pathname.includes('/profile')) return 'MI PERFIL';\n        return 'DASHBOARD';\n    };\n\n    const toggleDark = () => {\n        document.body.classList.toggle('dark');\n    };\n\n    return (\n        <header className=\"topbar\">\n            <h2 id=\"page-title\" style={{ fontSize: 18, fontWeight: 600 }}>{getTitle()}</h2>\n            <div style={{ display: 'flex', alignItems: 'center', gap: 16 }}>\n                {isSuperAdmin && <span className=\"badge bg-super\">SUPER ADMIN</span>}\n                {!isSuperAdmin && currentUser?.level === 1 && <span className=\"badge bg-warning\">ADMIN</span>}\n\n                <button className=\"btn btn-ghost\" style={{ padding: 8, position: 'relative' }} onClick={() => router.push('/dashboard/chat')}>\n                    <ChatCircleDots size={20} />\n                    <span className=\"nav-badge\" style={{ top: 8, right: 6, width: 8, height: 8, padding: 0, display: 'block' }}></span>\n                </button>\n\n                <button className=\"btn btn-ghost\" style={{ padding: 8 }} onClick={toggleDark}>\n                    <Moon size={20} />\n                </button>\n\n                <button className=\"btn btn-ghost\" onClick={logout} title=\"Salir\">\n                    <SignOut size={20} />\n                </button>\n            </div>\n        </header>\n    );\n}\n","'use client';\nimport { useUI } from '@/context/UIContext';\nimport { useApp } from '@/context/AppContext';\nimport { DB } from '@/lib/data';\nimport { X, PaperPlaneRight } from '@phosphor-icons/react';\nimport { useState, useEffect, KeyboardEvent } from 'react';\n\ntype ContextChatMessage = { text: string; type: string };\n\nexport default function SlideOver() {\n    const { isSlideOpen, slideType, slideData, closeSlide, openViewer } = useUI();\n    const { currentUser } = useApp();\n    const [activeTab, setActiveTab] = useState<'detail' | 'chat'>('detail');\n    const [chatMsgs, setChatMsgs] = useState<ContextChatMessage[]>([]);\n    const [chatInput, setChatInput] = useState('');\n    const [forceUpdate, setForceUpdate] = useState(0);\n\n    // Reset tab when opening\n    useEffect(() => {\n        if (isSlideOpen) {\n            setActiveTab('detail');\n            if (slideData && slideData.id) {\n                if (!DB.contextChats[slideData.id]) {\n                    DB.contextChats[slideData.id] = [{ text: `Sistema: Contexto ${slideType} creado`, type: 'system' }];\n                }\n                setChatMsgs(DB.contextChats[slideData.id]);\n            }\n        }\n    }, [isSlideOpen, slideData, slideType]);\n\n    const sendContextMessage = () => {\n        if (!chatInput.trim() || !slideData) return;\n\n        const newMsg: ContextChatMessage = { text: chatInput, type: 'self' }; // In real app, user ID\n        DB.contextChats[slideData.id].push(newMsg);\n        setChatMsgs([...DB.contextChats[slideData.id]]);\n        setChatInput('');\n    };\n\n    const handleKey = (e: KeyboardEvent) => {\n        if (e.key === 'Enter') sendContextMessage();\n    };\n\n    const renderDetail = () => {\n        if (!slideData) return null;\n        const { id, title } = slideData;\n\n        if (slideType === 'doc') {\n            const comments = DB.publicComments.filter(c => c.docId === id) || [];\n            return (\n                <div>\n                    <h2>{title}</h2>\n                    <button\n                        className=\"btn btn-primary\"\n                        style={{ width: '100%', margin: '10px 0' }}\n                        onClick={() => openViewer(title)}\n                    >\n                        Visualizar\n                    </button>\n                    <hr style={{ margin: '20px 0', border: 0, borderTop: '1px solid var(--border)' }} />\n                    <h4>Comentarios</h4>\n                    {comments.map((c, i) => (\n                        <div key={i} className=\"comment-item\" style={{ marginBottom: 10 }}>\n                            <strong>{c.authorName}</strong>: {c.content}\n                        </div>\n                    ))}\n                </div>\n            );\n        }\n\n        return (\n            <div>\n                <h2>{title}</h2>\n                <p>Detalle del contenido...</p>\n            </div>\n        );\n    };\n\n    return (\n        <>\n            <div\n                className=\"slide-overlay\"\n                style={{ display: isSlideOpen ? 'block' : 'none' }}\n                onClick={closeSlide}\n            ></div>\n\n            <div className={`slide-over ${isSlideOpen ? 'open' : ''}`} id=\"slide-panel\">\n                <div className=\"card-head\" style={{ background: 'white' }}>\n                    <h3 id=\"slide-title\" style={{ fontSize: 16 }}>\n                        {slideType === 'doc' ? 'Documento' : 'Trámite'}\n                    </h3>\n                    <button className=\"btn btn-ghost\" onClick={closeSlide}>\n                        <X size={20} />\n                    </button>\n                </div>\n\n                <div className=\"tabs\">\n                    <div\n                        className={`tab ${activeTab === 'detail' ? 'active' : ''}`}\n                        onClick={() => setActiveTab('detail')}\n                    >\n                        Info & Social\n                    </div>\n                    <div\n                        className={`tab ${activeTab === 'chat' ? 'active' : ''}`}\n                        onClick={() => setActiveTab('chat')}\n                    >\n                        Chat Privado <span className=\"badge bg-danger\" style={{ fontSize: 9 }}>Context</span>\n                    </div>\n                </div>\n\n                <div className=\"slide-content\" style={{ flex: 1, overflow: 'hidden', display: 'flex', flexDirection: 'column' }}>\n\n                    <div className=\"tab-pane\" style={{ display: activeTab === 'detail' ? 'block' : 'none', flex: 1, padding: 24, overflowY: 'auto' }}>\n                        {renderDetail()}\n                    </div>\n\n                    <div className=\"chat-pane\" style={{ display: activeTab === 'chat' ? 'flex' : 'none', flexDirection: 'column', height: '100%', padding: 0 }}>\n                        <div className=\"messages-area\" style={{ flex: 1, padding: 20 }}>\n                            {chatMsgs.map((m, i) => (\n                                <div key={i} className={`message ${m.type === 'system' ? 'msg-system' : 'msg-self'}`}>\n                                    {m.text}\n                                </div>\n                            ))}\n                        </div>\n                        <div className=\"chat-input\" style={{ padding: 12, borderTop: '1px solid var(--border)' }}>\n                            <input\n                                type=\"text\"\n                                value={chatInput}\n                                onChange={(e) => setChatInput(e.target.value)}\n                                placeholder=\"Escribe un mensaje...\"\n                                onKeyPress={handleKey}\n                            />\n                            <button className=\"btn btn-primary btn-icon\" onClick={sendContextMessage}>\n                                <PaperPlaneRight />\n                            </button>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </>\n    );\n}\n","'use client';\nimport { useUI } from '@/context/UIContext';\n\nexport default function DocViewer() {\n    const { isViewerOpen, viewerTitle, closeViewer } = useUI();\n\n    return (\n        <div\n            className=\"doc-viewer-overlay\"\n            style={{ display: isViewerOpen ? 'flex' : 'none' }}\n        >\n            <div className=\"doc-viewer-window\">\n                <div className=\"doc-viewer-header\" style={{ background: '#1e293b', color: 'white', height: 50, display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '0 20px' }}>\n                    <span style={{ fontWeight: 500 }}>{viewerTitle || 'Documento.pdf'}</span>\n                    <button className=\"btn btn-primary\" onClick={closeViewer}>Cerrar</button>\n                </div>\n                <div className=\"doc-viewer-body\" style={{ background: '#64748b', flex: 1, overflow: 'auto', display: 'flex', justifyContent: 'center', padding: 40 }}>\n                    <div className=\"sim-pdf-page\">\n                        <h1 style={{ textAlign: 'center' }}>{viewerTitle}</h1>\n                        <hr />\n                        <p>Vista previa simulada...</p>\n                        <p className=\"mt-4\">\n                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","'use client';\nimport Sidebar from '@/components/Sidebar';\nimport Topbar from '@/components/Topbar';\nimport SlideOver from '@/components/SlideOver';\nimport DocViewer from '@/components/DocViewer';\nimport { useApp } from '@/context/AppContext';\nimport { useRouter } from 'next/navigation';\nimport { useEffect } from 'react';\nimport { Warning } from '@phosphor-icons/react';\nimport UserTour from '@/components/onboarding/UserTour';\n\nexport default function DashboardLayout({\n    children,\n}: {\n    children: React.ReactNode;\n}) {\n    const { currentUser, originalSession, stopImpersonation, updateUser } = useApp();\n    const router = useRouter();\n\n    useEffect(() => {\n        // Basic protection - if not logged in, go to home\n        // In a real app we'd wait for loading state, but here currentUser is sync after login\n        // However, on refresh, currentUser is wiped because it's in-memory.\n        // For this prototype, we'll redirect if null.\n        if (!currentUser) router.push('/');\n    }, [currentUser, router]);\n\n    if (!currentUser) return null;\n\n    return (\n        <div className=\"flex flex-col h-screen overflow-hidden\">\n            {originalSession && (\n                <div className=\"bg-amber-400 text-amber-900 px-4 py-2 text-xs font-bold flex items-center justify-between shadow-sm z-[100]\">\n                    <div className=\"flex items-center gap-2\">\n                        <Warning weight=\"fill\" size={18} />\n                        <span className=\"uppercase tracking-wide\">Support Mode: Impersonating {currentUser.name}</span>\n                    </div>\n                    <button onClick={stopImpersonation} className=\"bg-white/20 hover:bg-white/40 px-3 py-1 rounded text-[10px] uppercase font-bold transition-colors flex items-center gap-1\">\n                        Exit Support\n                    </button>\n                </div>\n            )}\n            <div style={{ display: 'flex', flex: 1, overflow: 'hidden' }}>\n                <Sidebar />\n                <main style={{ flex: 1, display: 'flex', flexDirection: 'column', overflow: 'hidden', position: 'relative' }}>\n                    <Topbar />\n                    <div className=\"content\">\n                        {children}\n                    </div>\n                </main>\n                <SlideOver />\n                <DocViewer />\n            </div>\n            <UserTour />\n\n            {/* Force Password Change */}\n            {currentUser.mustChangePassword && !originalSession && (\n                <div className=\"fixed inset-0 bg-slate-900/90 z-[200] flex items-center justify-center p-4 backdrop-blur-sm\">\n                    <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden p-8 text-center\">\n                        <div className=\"w-16 h-16 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                            <Warning size={32} weight=\"fill\" />\n                        </div>\n                        <h2 className=\"text-2xl font-bold text-slate-800 mb-2\">Security Update Required</h2>\n                        <p className=\"text-slate-600 mb-6\">For your security, you must update your password before proceeding.</p>\n\n                        <form onSubmit={(e) => {\n                            e.preventDefault();\n                            updateUser({ mustChangePassword: false });\n                            alert('Password updated successfully.');\n                        }} className=\"space-y-4 text-left\">\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-500 mb-1\">New Password</label>\n                                <input type=\"password\" required className=\"w-full px-4 py-2 border rounded-lg\" placeholder=\"••••••••\" />\n                            </div>\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-500 mb-1\">Confirm Password</label>\n                                <input type=\"password\" required className=\"w-full px-4 py-2 border rounded-lg\" placeholder=\"••••••••\" />\n                            </div>\n                            <button className=\"btn btn-primary w-full justify-center\">Update Password</button>\n                        </form>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n","'use client';\n\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { useApp } from '@/context/AppContext';\nimport { createPortal } from 'react-dom';\nimport { X, CaretRight, CaretLeft, Check } from '@phosphor-icons/react';\n\ninterface TourStep {\n    id: string;\n    title: string;\n    content: string;\n    targetId?: string; // If undefined, show centered modal\n    placement?: 'right' | 'left' | 'top' | 'bottom' | 'center';\n}\n\nexport default function UserTour() {\n    const { currentUser, isSuperAdmin, currentTenant } = useApp();\n    const [isVisible, setIsVisible] = useState(false);\n    const [currentStep, setCurrentStep] = useState(0);\n    const [targetRect, setTargetRect] = useState<DOMRect | null>(null);\n\n    // Initial Check\n    useEffect(() => {\n        if (!currentUser) return;\n        const tourKey = `tour_completed_${currentUser.id}_v3`; // v3 versioning\n        const hasCompleted = localStorage.getItem(tourKey);\n\n        if (!hasCompleted) {\n            // Small delay to ensure UI renders\n            const timer = setTimeout(() => {\n                setIsVisible(true);\n            }, 1000);\n            return () => clearTimeout(timer);\n        }\n    }, [currentUser]);\n\n    // Define Steps based on Role\n    const steps: TourStep[] = useMemo(() => {\n        const commonSteps: TourStep[] = [\n            {\n                id: 'welcome',\n                title: `Bienvenido a ${currentTenant?.name || 'la Plataforma'}`,\n                content: 'Te damos la bienvenida a tu nuevo espacio de trabajo. Acompáñanos en un breve recorrido para conocer las herramientas principales.',\n                placement: 'center'\n            }\n        ];\n\n        let roleSteps: TourStep[] = [];\n\n        if (isSuperAdmin) {\n            roleSteps = [\n                {\n                    id: 'nav-platform',\n                    title: 'Gestión Global',\n                    content: 'Aquí tienes acceso total a todos los Tenants, Usuarios y Configuraciones de la plataforma.',\n                    targetId: 'nav-item--dashboard', // Points to Dashboard/Global\n                    placement: 'right'\n                },\n                {\n                    id: 'nav-tenants',\n                    title: 'Tenants',\n                    content: 'Administra las organizaciones y sus suscripciones desde aquí.',\n                    targetId: 'nav-item--dashboard-tenants',\n                    placement: 'right'\n                },\n                {\n                    id: 'nav-users-global',\n                    title: 'Usuarios y Permisos',\n                    content: 'Control de acceso y roles a nivel global.',\n                    targetId: 'nav-item--dashboard-admin-users',\n                    placement: 'right'\n                }\n            ];\n        } else {\n            // --- Tenant User (Admin or Regular) ---\n\n            // 1. Dashboard (Always available if enabled or default)\n            if (currentTenant?.features?.includes('DASHBOARD')) {\n                roleSteps.push({\n                    id: 'nav-dashboard',\n                    title: 'Tu Panel de Control',\n                    content: 'Visualiza indicadores clave y el estado general de tu organización.',\n                    targetId: 'nav-item--dashboard',\n                    placement: 'right'\n                });\n            }\n\n            // 2. Chat\n            if (currentTenant?.features?.includes('CHAT')) {\n                roleSteps.push({\n                    id: 'nav-chat',\n                    title: 'Mensajería y Colaboración',\n                    content: 'Comunícate en tiempo real con tu equipo y crea grupos de trabajo.',\n                    targetId: 'nav-item--dashboard-chat',\n                    placement: 'right'\n                });\n            }\n\n            // 3. Repository\n            if (currentTenant?.features?.includes('REPOSITORY')) {\n                roleSteps.push({\n                    id: 'nav-repo',\n                    title: 'Repositorio Documental',\n                    content: 'Centraliza y gestiona todos los documentos importantes de tu organización.',\n                    targetId: 'nav-item--dashboard-repository',\n                    placement: 'right'\n                });\n            }\n\n            // 4. Workflows / Projects\n            if (currentTenant?.features?.includes('WORKFLOWS')) {\n                roleSteps.push({\n                    id: 'nav-workflows',\n                    title: 'Proyectos y Flujos',\n                    content: 'Organiza tus proyectos, tareas y entregables en un solo lugar.',\n                    targetId: 'nav-item--dashboard-workflows',\n                    placement: 'right'\n                });\n            }\n\n            // 5. Analytics\n            if (currentTenant?.features?.includes('ANALYTICS')) {\n                roleSteps.push({\n                    id: 'nav-analytics',\n                    title: 'Analítica Avanzada',\n                    content: 'Explora datos y reportes detallados para la toma de decisiones.',\n                    targetId: 'nav-item--dashboard-analytics',\n                    placement: 'right'\n                });\n            }\n\n            // 6. Surveys\n            if (currentTenant?.features?.includes('SURVEYS')) {\n                roleSteps.push({\n                    id: 'nav-surveys',\n                    title: 'Encuestas y Evaluaciones',\n                    content: 'Gestiona clima laboral, evaluaciones de madurez y formularios.',\n                    targetId: 'nav-item--dashboard-surveys',\n                    placement: 'right'\n                });\n            }\n\n            // 7. Admin / Manager Steps\n            if (currentUser?.level !== undefined && currentUser.level <= 2) {\n                roleSteps.push({\n                    id: 'nav-admin',\n                    title: 'Administración',\n                    content: 'Configura unidades, roles, usuarios y parámetros de tu Tenant.',\n                    targetId: 'nav-item--dashboard-admin',\n                    placement: 'right'\n                });\n            }\n\n            // 8. Department Management (Manager+)\n            if (currentUser?.level !== undefined && currentUser.level <= 2) {\n                roleSteps.push({\n                    id: 'nav-units',\n                    title: 'Estructura Organizacional',\n                    content: 'Define y gestiona las unidades y jerarquías de tu empresa.',\n                    targetId: 'nav-item--dashboard-admin-units',\n                    placement: 'right'\n                });\n            }\n        }\n\n        const finalSteps: TourStep[] = [\n            ...commonSteps,\n            ...roleSteps,\n            {\n                id: 'profile',\n                title: 'Tu Perfil',\n                content: 'Accede a tus preferencias personales, cambio de contraseña y cierre de sesión.',\n                targetId: 'u-avatar', // Assuming avatar has this ID or class\n                placement: 'top' // Usually at bottom sidebar\n            },\n            {\n                id: 'finish',\n                title: '¡Todo listo!',\n                content: 'Ya estás preparado para comenzar. Si tienes dudas, busca el icono de ayuda.',\n                placement: 'center' // Use explicit center placement\n            }\n        ];\n\n        return finalSteps;\n    }, [currentUser, isSuperAdmin, currentTenant]);\n\n    // Update Rect on Step Change\n    useEffect(() => {\n        if (!isVisible) return;\n\n        const step = steps[currentStep];\n        if (!step) return;\n\n        if (step.targetId) {\n            const el = document.getElementById(step.targetId);\n            if (el) {\n                setTargetRect(el.getBoundingClientRect());\n                // Scroll into view if needed\n                el.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            } else {\n                // Determine fallback behavior if element not found. \n                // For now, let's just default to null rect -> render centered as fallback?\n                // Or try finding it again in a loop?\n                // Actually, if we can't find it, maybe skip?\n                console.warn(`Tour target ${step.targetId} not found, centering.`);\n                setTargetRect(null);\n            }\n        } else {\n            setTargetRect(null);\n        }\n    }, [currentStep, isVisible, steps]);\n\n    // Handle Resize\n    useEffect(() => {\n        const handleResize = () => {\n            const step = steps[currentStep];\n            if (step?.targetId) {\n                const el = document.getElementById(step.targetId);\n                if (el) setTargetRect(el.getBoundingClientRect());\n            }\n        };\n        window.addEventListener('resize', handleResize);\n        window.addEventListener('scroll', handleResize, true);\n        return () => {\n            window.removeEventListener('resize', handleResize);\n            window.removeEventListener('scroll', handleResize, true);\n        };\n    }, [currentStep, steps]);\n\n    const handleNext = () => {\n        if (currentStep < steps.length - 1) {\n            setCurrentStep(prev => prev + 1);\n        } else {\n            finishTour();\n        }\n    };\n\n    const handlePrev = () => {\n        if (currentStep > 0) {\n            setCurrentStep(prev => prev - 1);\n        }\n    };\n\n    const finishTour = () => {\n        if (currentUser) {\n            localStorage.setItem(`tour_completed_${currentUser.id}_v3`, 'true');\n        }\n        setIsVisible(false);\n    };\n\n    if (!isVisible) return null;\n\n    const step = steps[currentStep];\n    if (!step) return null;\n\n    // Helper for Popover Position\n    const getPopoverStyle = () => {\n        if (!targetRect || step.placement === 'center' || !step.targetId) {\n            return {\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                maxWidth: '450px',\n                width: '90%'\n            };\n        }\n\n        const gap = 16;\n        const styles: React.CSSProperties = { position: 'absolute', maxWidth: '350px' };\n\n        // Simple positioning logic\n        if (step.placement === 'right') {\n            styles.top = targetRect.top + (targetRect.height / 2) - 100; // Offset up slightly for balance\n            styles.left = targetRect.right + gap;\n        } else if (step.placement === 'bottom') {\n            styles.top = targetRect.bottom + gap;\n            styles.left = targetRect.left + (targetRect.width / 2) - 175;\n        } else if (step.placement === 'top') { // Sidebar profile is at bottom\n            styles.bottom = window.innerHeight - targetRect.top + gap;\n            styles.left = targetRect.left;\n        }\n\n        // Boundary checks would be good here but keeping simple\n        return styles;\n    };\n\n    return createPortal(\n        <div className=\"fixed inset-0 z-[9999] overflow-hidden\">\n            {/* 1. Backdrop with Hole (Box Shadow Method) */}\n            {/* If target exists, we draw a huge shadow around a transparent div placed over the target */}\n            {targetRect && step.placement !== 'center' ? (\n                <div\n                    className=\"absolute bg-transparent transition-all duration-500 ease-in-out box-content border-4 border-blue-500/50 rounded-lg\"\n                    style={{\n                        top: targetRect.top - 4,\n                        left: targetRect.left - 4,\n                        width: targetRect.width,\n                        height: targetRect.height,\n                        boxShadow: '0 0 0 9999px rgba(0, 0, 0, 0.75)'\n                    }}\n                >\n                    {/* Optional Pulse Effect */}\n                    <div className=\"absolute inset-0 rounded-lg animate-ping bg-blue-500/30\"></div>\n                </div>\n            ) : (\n                // Full Backdrop for Center Modal\n                <div className=\"absolute inset-0 bg-black/75 backdrop-blur-sm transition-opacity duration-500\"></div>\n            )}\n\n            {/* 2. Popover Content */}\n            <div\n                className=\"absolute z-[10000] bg-white rounded-2xl shadow-2xl overflow-hidden transition-all duration-500 ease-out border border-white/20\"\n                style={getPopoverStyle() as any}\n            >\n                {/* Header Graphic for Welcome */}\n                {step.placement === 'center' && currentStep === 0 && (\n                    <div className=\"h-32 bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center relative overflow-hidden\">\n                        <div className=\"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20\"></div>\n                        <div className=\"text-6xl text-white opacity-20 absolute -bottom-4 -right-4 rotate-12\">👋</div>\n                    </div>\n                )}\n\n                <div className=\"p-6\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                        <h3 className=\"text-xl font-bold text-slate-800 leading-tight\">\n                            {currentStep + 1}. {step.title}\n                        </h3>\n                        <button onClick={finishTour} className=\"text-slate-400 hover:text-slate-600 transition-colors\">\n                            <X size={20} />\n                        </button>\n                    </div>\n\n                    <p className=\"text-slate-600 mb-8 leading-relaxed text-sm\">\n                        {step.content}\n                    </p>\n\n                    <div className=\"flex justify-between items-center pt-4 border-t border-slate-100 mt-auto\">\n                        <div className=\"flex gap-1\">\n                            {steps.map((_, i) => (\n                                <div key={i} className={`h-1.5 rounded-full transition-all duration-300 ${i === currentStep ? 'w-6 bg-blue-600' : 'w-1.5 bg-slate-200'}`}></div>\n                            ))}\n                        </div>\n\n                        <div className=\"flex gap-3\">\n                            {currentStep > 0 && (\n                                <button\n                                    onClick={handlePrev}\n                                    className=\"px-4 py-2 text-slate-500 font-bold text-sm hover:text-slate-800 transition-colors\"\n                                >\n                                    Atrás\n                                </button>\n                            )}\n                            <button\n                                onClick={handleNext}\n                                className=\"px-5 py-2 bg-blue-600 text-white rounded-lg font-bold text-sm hover:bg-blue-700 hover:shadow-lg hover:shadow-blue-500/30 transition-all flex items-center gap-2\"\n                            >\n                                {currentStep === steps.length - 1 ? 'Finalizar' : 'Siguiente'}\n                                {currentStep === steps.length - 1 ? <Check weight=\"bold\" /> : <CaretRight weight=\"bold\" />}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>,\n        document.body\n    );\n}\n"],"names":[],"mappings":"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","ignoreList":[1,2,3,4,5,6,7,8,9,10]}