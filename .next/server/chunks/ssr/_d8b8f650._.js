module.exports=[27964,a=>{"use strict";var b=a.i(72131),c=a.i(60217);let d=new Map([["bold",b.createElement(b.Fragment,null,b.createElement("path",{d:"M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"}))],["duotone",b.createElement(b.Fragment,null,b.createElement("path",{d:"M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z",opacity:"0.2"}),b.createElement("path",{d:"M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"}))],["fill",b.createElement(b.Fragment,null,b.createElement("path",{d:"M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"}))],["light",b.createElement(b.Fragment,null,b.createElement("path",{d:"M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"}))],["regular",b.createElement(b.Fragment,null,b.createElement("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"}))],["thin",b.createElement(b.Fragment,null,b.createElement("path",{d:"M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"}))]]),e=b.forwardRef((a,e)=>b.createElement(c.default,{ref:e,...a,weights:d}));e.displayName="MagnifyingGlassIcon",a.s(["MagnifyingGlass",()=>e],27964)},20037,a=>{"use strict";var b=a.i(87924),c=a.i(98263),d=a.i(82665),e=a.i(27964),f=a.i(76799),g=a.i(72131);function h(){let{impersonateUser:a}=(0,c.useApp)(),[h,i]=(0,g.useState)(""),[j,k]=(0,g.useState)(null),[l,m]=(0,g.useState)(""),n=(0,g.useMemo)(()=>{if(!h||h.length<2)return[];let a=h.toLowerCase();return d.DB.users.filter(b=>b.name.toLowerCase().includes(a)||b.email&&b.email.toLowerCase().includes(a)||b.id.toLowerCase().includes(a)).slice(0,20)},[h]);return(0,b.jsxs)("div",{className:"p-8 max-w-5xl mx-auto",children:[(0,b.jsxs)("header",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Support Helper"}),(0,b.jsx)("p",{className:"text-slate-500",children:"Find users and access their accounts securely to troubleshoot issues."})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm mb-8",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Find User"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.MagnifyingGlass,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:24}),(0,b.jsx)("input",{className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-lg text-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all outline-none",placeholder:"Search by name, email, or user ID...",value:h,onChange:a=>i(a.target.value),autoFocus:!0})]}),(0,b.jsx)("div",{className:"mt-2 text-xs text-slate-400 pl-1",children:"Showing top 20 matches."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[n.map(a=>{let c=d.DB.tenants.find(b=>b.id===a.tenantId);return(0,b.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-slate-200 flex items-center justify-between hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center text-lg font-bold text-slate-500",children:a.initials}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold text-slate-900",children:a.name}),(0,b.jsxs)("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-mono bg-slate-100 px-1 rounded",children:a.email||"No Email"}),(0,b.jsx)("span",{children:"•"}),(0,b.jsx)("span",{className:"text-indigo-600 font-medium",children:c?.name||a.tenantId}),(0,b.jsx)("span",{children:"•"}),(0,b.jsx)("span",{className:"capitalize",children:a.role})]})]})]}),(0,b.jsxs)("button",{onClick:()=>k(a),className:"bg-indigo-50 text-indigo-700 hover:bg-indigo-100 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-colors",children:[(0,b.jsx)(f.UserSwitch,{size:20})," Access"]})]},a.id)}),0===n.length&&h.length>=2&&(0,b.jsxs)("div",{className:"text-center py-12 text-slate-400 bg-slate-50 rounded-xl border border-dashed border-slate-200",children:['No users found matching "',h,'".']})]}),j&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:(0,b.jsxs)("div",{className:"bg-white max-w-md w-full rounded-2xl shadow-2xl overflow-hidden animate-scaleIn",children:[(0,b.jsx)("div",{className:"bg-amber-400 p-4 flex items-center justify-center",children:(0,b.jsx)(f.UserSwitch,{size:48,className:"text-amber-900 opacity-50"})}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-900 mb-2 text-center",children:"Confirm Access"}),(0,b.jsxs)("p",{className:"text-sm text-slate-600 text-center mb-6",children:["You are about to log in as ",(0,b.jsx)("strong",{children:j.name}),".",(0,b.jsx)("br",{}),"All actions performed will be audited."]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Reason for Access (Required)"}),(0,b.jsx)("textarea",{className:"w-full border border-slate-200 rounded-lg p-3 text-sm focus:border-indigo-500 outline-none",rows:3,placeholder:"e.g. Ticket #1024 - Unable to upload file",value:l,onChange:a=>m(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{k(null),m("")},className:"flex-1 py-3 font-bold text-slate-500 hover:bg-slate-50 rounded-xl",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{j&&l&&a(j.id,j.tenantId)},disabled:!l.trim(),className:"flex-1 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-500/20",children:"Start Session"})]})]})]})})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=_d8b8f650._.js.map