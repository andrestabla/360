(()=>{var e={};e.id=8512,e.ids=[745,8512],e.modules={32325:e=>{"use strict";e.exports=require("jsdom")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},80222:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>s.default,__next_app__:()=>d,pages:()=>o,routeModule:()=>m,tree:()=>c});var r=a(70260),l=a(28203),s=a(42877),n=a(67292),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);a.d(t,i);let c=["",{children:["dashboard",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,82208)),"/Users/andrestabla/.gemini/antigravity/scratch/project_24122025/360/app/dashboard/chat/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,83748)),"/Users/andrestabla/.gemini/antigravity/scratch/project_24122025/360/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,19611)),"/Users/andrestabla/.gemini/antigravity/scratch/project_24122025/360/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(a.bind(a,42877)),"/Users/andrestabla/.gemini/antigravity/scratch/project_24122025/360/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,61129)),"/Users/andrestabla/.gemini/antigravity/scratch/project_24122025/360/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/Users/andrestabla/.gemini/antigravity/scratch/project_24122025/360/app/dashboard/chat/page.tsx"],d={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/dashboard/chat/page",pathname:"/dashboard/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27395:(e,t,a)=>{Promise.resolve().then(a.bind(a,82208))},93051:(e,t,a)=>{Promise.resolve().then(a.bind(a,3917))},3917:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Y});var r=a(45512),l=a(58009),s=a(81079),n=a(70745),i=a(60349);let c=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M225.81,74.65A11.86,11.86,0,0,1,220.3,76a12,12,0,0,1-10.67-6.47,90.1,90.1,0,0,0-32-35.38,12,12,0,1,1,12.8-20.29,115.25,115.25,0,0,1,40.54,44.62A12,12,0,0,1,225.81,74.65ZM46.37,69.53a90.1,90.1,0,0,1,32-35.38A12,12,0,1,0,65.6,13.86,115.25,115.25,0,0,0,25.06,58.48a12,12,0,0,0,5.13,16.17A11.86,11.86,0,0,0,35.7,76,12,12,0,0,0,46.37,69.53Zm173.51,98.35A20,20,0,0,1,204,200H171.81a44,44,0,0,1-87.62,0H52a20,20,0,0,1-15.91-32.12c7.17-9.33,15.73-26.62,15.88-55.94A76,76,0,0,1,204,112C204.15,141.26,212.71,158.55,219.88,167.88ZM147.6,200H108.4a20,20,0,0,0,39.2,0Zm48.74-24c-8.16-13-16.19-33.57-16.34-63.94A52,52,0,1,0,76,112c-.15,30.42-8.18,51-16.34,64Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M208,192H48a8,8,0,0,1-6.88-12C47.71,168.6,56,147.81,56,112a72,72,0,0,1,144,0c0,35.82,8.3,56.6,14.9,68A8,8,0,0,1,208,192Z",opacity:"0.2"}),l.createElement("path",{d:"M224,71.1a8,8,0,0,1-10.78-3.42,94.13,94.13,0,0,0-33.46-36.91,8,8,0,1,1,8.54-13.54,111.46,111.46,0,0,1,39.12,43.09A8,8,0,0,1,224,71.1ZM35.71,72a8,8,0,0,0,7.1-4.32A94.13,94.13,0,0,1,76.27,30.77a8,8,0,1,0-8.54-13.54A111.46,111.46,0,0,0,28.61,60.32,8,8,0,0,0,35.71,72Zm186.1,103.94A16,16,0,0,1,208,200H167.2a40,40,0,0,1-78.4,0H48a16,16,0,0,1-13.79-24.06C43.22,160.39,48,138.28,48,112a80,80,0,0,1,160,0C208,138.27,212.78,160.38,221.81,175.94ZM150.62,200H105.38a24,24,0,0,0,45.24,0ZM208,184c-10.64-18.27-16-42.49-16-72a64,64,0,0,0-128,0c0,29.52-5.38,53.74-16,72Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M224,71.1a8,8,0,0,1-10.78-3.42,94.13,94.13,0,0,0-33.46-36.91,8,8,0,1,1,8.54-13.54,111.46,111.46,0,0,1,39.12,43.09A8,8,0,0,1,224,71.1ZM35.71,72a8,8,0,0,0,7.1-4.32A94.13,94.13,0,0,1,76.27,30.77a8,8,0,1,0-8.54-13.54A111.46,111.46,0,0,0,28.61,60.32,8,8,0,0,0,35.71,72Zm186.1,103.94A16,16,0,0,1,208,200H167.2a40,40,0,0,1-78.4,0H48a16,16,0,0,1-13.79-24.06C43.22,160.39,48,138.28,48,112a80,80,0,0,1,160,0C208,138.27,212.78,160.38,221.81,175.94ZM150.62,200H105.38a24,24,0,0,0,45.24,0Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M223.05,69.33A6,6,0,0,1,215,66.76,96,96,0,0,0,180.8,29.08a6,6,0,0,1,6.4-10.15,109.26,109.26,0,0,1,38.41,42.31A6,6,0,0,1,223.05,69.33ZM41,66.76A96,96,0,0,1,75.2,29.08a6,6,0,0,0-6.4-10.15A109.26,109.26,0,0,0,30.39,61.24,6,6,0,1,0,41,66.76Zm179,110.18A14,14,0,0,1,208,198h-42.5a38,38,0,0,1-75,0H48a14,14,0,0,1-12.06-21.06C45.13,161.09,50,138.63,50,112a78,78,0,0,1,156,0C206,139,210.74,160.86,220.08,176.94ZM153.29,198H102.71a26,26,0,0,0,50.58,0Zm56.42-15C199.29,165,194,141.15,194,112a66,66,0,0,0-132,0c0,29.16-5.29,53-15.71,71a2,2,0,0,0,0,2,1.9,1.9,0,0,0,1.7,1H208a1.9,1.9,0,0,0,1.7-1A2,2,0,0,0,209.71,183Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M224,71.1a8,8,0,0,1-10.78-3.42,94.13,94.13,0,0,0-33.46-36.91,8,8,0,1,1,8.54-13.54,111.46,111.46,0,0,1,39.12,43.09A8,8,0,0,1,224,71.1ZM35.71,72a8,8,0,0,0,7.1-4.32A94.13,94.13,0,0,1,76.27,30.77a8,8,0,1,0-8.54-13.54A111.46,111.46,0,0,0,28.61,60.32,8,8,0,0,0,35.71,72Zm186.1,103.94A16,16,0,0,1,208,200H167.2a40,40,0,0,1-78.4,0H48a16,16,0,0,1-13.79-24.06C43.22,160.39,48,138.28,48,112a80,80,0,0,1,160,0C208,138.27,212.78,160.38,221.81,175.94ZM150.62,200H105.38a24,24,0,0,0,45.24,0ZM208,184c-10.64-18.27-16-42.49-16-72a64,64,0,0,0-128,0c0,29.52-5.38,53.74-16,72Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M222.13,67.55a3.94,3.94,0,0,1-1.84.45,4,4,0,0,1-3.55-2.16,99.41,99.41,0,0,0-34.87-38.46,4,4,0,1,1,4.26-6.76,107.34,107.34,0,0,1,37.71,41.54A4,4,0,0,1,222.13,67.55ZM39.26,65.84A99.41,99.41,0,0,1,74.13,27.38a4,4,0,0,0-4.26-6.76A107.34,107.34,0,0,0,32.16,62.16a4,4,0,0,0,1.71,5.39,3.94,3.94,0,0,0,1.84.45A4,4,0,0,0,39.26,65.84ZM218.36,178A12,12,0,0,1,208,196H163.77a36,36,0,0,1-71.54,0H48A12,12,0,0,1,37.64,178C47.17,161.56,52,139.37,52,112a76,76,0,0,1,152,0C204,139.36,208.83,161.55,218.36,178ZM155.71,196H100.29a28,28,0,0,0,55.42,0Zm55.73-14C201.19,164.34,196,140.79,196,112a68,68,0,0,0-136,0c0,28.8-5.19,52.34-15.44,70a4,4,0,0,0,0,4A3.89,3.89,0,0,0,48,188H208a3.89,3.89,0,0,0,3.43-2A4,4,0,0,0,211.44,182Z"}))]]),o=l.forwardRef((e,t)=>l.createElement(i.A,{ref:t,...e,weights:c}));o.displayName="BellRingingIcon";var d=a(82890);function m({sidebar:e,children:t}){let{currentUser:a}=(0,s.n)(),[n,i]=(0,l.useState)([]),c=e=>{i(t=>t.filter(t=>t.id!==e))};return(0,r.jsxs)("div",{className:"flex h-[calc(100vh-6rem)] bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100 relative",children:[(0,r.jsx)("aside",{className:"w-80 border-r border-gray-100 bg-gray-50/50 flex flex-col md:flex",children:e}),(0,r.jsx)("main",{className:"flex-1 flex flex-col min-w-0 bg-white relative",children:t}),(0,r.jsx)("div",{className:"absolute top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:n.map(e=>(0,r.jsxs)("div",{className:"pointer-events-auto w-80 bg-white rounded-lg shadow-xl border-l-4 border-blue-500 p-3 animate-in slide-in-from-right-5 fade-in duration-300 flex gap-3 items-start",children:[(0,r.jsx)("div",{className:"bg-blue-50 p-1.5 rounded-full text-blue-500 shrink-0 mt-0.5",children:(0,r.jsx)(o,{size:16,weight:"fill"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"font-bold text-xs text-gray-800",children:e.senderName||"Nuevo mensaje"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:"text"===e.body_type?e.body:`ðŸ“Ž Archivo adjunto`})]}),(0,r.jsx)("button",{onClick:()=>c(e.id),className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(d.X,{size:14})})]},e.id))})]})}var u=a(17400),h=a(64246);let g=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M236,128a108,108,0,0,1-216,0c0-42.52,24.73-81.34,63-98.9A12,12,0,1,1,93,50.91C63.24,64.57,44,94.83,44,128a84,84,0,0,0,168,0c0-33.17-19.24-63.43-49-77.09A12,12,0,1,1,173,29.1C211.27,46.66,236,85.48,236,128Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),l.createElement("path",{d:"M232,128a104,104,0,0,1-208,0c0-41,23.81-78.36,60.66-95.27a8,8,0,0,1,6.68,14.54C60.15,61.59,40,93.27,40,128a88,88,0,0,0,176,0c0-34.73-20.15-66.41-51.34-80.73a8,8,0,0,1,6.68-14.54C208.19,49.64,232,87,232,128Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,176A72,72,0,0,1,92,65.64a8,8,0,0,1,8,13.85,56,56,0,1,0,56,0,8,8,0,0,1,8-13.85A72,72,0,0,1,128,200Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M230,128a102,102,0,0,1-204,0c0-40.18,23.35-76.86,59.5-93.45a6,6,0,0,1,5,10.9C58.61,60.09,38,92.49,38,128a90,90,0,0,0,180,0c0-35.51-20.61-67.91-52.5-82.55a6,6,0,0,1,5-10.9C206.65,51.14,230,87.82,230,128Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M232,128a104,104,0,0,1-208,0c0-41,23.81-78.36,60.66-95.27a8,8,0,0,1,6.68,14.54C60.15,61.59,40,93.27,40,128a88,88,0,0,0,176,0c0-34.73-20.15-66.41-51.34-80.73a8,8,0,0,1,6.68-14.54C208.19,49.64,232,87,232,128Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M228,128a100,100,0,0,1-200,0c0-39.4,22.9-75.37,58.33-91.63a4,4,0,1,1,3.34,7.27C57.07,58.6,36,91.71,36,128a92,92,0,0,0,184,0c0-36.29-21.07-69.4-53.67-84.36a4,4,0,1,1,3.34-7.27C205.1,52.63,228,88.6,228,128Z"}))]]),x=l.forwardRef((e,t)=>l.createElement(i.A,{ref:t,...e,weights:g}));x.displayName="CircleNotchIcon";var p=a(19905),b=a(29534),f=a(79334),y=a(29278);function v({isOpen:e,onClose:t,onUserSelect:a}){let{currentUser:i}=(0,s.n)(),[c,o]=(0,l.useState)(""),[m,u]=(0,l.useState)([]),[h,g]=(0,l.useState)(!1),b=async e=>{g(!0);try{let t=await n.ChatService.searchUsers(e);u(t.filter(e=>e.id!==i?.id))}finally{g(!1)}};return e?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[(0,r.jsx)("h3",{className:"font-bold text-gray-800 text-lg",children:"Nueva Conversaci\xf3n"}),(0,r.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors text-gray-500",children:(0,r.jsx)(d.X,{size:20})})]}),(0,r.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.e,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,r.jsx)("input",{type:"text",className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-transparent rounded-xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all outline-none text-sm font-medium",placeholder:"Buscar personas...",value:c,onChange:e=>{let t=e.target.value;o(t),b(t)},autoFocus:!0})]})}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 custom-scrollbar",children:[h&&(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)(x,{size:24,className:"animate-spin text-blue-500"})}),!h&&0===m.length&&(0,r.jsx)("div",{className:"text-center py-8 text-gray-400",children:(0,r.jsx)("p",{className:"text-sm",children:"No se encontraron usuarios"})}),!h&&m.map(e=>(0,r.jsxs)("button",{onClick:()=>a(e.id),className:"w-full flex items-center gap-3 p-3 hover:bg-blue-50 rounded-xl transition-colors group text-left",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-600 flex items-center justify-center font-bold text-sm border border-white shadow-sm",children:e.initials}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-900 group-hover:text-blue-700",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:[e.role," â€¢ ",e.unit]})]}),(0,r.jsx)(y.y,{size:18,className:"text-gray-300 group-hover:text-blue-500 transition-colors"})]},e.id))]})]})}):null}var A=a(64385);function j({isOpen:e,onClose:t,onGroupCreate:a}){let{currentUser:i}=(0,s.n)(),[c,o]=(0,l.useState)(""),[m,u]=(0,l.useState)(""),[h,g]=(0,l.useState)([]),[b,f]=(0,l.useState)([]),[y,v]=(0,l.useState)(!1),j=async e=>{v(!0);try{let t=await n.ChatService.searchUsers(e);g(t.filter(e=>e.id!==i?.id))}finally{v(!1)}},Z=e=>{b.find(t=>t.id===e.id)?f(t=>t.filter(t=>t.id!==e.id)):f(t=>[...t,e])};return e?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden flex flex-col max-h-[85vh]",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[(0,r.jsx)("h3",{className:"font-bold text-gray-800 text-lg",children:"Nuevo Grupo"}),(0,r.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors text-gray-500",children:(0,r.jsx)(d.X,{size:20})})]}),(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Nombre del Grupo"}),(0,r.jsx)("input",{type:"text",className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:bg-white focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/10 transition-all outline-none",placeholder:"Ej. Proyecto Alpha",value:c,onChange:e=>o(e.target.value)})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.e,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,r.jsx)("input",{type:"text",className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:bg-white focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/10 transition-all outline-none text-sm",placeholder:"Buscar integrantes...",value:m,onChange:e=>{let t=e.target.value;u(t),j(t)}})]}),b.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:b.map(e=>(0,r.jsxs)("div",{className:"bg-indigo-50 text-indigo-700 px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 border border-indigo-100",children:[e.name,(0,r.jsx)("button",{onClick:()=>Z(e),className:"hover:text-indigo-900",children:(0,r.jsx)(d.X,{size:12})})]},e.id))})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-2 border-t border-gray-100 space-y-1 custom-scrollbar",children:[y&&(0,r.jsx)("div",{className:"flex justify-center py-4",children:(0,r.jsx)(x,{size:24,className:"animate-spin text-indigo-500"})}),!y&&h.map(e=>{let t=!!b.find(t=>t.id===e.id);return(0,r.jsxs)("button",{onClick:()=>Z(e),className:`w-full flex items-center gap-3 p-2 rounded-lg transition-colors group text-left
                                    ${t?"bg-indigo-50/50":"hover:bg-gray-50"}
                                `,children:[(0,r.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs shadow-sm transition-colors
                                    ${t?"bg-indigo-500 text-white":"bg-gray-100 text-gray-500"}
                                `,children:t?(0,r.jsx)(A.J,{size:14,weight:"bold"}):e.initials}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:`text-sm font-semibold ${t?"text-indigo-900":"text-gray-900"}`,children:e.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.role})]})]},e.id)})]}),(0,r.jsx)("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50 flex justify-end",children:(0,r.jsxs)("button",{disabled:!c.trim()||0===b.length,onClick:()=>{c.trim()&&0!==b.length&&a(c,b.map(e=>e.id))},className:`px-4 py-2 rounded-lg font-medium text-sm transition-all shadow-sm
                            ${c.trim()&&0!==b.length?"bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-md active:scale-95":"bg-gray-200 text-gray-400 cursor-not-allowed"}
                        `,children:["Crear Grupo (",b.length,")"]})})]})}):null}function Z(){let{currentUser:e,refreshUnreadCount:t}=(0,s.n)(),[a,i]=(0,l.useState)([]),[c,o]=(0,l.useState)(!0),[d,m]=(0,l.useState)(""),[g,y]=(0,l.useState)(!1),[A,Z]=(0,l.useState)(!1),[w,M]=(0,l.useState)(0),E=(0,f.useRouter)(),N=(0,f.useSearchParams)(),H=N.get("chatId"),C=(0,l.useCallback)(async()=>{if(e){o(!0);try{let t=(await n.ChatService.getConversations(e.id)).data.map(e=>e.id===H?{...e,unreadCount:0}:e);i(t)}catch(e){console.error(e)}finally{o(!1)}}},[e,w]),V=e=>{let a=new URLSearchParams(N);a.set("chatId",e.id),E.push(`/dashboard/chat?${a.toString()}`),i(t=>t.map(t=>t.id===e.id?{...t,unreadCount:0}:t)),t()},F=async t=>{if(e){y(!1);try{let a=await n.ChatService.createDM(e.id,t),r=a.data?.id;if(!r)throw Error("Failed to create chat");await C();let l=new URLSearchParams(N);l.set("chatId",r),E.push(`/dashboard/chat?${l.toString()}`)}catch(e){console.error(e),alert("Error creating chat")}}},S=async(t,a)=>{if(e){Z(!1);try{let r=await n.ChatService.createGroup(t,e.id,a),l=r.data?.id;if(!l)throw Error("Failed to create group");await C();let s=new URLSearchParams(N);s.set("chatId",l),E.push(`/dashboard/chat?${s.toString()}`)}catch(e){console.error(e)}}},[L,k]=(0,l.useState)(null),[_,D]=(0,l.useState)(!1),z=null!==L?L:a,B=e=>{if(!e)return"";let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/864e5);return 0===a?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):1===a?"Ayer":a<7?t.toLocaleDateString([],{weekday:"short"}):t.toLocaleDateString([],{month:"short",day:"numeric"})};return(0,r.jsxs)("div",{className:"flex flex-col h-full bg-white border-r border-gray-100",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-gray-100 bg-white/50 backdrop-blur-sm sticky top-0 z-10",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 tracking-tight",children:"Mensajes"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>Z(!0),className:"p-1.5 bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100 transition-colors",title:"Nuevo Grupo",children:(0,r.jsx)(u.n,{weight:"bold",size:18})}),(0,r.jsx)("button",{onClick:()=>y(!0),className:"p-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",title:"Nuevo Chat",children:(0,r.jsx)(h.F,{weight:"bold",size:18})}),c||_?(0,r.jsx)(x,{className:"animate-spin text-blue-500",size:20}):null]})]}),(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)(p.e,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors",size:16}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 border border-transparent rounded-xl text-sm focus:bg-white focus:border-blue-100 focus:ring-4 focus:ring-blue-500/10 transition-all outline-none placeholder-gray-400 font-medium",value:d,onChange:e=>m(e.target.value)})]})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1",children:[z.map(e=>(0,r.jsxs)("button",{onClick:()=>V(e),className:`w-full text-left p-3 rounded-xl transition-all duration-200 flex items-start gap-3 group relative
                            ${H===e.id?"bg-blue-50/50 shadow-sm ring-1 ring-blue-100":"hover:bg-gray-50"}
                        `,children:[(0,r.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center shrink-0 border-2 border-white shadow-sm ring-1 ring-black/5
                            ${"group"===e.type?"bg-indigo-100 text-indigo-600":"bg-gradient-to-br from-pink-100 to-rose-100 text-rose-600"}`,children:"group"===e.type?(0,r.jsx)(b.z,{weight:"bold",size:20}):(0,r.jsx)("span",{className:"text-sm font-bold",children:e.avatar})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 py-0.5",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-0.5",children:[(0,r.jsx)("h4",{className:`text-sm font-bold truncate ${H===e.id?"text-gray-900":"text-gray-700"}`,children:e.title}),(0,r.jsx)("span",{className:`text-[10px] font-medium ${e.unreadCount&&e.unreadCount>0?"text-blue-600":"text-gray-400"}`,children:B(e.last_message_at)})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("p",{className:`text-xs truncate max-w-[85%] ${e.unreadCount&&e.unreadCount>0?"text-gray-900 font-medium":"text-gray-500"}`,children:["dm"===e.type&&H!==e.id?"Tu: ":"",e.lastMessagePreview]}),void 0!=e.unreadCount&&e.unreadCount>0&&(0,r.jsx)("span",{className:"min-w-[18px] h-[18px] px-1 rounded-full bg-blue-600 text-white text-[10px] font-bold flex items-center justify-center shadow-sm shadow-blue-200",children:e.unreadCount})]})]})]},e.id)),!c&&!_&&0===z.length&&(0,r.jsx)("div",{className:"text-center py-10 opacity-50",children:(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No se encontraron conversaciones"})})]}),(0,r.jsx)(v,{isOpen:g,onClose:()=>y(!1),onUserSelect:F}),(0,r.jsx)(j,{isOpen:A,onClose:()=>Z(!1),onGroupCreate:S})]})}a(47659);var w=a(47199);let M=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M224,154.8l-47.09-21.11-.18-.08a19.94,19.94,0,0,0-19,1.75,13.08,13.08,0,0,0-1.12.84l-22.31,19c-13-7.05-26.43-20.37-33.49-33.21l19.06-22.66a11.76,11.76,0,0,0,.85-1.15,20,20,0,0,0,1.66-18.83,1.42,1.42,0,0,1-.08-.18L101.2,32A20.06,20.06,0,0,0,80.42,20.15,60.27,60.27,0,0,0,28,80c0,81.61,66.39,148,148,148a60.27,60.27,0,0,0,59.85-52.42A20.06,20.06,0,0,0,224,154.8ZM176,204A124.15,124.15,0,0,1,52,80,36.29,36.29,0,0,1,80.48,44.46l18.82,42L80.14,109.28a12,12,0,0,0-.86,1.16A20,20,0,0,0,78,130.08c9.42,19.28,28.83,38.56,48.31,48A20,20,0,0,0,146,176.63a11.63,11.63,0,0,0,1.11-.85l22.43-19.07,42,18.81A36.29,36.29,0,0,1,176,204Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M223.94,174.08A48.33,48.33,0,0,1,176,216,136,136,0,0,1,40,80,48.33,48.33,0,0,1,81.92,32.06a8,8,0,0,1,8.3,4.8l21.13,47.2a8,8,0,0,1-.66,7.53L89.32,117a7.93,7.93,0,0,0-.54,7.81c8.27,16.93,25.77,34.22,42.75,42.41a7.92,7.92,0,0,0,7.83-.59l25-21.3a8,8,0,0,1,7.59-.69l47.16,21.13A8,8,0,0,1,223.94,174.08Z",opacity:"0.2"}),l.createElement("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M231.88,175.08A56.26,56.26,0,0,1,176,224C96.6,224,32,159.4,32,80A56.26,56.26,0,0,1,80.92,24.12a16,16,0,0,1,16.62,9.52l21.12,47.15,0,.12A16,16,0,0,1,117.39,96c-.18.27-.37.52-.57.77L96,121.45c7.49,15.22,23.41,31,38.83,38.51l24.34-20.71a8.12,8.12,0,0,1,.75-.56,16,16,0,0,1,15.17-1.4l.13.06,47.11,21.11A16,16,0,0,1,231.88,175.08Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M221.59,160.3l-47.24-21.17a14,14,0,0,0-13.28,1.22,4.81,4.81,0,0,0-.56.42l-24.69,21a1.88,1.88,0,0,1-1.68.06c-15.87-7.66-32.31-24-40-39.65a1.91,1.91,0,0,1,0-1.68l21.07-25a6.13,6.13,0,0,0,.42-.58,14,14,0,0,0,1.12-13.27L95.73,34.49a14,14,0,0,0-14.56-8.38A54.24,54.24,0,0,0,34,80c0,78.3,63.7,142,142,142a54.25,54.25,0,0,0,53.89-47.17A14,14,0,0,0,221.59,160.3ZM176,210C104.32,210,46,151.68,46,80A42.23,42.23,0,0,1,82.67,38h.23a2,2,0,0,1,1.84,1.31l21.1,47.11a2,2,0,0,1,0,1.67L84.73,113.15a4.73,4.73,0,0,0-.43.57,14,14,0,0,0-.91,13.73c8.87,18.16,27.17,36.32,45.53,45.19a14,14,0,0,0,13.77-1c.19-.13.38-.27.56-.42l24.68-21a1.92,1.92,0,0,1,1.6-.1l47.25,21.17a2,2,0,0,1,1.21,2A42.24,42.24,0,0,1,176,210Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M220.78,162.13,173.56,141A12,12,0,0,0,162.18,142a3.37,3.37,0,0,0-.38.28L137,163.42a3.93,3.93,0,0,1-3.7.21c-16.24-7.84-33.05-24.52-40.89-40.57a3.9,3.9,0,0,1,.18-3.69l21.2-25.21c.1-.12.19-.25.28-.38a12,12,0,0,0,1-11.36L93.9,35.28a12,12,0,0,0-12.48-7.19A52.25,52.25,0,0,0,36,80c0,77.2,62.8,140,140,140a52.25,52.25,0,0,0,51.91-45.42A12,12,0,0,0,220.78,162.13ZM220,173.58A44.23,44.23,0,0,1,176,212C103.22,212,44,152.78,44,80A44.23,44.23,0,0,1,82.42,36a3.87,3.87,0,0,1,.48,0,4,4,0,0,1,3.67,2.49l21.11,47.14a4,4,0,0,1-.23,3.6l-21.19,25.2c-.1.13-.2.25-.29.39a12,12,0,0,0-.78,11.75c8.69,17.79,26.61,35.58,44.6,44.27a12,12,0,0,0,11.79-.87l.37-.28,24.83-21.12a3.93,3.93,0,0,1,3.57-.27l47.21,21.16A4,4,0,0,1,220,173.58Z"}))]]),E=l.forwardRef((e,t)=>l.createElement(i.A,{ref:t,...e,weights:M}));E.displayName="PhoneIcon";let N=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M249.45,69.31a12,12,0,0,0-12.51,1L212,88.43V72a20,20,0,0,0-20-20H32A20,20,0,0,0,12,72V184a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V167.57l24.94,18.14A12,12,0,0,0,256,176V80A12,12,0,0,0,249.45,69.31ZM188,180H36V76H188Zm44-27.57-20-14.54V118.11l20-14.54Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M200,72V184a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V72a8,8,0,0,1,8-8H192A8,8,0,0,1,200,72Z",opacity:"0.2"}),l.createElement("path",{d:"M251.77,73a8,8,0,0,0-8.21.39L208,97.05V72a16,16,0,0,0-16-16H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V159l35.56,23.71A8,8,0,0,0,248,184a8,8,0,0,0,8-8V80A8,8,0,0,0,251.77,73ZM192,184H32V72H192V184Zm48-22.95-32-21.33V116.28L240,95Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M192,72V184a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V72A16,16,0,0,1,32,56H176A16,16,0,0,1,192,72Zm58,.25a8.23,8.23,0,0,0-6.63,1.22L209.78,95.86A4,4,0,0,0,208,99.19v57.62a4,4,0,0,0,1.78,3.33l33.78,22.52a8,8,0,0,0,8.58.19,8.33,8.33,0,0,0,3.86-7.17V80A8,8,0,0,0,250,72.25Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M250.83,74.71a6,6,0,0,0-6.16.3L206,100.79V72a14,14,0,0,0-14-14H32A14,14,0,0,0,18,72V184a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V155.21L244.67,181a6,6,0,0,0,9.33-5V80A6,6,0,0,0,250.83,74.71ZM194,184a2,2,0,0,1-2,2H32a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2H192a2,2,0,0,1,2,2Zm48-19.21-36-24V115.21l36-24Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M251.77,73a8,8,0,0,0-8.21.39L208,97.05V72a16,16,0,0,0-16-16H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V159l35.56,23.71A8,8,0,0,0,248,184a8,8,0,0,0,8-8V80A8,8,0,0,0,251.77,73ZM192,184H32V72H192V184Zm48-22.95-32-21.33V116.28L240,95Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M249.89,76.47a4,4,0,0,0-4.11.2L204,104.53V72a12,12,0,0,0-12-12H32A12,12,0,0,0,20,72V184a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V151.47l41.78,27.86A4,4,0,0,0,252,176V80A4,4,0,0,0,249.89,76.47ZM196,184a4,4,0,0,1-4,4H32a4,4,0,0,1-4-4V72a4,4,0,0,1,4-4H192a4,4,0,0,1,4,4Zm48-15.47-40-26.67V114.14l40-26.67Z"}))]]),H=l.forwardRef((e,t)=>l.createElement(i.A,{ref:t,...e,weights:N}));H.displayName="VideoCameraIcon";let C=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M112,60a16,16,0,1,1,16,16A16,16,0,0,1,112,60Zm16,52a16,16,0,1,0,16,16A16,16,0,0,0,128,112Zm0,68a16,16,0,1,0,16,16A16,16,0,0,0,128,180Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M176,32V224a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16V32A16,16,0,0,1,96,16h64A16,16,0,0,1,176,32Z",opacity:"0.2"}),l.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM128,72a12,12,0,1,0-12-12A12,12,0,0,0,128,72Zm0,112a12,12,0,1,0,12,12A12,12,0,0,0,128,184Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M160,16H96A16,16,0,0,0,80,32V224a16,16,0,0,0,16,16h64a16,16,0,0,0,16-16V32A16,16,0,0,0,160,16ZM128,208a12,12,0,1,1,12-12A12,12,0,0,1,128,208Zm0-68a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm0-68a12,12,0,1,1,12-12A12,12,0,0,1,128,72Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M118,60a10,10,0,1,1,10,10A10,10,0,0,1,118,60Zm10,58a10,10,0,1,0,10,10A10,10,0,0,0,128,118Zm0,68a10,10,0,1,0,10,10A10,10,0,0,0,128,186Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM128,72a12,12,0,1,0-12-12A12,12,0,0,0,128,72Zm0,112a12,12,0,1,0,12,12A12,12,0,0,0,128,184Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M120,60a8,8,0,1,1,8,8A8,8,0,0,1,120,60Zm8,60a8,8,0,1,0,8,8A8,8,0,0,0,128,120Zm0,68a8,8,0,1,0,8,8A8,8,0,0,0,128,188Z"}))]]),V=l.forwardRef((e,t)=>l.createElement(i.A,{ref:t,...e,weights:C}));V.displayName="DotsThreeVerticalIcon";let F=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M216.88,207.93l-160-176A12,12,0,1,0,39.12,48.07l14.8,16.29A83.58,83.58,0,0,0,44,104c0,25.58-4.59,47-13.27,61.93A20.08,20.08,0,0,0,30.68,186,19.75,19.75,0,0,0,48,196H84.19a44,44,0,0,0,87.62,0h1.79l25.52,28.07a12,12,0,0,0,17.76-16.14ZM68,104a59.84,59.84,0,0,1,3.52-20.29L151.78,172H54.68C63.52,154,68,131.14,68,104Zm60,108a20,20,0,0,1-19.6-16h39.2A20,20,0,0,1,128,212ZM88.89,42.35a12,12,0,0,1,6.37-15.73A84,84,0,0,1,212,104c0,18.68,2.38,34.93,7.07,48.28a12,12,0,1,1-22.64,8C190.83,144.32,188,125.4,188,104a60,60,0,0,0-83.38-55.28A12,12,0,0,1,88.89,42.35Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M208,192H48a8,8,0,0,1-6.88-12C47.71,168.6,56,139.81,56,104a72,72,0,0,1,144,0c0,35.82,8.3,64.6,14.9,76A8,8,0,0,1,208,192Z",opacity:"0.2"}),l.createElement("path",{d:"M53.92,34.62A8,8,0,1,0,42.08,45.38L58.82,63.8A79.59,79.59,0,0,0,48,104c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.8a40,40,0,0,0,78.4,0h15.44l19.44,21.38a8,8,0,1,0,11.84-10.76ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a63.65,63.65,0,0,1,6.26-27.62L168.09,184Zm166-4.73a8.13,8.13,0,0,1-2.93.55,8,8,0,0,1-7.44-5.08C196.35,156.19,192,129.75,192,104A64,64,0,0,0,96.43,48.31a8,8,0,0,1-7.9-13.91A80,80,0,0,1,208,104c0,35.35,8.05,58.59,10.52,64.88A8,8,0,0,1,214,179.25Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M221.84,192v0a1.85,1.85,0,0,1-3,.28L83.27,43.19a4,4,0,0,1,.8-6A79.55,79.55,0,0,1,129.17,24C173,24.66,207.8,61.1,208,104.92c.14,34.88,8.31,61.54,13.82,71A15.89,15.89,0,0,1,221.84,192Zm-7.92,18.62a8,8,0,0,1-11.85,10.76L182.62,200H167.16a40,40,0,0,1-78.41,0H47.91a15.78,15.78,0,0,1-13.59-7.59,16.42,16.42,0,0,1-.09-16.68c5.55-9.73,13.7-36.64,13.7-71.73A79.42,79.42,0,0,1,58.79,63.85L42,45.38A8,8,0,1,1,53.84,34.62ZM150.59,200H105.32a24,24,0,0,0,45.27,0Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M52.44,36A6,6,0,0,0,43.56,44L61.31,63.56A77.45,77.45,0,0,0,50,104c0,35.74-8.42,63.2-14.08,72.94A14,14,0,0,0,48,198h42.5a38,38,0,0,0,75,0h18l20,22a6,6,0,0,0,8.88-8.08ZM128,218a26,26,0,0,1-25.29-20h50.58A26,26,0,0,1,128,218ZM48,186a1.9,1.9,0,0,1-1.7-1,2,2,0,0,1,0-2C53.86,170,62,139.69,62,104a65.63,65.63,0,0,1,7.78-31.12L172.62,186Zm165.29-8.62a5.88,5.88,0,0,1-2.2.42,6,6,0,0,1-5.58-3.81c-7.2-18.31-11.49-44.48-11.49-70A66,66,0,0,0,95.45,46.57a6,6,0,1,1-5.93-10.43A78,78,0,0,1,206,104c0,35.7,8.16,59.24,10.66,65.61A6,6,0,0,1,213.27,177.38Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M53.92,34.62A8,8,0,1,0,42.08,45.38L58.82,63.8A79.59,79.59,0,0,0,48,104c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.8a40,40,0,0,0,78.4,0h15.44l19.44,21.38a8,8,0,1,0,11.84-10.76ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a63.65,63.65,0,0,1,6.26-27.62L168.09,184Zm166-4.73a8.13,8.13,0,0,1-2.93.55,8,8,0,0,1-7.44-5.08C196.35,156.19,192,129.75,192,104A64,64,0,0,0,96.43,48.31a8,8,0,0,1-7.9-13.91A80,80,0,0,1,208,104c0,35.35,8.05,58.59,10.52,64.88A8,8,0,0,1,214,179.25Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M51,37.31A4,4,0,0,0,45,42.69L63.8,63.32A75.52,75.52,0,0,0,52,104c0,36.13-8.58,64-14.36,73.95A12,12,0,0,0,48,196H92.23a36,36,0,0,0,71.54,0h20.64L205,218.69a4,4,0,1,0,5.92-5.38ZM128,220a28,28,0,0,1-27.71-24h55.42A28,28,0,0,1,128,220ZM48,188a3.89,3.89,0,0,1-3.43-2,4,4,0,0,1,0-4C52,169.17,60,139.32,60,104a67.58,67.58,0,0,1,9.4-34.51L177.14,188Zm164.55-12.48a3.94,3.94,0,0,1-1.46.28,4,4,0,0,1-3.72-2.54C200.24,155.17,196,129.28,196,104A68,68,0,0,0,94.46,44.83a4,4,0,1,1-4-6.95A76,76,0,0,1,204,104c0,36.05,8.26,59.89,10.79,66.34A4,4,0,0,1,212.53,175.52Z"}))]]),S=l.forwardRef((e,t)=>l.createElement(i.A,{ref:t,...e,weights:F}));S.displayName="BellSlashIcon";var L=a(66534),k=a(62640);let _=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M216.49,79.52l-56-56A12,12,0,0,0,152,20H56A20,20,0,0,0,36,40V216a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V88A12,12,0,0,0,216.49,79.52ZM160,57l23,23H160ZM60,212V44h76V92a12,12,0,0,0,12,12h48V212Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M208,88H152V32Z",opacity:"0.2"}),l.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM152,88V44l44,44Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M212.24,83.76l-56-56A6,6,0,0,0,152,26H56A14,14,0,0,0,42,40V216a14,14,0,0,0,14,14H200a14,14,0,0,0,14-14V88A6,6,0,0,0,212.24,83.76ZM158,46.48,193.52,82H158ZM200,218H56a2,2,0,0,1-2-2V40a2,2,0,0,1,2-2h90V88a6,6,0,0,0,6,6h50V216A2,2,0,0,1,200,218Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M210.83,85.17l-56-56A4,4,0,0,0,152,28H56A12,12,0,0,0,44,40V216a12,12,0,0,0,12,12H200a12,12,0,0,0,12-12V88A4,4,0,0,0,210.83,85.17ZM156,41.65,198.34,84H156ZM200,220H56a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4h92V88a4,4,0,0,0,4,4h52V216A4,4,0,0,1,200,220Z"}))]]),D=l.forwardRef((e,t)=>l.createElement(i.A,{ref:t,...e,weights:_}));D.displayName="FileIcon";let z=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M71.51,88.49a12,12,0,0,1,17-17L116,99V24a12,12,0,0,1,24,0V99l27.51-27.52a12,12,0,0,1,17,17l-48,48a12,12,0,0,1-17,0ZM224,116H188a12,12,0,0,0,0,24h32v56H36V140H68a12,12,0,0,0,0-24H32a20,20,0,0,0-20,20v64a20,20,0,0,0,20,20H224a20,20,0,0,0,20-20V136A20,20,0,0,0,224,116Zm-20,52a16,16,0,1,0-16,16A16,16,0,0,0,204,168Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M232,136v64a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V136a8,8,0,0,1,8-8H224A8,8,0,0,1,232,136Z",opacity:"0.2"}),l.createElement("path",{d:"M240,136v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V136a16,16,0,0,1,16-16H72a8,8,0,0,1,0,16H32v64H224V136H184a8,8,0,0,1,0-16h40A16,16,0,0,1,240,136Zm-117.66-2.34a8,8,0,0,0,11.32,0l48-48a8,8,0,0,0-11.32-11.32L136,108.69V24a8,8,0,0,0-16,0v84.69L85.66,74.34A8,8,0,0,0,74.34,85.66ZM200,168a12,12,0,1,0-12,12A12,12,0,0,0,200,168Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M74.34,85.66A8,8,0,0,1,85.66,74.34L120,108.69V24a8,8,0,0,1,16,0v84.69l34.34-34.35a8,8,0,0,1,11.32,11.32l-48,48a8,8,0,0,1-11.32,0ZM240,136v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V136a16,16,0,0,1,16-16H84.4a4,4,0,0,1,2.83,1.17L111,145A24,24,0,0,0,145,145l23.8-23.8A4,4,0,0,1,171.6,120H224A16,16,0,0,1,240,136Zm-40,32a12,12,0,1,0-12,12A12,12,0,0,0,200,168Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M238,136v64a14,14,0,0,1-14,14H32a14,14,0,0,1-14-14V136a14,14,0,0,1,14-14H72a6,6,0,0,1,0,12H32a2,2,0,0,0-2,2v64a2,2,0,0,0,2,2H224a2,2,0,0,0,2-2V136a2,2,0,0,0-2-2H184a6,6,0,0,1,0-12h40A14,14,0,0,1,238,136Zm-114.24-3.76a6,6,0,0,0,8.48,0l48-48a6,6,0,0,0-8.48-8.48L134,113.51V24a6,6,0,0,0-12,0v89.51L84.24,75.76a6,6,0,0,0-8.48,8.48ZM198,168a10,10,0,1,0-10,10A10,10,0,0,0,198,168Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M240,136v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V136a16,16,0,0,1,16-16H72a8,8,0,0,1,0,16H32v64H224V136H184a8,8,0,0,1,0-16h40A16,16,0,0,1,240,136Zm-117.66-2.34a8,8,0,0,0,11.32,0l48-48a8,8,0,0,0-11.32-11.32L136,108.69V24a8,8,0,0,0-16,0v84.69L85.66,74.34A8,8,0,0,0,74.34,85.66ZM200,168a12,12,0,1,0-12,12A12,12,0,0,0,200,168Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M236,136v64a12,12,0,0,1-12,12H32a12,12,0,0,1-12-12V136a12,12,0,0,1,12-12H72a4,4,0,0,1,0,8H32a4,4,0,0,0-4,4v64a4,4,0,0,0,4,4H224a4,4,0,0,0,4-4V136a4,4,0,0,0-4-4H184a4,4,0,0,1,0-8h40A12,12,0,0,1,236,136Zm-110.83-5.17a4,4,0,0,0,5.66,0l48-48a4,4,0,1,0-5.66-5.66L132,118.34V24a4,4,0,0,0-8,0v94.34L82.83,77.17a4,4,0,0,0-5.66,5.66ZM196,168a8,8,0,1,0-8,8A8,8,0,0,0,196,168Z"}))]]),B=l.forwardRef((e,t)=>l.createElement(i.A,{ref:t,...e,weights:z}));B.displayName="DownloadIcon";let R=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M200,144l-72,72L56,144Z",opacity:"0.2"}),l.createElement("path",{d:"M207.39,140.94A8,8,0,0,0,200,136H136V40a8,8,0,0,0-16,0v96H56a8,8,0,0,0-5.66,13.66l72,72a8,8,0,0,0,11.32,0l72-72A8,8,0,0,0,207.39,140.94ZM128,204.69,75.31,152H180.69Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,56,136h64V40a8,8,0,0,1,16,0v96h64a8,8,0,0,1,5.66,13.66Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M204.24,148.24l-72,72a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L122,201.51V40a6,6,0,0,1,12,0V201.51l61.76-61.75a6,6,0,0,1,8.48,8.48Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72a8,8,0,0,1,11.32-11.32L120,196.69V40a8,8,0,0,1,16,0V196.69l58.34-58.35a8,8,0,0,1,11.32,11.32Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M202.83,146.83l-72,72a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L124,206.34V40a4,4,0,0,1,8,0V206.34l65.17-65.17a4,4,0,0,1,5.66,5.66Z"}))]]),I=l.forwardRef((e,t)=>l.createElement(i.A,{ref:t,...e,weights:R}));I.displayName="ArrowDownIcon";let $=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M236,144a68.07,68.07,0,0,1-68,68H80a12,12,0,0,1,0-24h88a44,44,0,0,0,0-88H61l27.52,27.51a12,12,0,0,1-17,17l-48-48a12,12,0,0,1,0-17l48-48a12,12,0,1,1,17,17L61,76H168A68.08,68.08,0,0,1,236,144Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M80,40v96L32,88Z",opacity:"0.2"}),l.createElement("path",{d:"M168,80H88V40a8,8,0,0,0-13.66-5.66l-48,48a8,8,0,0,0,0,11.32l48,48A8,8,0,0,0,88,136V96h80a48,48,0,0,1,0,96H80a8,8,0,0,0,0,16h88a64,64,0,0,0,0-128ZM72,116.69,43.31,88,72,59.31Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M232,144a64.07,64.07,0,0,1-64,64H80a8,8,0,0,1,0-16h88a48,48,0,0,0,0-96H88v40a8,8,0,0,1-13.66,5.66l-48-48a8,8,0,0,1,0-11.32l48-48A8,8,0,0,1,88,40V80h80A64.07,64.07,0,0,1,232,144Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M230,144a62.07,62.07,0,0,1-62,62H80a6,6,0,0,1,0-12h88a50,50,0,0,0,0-100H46.49l37.75,37.76a6,6,0,1,1-8.48,8.48l-48-48a6,6,0,0,1,0-8.48l48-48a6,6,0,0,1,8.48,8.48L46.49,82H168A62.07,62.07,0,0,1,230,144Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M232,144a64.07,64.07,0,0,1-64,64H80a8,8,0,0,1,0-16h88a48,48,0,0,0,0-96H51.31l34.35,34.34a8,8,0,0,1-11.32,11.32l-48-48a8,8,0,0,1,0-11.32l48-48A8,8,0,0,1,85.66,45.66L51.31,80H168A64.07,64.07,0,0,1,232,144Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M228,144a60.07,60.07,0,0,1-60,60H80a4,4,0,0,1,0-8h88a52,52,0,0,0,0-104H41.66l41.17,41.17a4,4,0,0,1-5.66,5.66l-48-48a4,4,0,0,1,0-5.66l48-48a4,4,0,0,1,5.66,5.66L41.66,84H168A60.07,60.07,0,0,1,228,144Z"}))]]),T=l.forwardRef((e,t)=>l.createElement(i.A,{ref:t,...e,weights:$}));T.displayName="ArrowUUpLeftIcon";var U=a(66216),q=a(79531),P=a(40172);let G=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M152.41,88.56l-89.6,88a12,12,0,0,1-16.82,0L7.59,138.85a12,12,0,0,1,16.82-17.13l30,29.46,81.19-79.74a12,12,0,0,1,16.82,17.12Zm96.15-17a12,12,0,0,0-17-.15L150.4,151.18l-7.88-7.74a12,12,0,0,0-16.82,17.12l16.29,16a12,12,0,0,0,16.82,0l89.6-88A12,12,0,0,0,248.56,71.59Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M240,64V192a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V64A16,16,0,0,1,32,48H224A16,16,0,0,1,240,64Z",opacity:"0.2"}),l.createElement("path",{d:"M149.61,85.71l-89.6,88a8,8,0,0,1-11.22,0L10.39,136a8,8,0,1,1,11.22-11.41L54.4,156.79l84-82.5a8,8,0,1,1,11.22,11.42Zm96.1-11.32a8,8,0,0,0-11.32-.1l-84,82.5-18.83-18.5a8,8,0,0,0-11.21,11.42l24.43,24a8,8,0,0,0,11.22,0l89.6-88A8,8,0,0,0,245.71,74.39Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48ZM72,168a8,8,0,0,1-5.66-2.34l-24-24a8,8,0,0,1,11.32-11.32L72,148.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-64,64A8,8,0,0,1,72,168Zm141.66-66.34-64,64a8,8,0,0,1-11.32,0l-16-16a8,8,0,0,1,11.32-11.32L144,148.69l58.34-58.35a8,8,0,0,1,11.32,11.32Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M148.2,84.28l-89.6,88a6,6,0,0,1-8.4,0L11.8,134.57A6,6,0,1,1,20.2,126l34.2,33.58,85.4-83.87a6,6,0,1,1,8.4,8.56Zm96.08-8.48a6,6,0,0,0-8.48-.08l-85.4,83.87-20.23-19.87a6,6,0,1,0-8.41,8.56l24.44,24a6,6,0,0,0,8.4,0l89.6-88A6,6,0,0,0,244.28,75.8Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M149.61,85.71l-89.6,88a8,8,0,0,1-11.22,0L10.39,136a8,8,0,1,1,11.22-11.41L54.4,156.79l84-82.5a8,8,0,1,1,11.22,11.42Zm96.1-11.32a8,8,0,0,0-11.32-.1l-84,82.5-18.83-18.5a8,8,0,0,0-11.21,11.42l24.43,24a8,8,0,0,0,11.22,0l89.6-88A8,8,0,0,0,245.71,74.39Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M146.8,82.85l-89.6,88a4,4,0,0,1-5.6,0L13.2,133.14a4,4,0,0,1,5.6-5.71l35.6,35,86.8-85.24a4,4,0,0,1,5.6,5.7Zm96-5.65a4,4,0,0,0-5.65,0l-86.8,85.24-21.63-21.24a4,4,0,1,0-5.61,5.7l24.44,24a4,4,0,0,0,5.6,0l89.6-88A4,4,0,0,0,242.85,77.2Z"}))]]),O=l.forwardRef((e,t)=>l.createElement(i.A,{ref:t,...e,weights:G}));O.displayName="ChecksIcon";var X=a(66797),W=a(51943),K=a(40209);function J(){let{currentUser:e,refreshUnreadCount:t}=(0,s.n)(),a=(0,f.useSearchParams)().get("chatId"),[i,c]=(0,l.useState)([]),[o,m]=(0,l.useState)(null),[u,h]=(0,l.useState)(""),[g,b]=(0,l.useState)(!1),[y,v]=(0,l.useState)(!1),[A,j]=(0,l.useState)(!1),[Z,M]=(0,l.useState)(null),[N,C]=(0,l.useState)(""),[F,_]=(0,l.useState)(null),[z,R]=(0,l.useState)(null),[$,G]=(0,l.useState)(!1),[J,Y]=(0,l.useState)({level:"all"}),[Q,ee]=(0,l.useState)(!1),[et,ea]=(0,l.useState)(null),[er,el]=(0,l.useState)([]),[es,en]=(0,l.useState)(!1),[ei,ec]=(0,l.useState)(0),eo=(0,l.useRef)(null),[ed,em]=(0,l.useState)(!1),[eu,eh]=(0,l.useState)(""),[eg,ex]=(0,l.useState)([]),[ep,eb]=(0,l.useState)(!1),ef=e=>{let t=document.getElementById(e);t?(t.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.add("bg-blue-100"),setTimeout(()=>t.classList.remove("bg-blue-100"),2e3)):alert("El mensaje es muy antiguo y no est\xe1 en la vista actual. (Deep linking pendiente)")},ey=(0,f.useRouter)(),ev=(0,l.useRef)(void 0),eA=(0,l.useRef)(null),ej=(0,l.useRef)(null),eZ=async()=>{if(!eA.current||y||!A||!a)return;let{scrollTop:e}=eA.current;if(0===e){v(!0);let e=eA.current.scrollHeight;try{let t=await n.ChatService.getMessages(a,ev.current);c(e=>[...t.data,...e]),ev.current=t.nextCursor,j(t.hasMore),setTimeout(()=>{if(eA.current){let t=eA.current.scrollHeight;eA.current.scrollTop=t-e}},0)}catch(e){console.error(e)}finally{v(!1)}}},ew=async()=>{if(!u.trim()&&0===er.length||!e||!a)return;if(Z){try{await n.ChatService.editMessage(Z,e.id,u),c(e=>e.map(e=>e.id===Z?{...e,body:u}:e)),M(null),h("")}catch(e){console.error(e)}return}let t=`TEMP-${Date.now()}`,r={id:t,conversation_id:a,sender_id:e.id,body:u||(er.length?"Archivo adjunto":""),body_type:er.length?(er[0].mime_type||er[0].type||"").startsWith("image/")?"image":"file":"text",created_at:new Date().toISOString(),senderName:e.name,reply_to_message_id:F?.id,replyTo:F?{id:F.id,senderName:F.senderName||"User",body:F.body}:void 0,reactions:[],attachments:[...er]};c(e=>[...e,r]),h(""),_(null),el([]),setTimeout(()=>ej.current?.scrollIntoView({behavior:"smooth"}),100);try{let l=await n.ChatService.sendMessage(a,e.id,r.body,t,r.reply_to_message_id,r.attachments);c(e=>e.map(e=>e.id===t?l:e))}catch(e){console.error("Failed to send",e)}},eM=async t=>{if(e){R(null);try{await n.ChatService.deleteMessage(t,e.id),c(e=>e.map(e=>e.id===t?{...e,deleted_at:new Date().toISOString(),body:""}:e))}catch(e){console.error(e)}}},eE=e=>{R(null),_(e)},eN=e=>{R(null),M(e.id),C(e.body),h(e.body)},eH=()=>{M(null),h("")},eC=async(t,a)=>{if(e){R(null),c(r=>r.map(r=>{if(r.id!==t)return r;let l=r.reactions||[],s=l.find(t=>t.user_id===e.id&&t.emoji===a),n=[...l];return s?n=n.filter(t=>!(t.user_id===e.id&&t.emoji===a)):n.push({message_id:t,user_id:e.id,emoji:a,created_at:new Date().toISOString()}),{...r,reactions:n}}));try{await n.ChatService.toggleReaction(t,e.id,a)}catch(e){console.error(e)}}},eV=async e=>{if(!e.target.files?.length)return;let t=Array.from(e.target.files);for(let e of(en(!0),ec(0),t))try{ec(0);let t=await n.ChatService.uploadFile(e,e=>ec(e));el(e=>[...e,t])}catch(t){console.error(t),alert(`Error al subir ${e.name}: ${t.message}`)}en(!1),ec(0),eo.current&&(eo.current.value="")},eF=async()=>{if(a&&e&&confirm("\xbfEst\xe1s seguro de que quieres salir del grupo?"))try{await n.ChatService.leaveGroup(a,e.id),ey.push("/dashboard/chat")}catch(e){console.error(e)}},eS=async t=>{if(!a||!e)return;let r=t?new Date(Date.now()+36e5*t).toISOString():"2099-12-31T23:59:59Z";try{await n.ChatService.muteConversation(a,e.id,r),Y(e=>({...e,mutedUntil:r})),G(!1),alert(`Chat silenciado ${t?`por ${t}h`:"para siempre"}`)}catch(e){console.error(e)}},eL=async t=>{if(a&&e)try{await n.ChatService.updateNotificationSettings(a,e.id,t),Y(e=>({...e,level:t})),G(!1)}catch(e){console.error(e)}},ek=async()=>{if(o&&"dm"===o.type&&e)try{let t=(await n.ChatService.getGroupMembers(o.id)).find(t=>t.id!==e.id);if(!t)return;Q?(await n.ChatService.unblockUser(e.id,t.id),ee(!1),alert("Usuario desbloqueado")):confirm("\xbfEst\xe1s seguro de bloquear a este usuario? No recibir\xe1s mensajes.")&&(await n.ChatService.blockUser(e.id,t.id),ee(!0)),G(!1)}catch(e){console.error(e)}},e_=async t=>{if(!e)return;let a=prompt("Describe el motivo del reporte:");if(a)try{await n.ChatService.reportContent(e.id,{targetId:t.id,type:"message",reason:a,detail:`Reported by ${e.name}`}),alert("Reporte enviado. Gracias por contribuir a la seguridad."),R(null)}catch(e){console.error(e),alert("Error al reportar")}};return a?g&&0===i.length?(0,r.jsx)("div",{className:"h-full flex items-center justify-center bg-white",children:(0,r.jsx)(x,{size:32,className:"animate-spin text-blue-500"})}):(0,r.jsxs)("div",{className:"flex flex-col h-full bg-[#f0f2f5]",children:[" ",(0,r.jsxs)("div",{className:"h-16 px-6 border-b border-gray-200 flex items-center justify-between bg-white z-10 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-sm
                        ${o?.type==="group"?"bg-indigo-500":"bg-pink-500"}`,children:o?.title?.[0]||"?"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-gray-900 leading-tight",children:o?.title}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:o?.type==="group"?"Grupo":"En l\xednea"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-blue-600 relative",children:[(0,r.jsx)("button",{onClick:()=>em(!ed),className:`p-2 rounded-full transition-colors ${ed?"bg-blue-100 text-blue-700":"hover:bg-blue-50"}`,title:"Buscar en el chat",children:(0,r.jsx)(p.e,{size:20,weight:"bold"})}),(0,r.jsx)("button",{className:"p-2 hover:bg-blue-50 rounded-full transition-colors",children:(0,r.jsx)(E,{size:20,weight:"fill"})}),(0,r.jsx)("button",{className:"p-2 hover:bg-blue-50 rounded-full transition-colors",children:(0,r.jsx)(H,{size:20,weight:"fill"})}),(0,r.jsx)("div",{className:"w-px h-6 bg-gray-200 mx-1"}),(0,r.jsx)("button",{onClick:()=>G(!$),className:"p-2 hover:bg-gray-100 text-gray-400 rounded-full transition-colors",children:(0,r.jsx)(V,{size:24,weight:"bold"})}),$&&(0,r.jsxs)("div",{className:"absolute top-12 right-0 bg-white shadow-xl rounded-xl py-2 w-48 z-20 border border-gray-100 animate-in fade-in zoom-in-95 duration-100",children:[(0,r.jsx)("div",{className:"px-4 py-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Opciones"}),(0,r.jsxs)("button",{onClick:()=>eS(1),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-gray-700 flex items-center gap-3",children:[(0,r.jsx)(S,{size:16})," Silenciar 1h"]}),(0,r.jsxs)("button",{onClick:()=>eS(8),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-gray-700 flex items-center gap-3",children:[(0,r.jsx)(S,{size:16})," Silenciar 8h"]}),(0,r.jsx)("div",{className:"h-px bg-gray-100 my-1"}),(0,r.jsx)("div",{className:"px-4 py-1 text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Preferencias"}),(0,r.jsxs)("button",{onClick:()=>eL("all"),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-gray-700 flex items-center gap-3",children:[(0,r.jsx)("span",{className:`w-2 h-2 rounded-full ${J?.level&&"all"!==J.level?"bg-gray-200":"bg-green-500"}`})," Todo"]}),(0,r.jsxs)("button",{onClick:()=>eL("mentions"),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-gray-700 flex items-center gap-3",children:[(0,r.jsx)("span",{className:`w-2 h-2 rounded-full ${J?.level==="mentions"?"bg-yellow-500":"bg-gray-200"}`})," Solo menciones"]}),(0,r.jsxs)("button",{onClick:()=>eL("none"),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-gray-700 flex items-center gap-3",children:[(0,r.jsx)("span",{className:`w-2 h-2 rounded-full ${J?.level==="none"?"bg-red-500":"bg-gray-200"}`})," Nada"]}),o?.type==="dm"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-px bg-gray-100 my-1"}),(0,r.jsxs)("button",{onClick:ek,className:"w-full text-left px-4 py-2 text-sm hover:bg-red-50 text-red-600 flex items-center gap-3",children:[(0,r.jsx)(S,{size:16})," ",Q?"Desbloquear":"Bloquear Usuario"]})]}),o?.type==="group"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-px bg-gray-100 my-1"}),(0,r.jsxs)("button",{onClick:eF,className:"w-full text-left px-4 py-2 text-sm hover:bg-red-50 text-red-600 flex items-center gap-3",children:[(0,r.jsx)(L.M,{size:16})," Salir del Grupo"]})]})]})]})]}),ed&&(0,r.jsxs)("div",{className:"bg-white border-b border-gray-200 p-4 animate-in slide-in-from-top-2 z-10 shadow-sm flex flex-col gap-2 max-h-[300px]",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.e,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,r.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Buscar en esta conversaci\xf3n...",className:"w-full pl-9 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",value:eu,onChange:e=>eh(e.target.value)}),eu&&(0,r.jsx)("button",{onClick:()=>eh(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,r.jsx)(d.X,{size:14})})]}),(0,r.jsx)("div",{className:"overflow-y-auto custom-scrollbar flex-1",children:ep?(0,r.jsx)("div",{className:"py-4 flex justify-center text-blue-500",children:(0,r.jsx)(x,{size:20,className:"animate-spin"})}):eg.length>0?(0,r.jsx)("div",{className:"space-y-1 mt-1",children:eg.map(e=>(0,r.jsxs)("button",{onClick:()=>ef(e.id),className:"w-full text-left p-2 hover:bg-gray-50 rounded-lg flex flex-col text-sm border-b border-gray-50 last:border-0",children:[(0,r.jsxs)("div",{className:"flex justify-between items-baseline mb-0.5",children:[(0,r.jsx)("span",{className:"font-bold text-xs text-gray-700",children:e.senderName}),(0,r.jsx)("span",{className:"text-[10px] text-gray-400",children:new Date(e.created_at).toLocaleDateString()})]}),(0,r.jsx)("div",{className:"text-gray-600 truncate text-xs w-full",dangerouslySetInnerHTML:{__html:(0,K.Zn)(e.body).replace(RegExp(`(${(0,K.Zn)(eu)})`,"gi"),'<span class="bg-yellow-200 text-black rounded px-0.5">$1</span>')}})]},e.id))}):eu.trim()?(0,r.jsx)("div",{className:"text-center py-4 text-xs text-gray-400",children:"No se encontraron mensajes."}):(0,r.jsx)("div",{className:"text-center py-4 text-xs text-gray-400",children:"Escribe para buscar..."})})]}),(0,r.jsxs)("div",{ref:eA,onScroll:eZ,className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-4",style:{backgroundImage:'url("https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png")',backgroundRepeat:"repeat",backgroundSize:"400px"},children:[y&&(0,r.jsx)("div",{className:"flex justify-center py-2",children:(0,r.jsxs)("div",{className:"bg-white/80 px-3 py-1 rounded-full shadow-sm flex items-center gap-2",children:[(0,r.jsx)(x,{size:14,className:"animate-spin text-blue-600"}),(0,r.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"Cargando historial..."})]})}),i.map((t,a)=>{let l=t.sender_id===e?.id,s=i[a-1],n=s&&s.sender_id===t.sender_id&&new Date(t.created_at).getTime()-new Date(s.created_at).getTime()<6e4;return(0,r.jsxs)("div",{id:t.id,className:`flex flex-col ${l?"items-end":"items-start"} ${n?"mt-1":"mt-4"}`,children:[o?.type==="group"&&!l&&!n&&(0,r.jsx)("span",{className:"text-[11px] font-bold text-gray-500 ml-1 mb-1",children:t.senderName}),(0,r.jsxs)("div",{className:`relative px-4 py-2 max-w-[85%] md:max-w-[65%] w-fit shadow-sm text-[15px] leading-relaxed break-words group/bubble
                                ${l?"bg-[#d9fdd3] text-gray-900 rounded-2xl rounded-tr-none":"bg-white text-gray-900 rounded-2xl rounded-tl-none"}
                            `,children:[t.deleted_at?(0,r.jsxs)("span",{className:"italic text-gray-500 text-sm flex items-center gap-1",children:[(0,r.jsx)(k.R,{size:14})," Mensaje eliminado"]}):(0,r.jsxs)(r.Fragment,{children:[t.replyTo&&(0,r.jsxs)("div",{className:"mb-1 bg-black/5 rounded md-4 p-1 border-l-4 border-blue-500 text-xs text-gray-600 flex flex-col cursor-pointer",onClick:()=>{document.getElementById(t.replyTo.id)?.scrollIntoView({behavior:"smooth",block:"center"})},children:[(0,r.jsx)("span",{className:"font-bold text-blue-600 mb-0.5",children:t.replyTo.senderName}),(0,r.jsx)("span",{className:"truncate",children:t.replyTo.body})]}),t.attachments&&t.attachments.length>0&&(0,r.jsx)("div",{className:"mb-2 space-y-2",children:t.attachments.map(e=>(0,r.jsx)("div",{children:(e.mime_type||e.type||"").startsWith("image/")?(0,r.jsx)("div",{className:"rounded-lg overflow-hidden border border-black/10",children:(0,r.jsx)("img",{src:e.url||"https://via.placeholder.com/300",alt:"Attachment",className:"max-w-full max-h-[300px] object-cover"})}):(0,r.jsxs)("div",{className:"flex items-center gap-3 bg-black/5 p-3 rounded-lg border border-black/5",children:[(0,r.jsx)("div",{className:"p-2 bg-white rounded-full text-blue-500 shadow-sm",children:(0,r.jsx)(D,{size:24,weight:"fill"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-semibold truncate text-gray-800",children:e.file_name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.size/1024).toFixed(1)," KB"]})]}),(0,r.jsx)("a",{href:e.url,download:!0,target:"_blank",className:"p-2 hover:bg-black/10 rounded-full text-gray-500 transition-colors",children:(0,r.jsx)(B,{size:20})})]})},e.id))}),t.body,t.reactions&&t.reactions.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-1 mt-1.5 -mb-2 z-20 relative",children:Array.from(new Set(t.reactions.map(e=>e.emoji))).map(a=>{let l=t.reactions?.filter(e=>e.emoji===a).length,s=t.reactions?.find(t=>t.emoji===a&&t.user_id===e?.id);return(0,r.jsxs)("button",{onClick:()=>eC(t.id,a),className:`text-[10px] px-1.5 py-0.5 rounded-full border shadow-sm flex items-center gap-0.5 transition-colors
                                                                ${s?"bg-blue-100 border-blue-200 text-blue-700":"bg-white border-gray-100 text-gray-600 hover:bg-gray-50"}
                                                            `,children:[(0,r.jsx)("span",{children:a}),(0,r.jsx)("span",{className:"font-bold",children:l})]},a)})}),!t.deleted_at&&(0,r.jsxs)("div",{className:`absolute -top-2 ${l?"-left-8":"-right-8"} opacity-0 group-hover/bubble:opacity-100 transition-opacity flex items-center gap-1`,children:[(0,r.jsxs)("div",{className:"bg-white shadow-sm rounded-full px-1 py-0.5 border border-gray-100 hidden md:flex",children:[(0,r.jsx)("button",{onClick:()=>eC(t.id,"\uD83D\uDC4D"),className:"p-1 hover:scale-110 transition-transform",children:"\uD83D\uDC4D"}),(0,r.jsx)("button",{onClick:()=>eC(t.id,"â¤ï¸"),className:"p-1 hover:scale-110 transition-transform",children:"â¤ï¸"}),(0,r.jsx)("button",{onClick:()=>eC(t.id,"\uD83D\uDE02"),className:"p-1 hover:scale-110 transition-transform",children:"\uD83D\uDE02"})]}),(0,r.jsx)("button",{onClick:()=>R(z===t.id?null:t.id),className:"p-1 bg-gray-100 hover:bg-gray-200 rounded-full text-gray-500 shadow-sm",children:(0,r.jsx)(I,{size:14,weight:"bold"})}),z===t.id&&(0,r.jsxs)("div",{className:"absolute top-6 right-0 bg-white shadow-lg rounded-lg py-1 w-32 z-30 border border-gray-100 flex flex-col",children:[(0,r.jsxs)("button",{onClick:()=>eE(t),className:"text-left px-3 py-2 text-sm hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(T,{size:14})," Responder"]}),l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>eN(t),className:"text-left px-3 py-2 text-sm hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(U.I,{size:14})," Editar"]}),(0,r.jsxs)("button",{onClick:()=>eM(t.id),className:"text-left px-3 py-2 text-sm hover:bg-gray-50 text-red-600 flex items-center gap-2",children:[(0,r.jsx)(q.l,{size:14})," Eliminar"]})]}),(0,r.jsxs)("button",{onClick:()=>eC(t.id,"\uD83D\uDC4E"),className:"text-left px-3 py-2 text-sm hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(P.t,{className:"rotate-180",size:14})," No me gusta"]}),(0,r.jsxs)("button",{onClick:()=>e_(t),className:"text-left px-3 py-2 text-sm hover:bg-red-50 text-red-600 flex items-center gap-2",children:[(0,r.jsx)(k.R,{size:14})," Reportar"]})]})]})]}),(0,r.jsxs)("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 select-none ${l?"opacity-80":"text-gray-400"}`,children:[new Date(t.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l&&(0,r.jsx)(O,{weight:"bold",size:14,className:"text-blue-500"})]})]})]},t.id)}),(0,r.jsx)("div",{ref:ej})]}),Q?(0,r.jsxs)("div",{className:"p-4 bg-gray-100 border-t border-gray-200 text-center text-gray-500 text-sm",children:["No puedes enviar mensajes a esta conversaci\xf3n porque has bloqueado al usuario o te han bloqueado.",(0,r.jsx)("button",{onClick:ek,className:"text-blue-500 font-bold ml-2 hover:underline",children:"Gestionar bloqueo"})]}):(0,r.jsxs)("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:[F&&(0,r.jsxs)("div",{className:"max-w-4xl mx-auto mb-2 bg-gray-50 rounded-lg p-2 border-l-4 border-blue-500 flex justify-between items-center animate-in slide-in-from-bottom-2 fade-in",children:[(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("div",{className:"text-blue-600 font-bold text-xs",children:["Respondiendo a ",F.senderName]}),(0,r.jsx)("div",{className:"text-gray-500 truncate max-w-xs",children:F.body})]}),(0,r.jsx)("button",{onClick:()=>_(null),className:"p-1 hover:bg-gray-200 rounded-full text-gray-500",children:(0,r.jsx)(d.X,{size:16})})]}),er.length>0&&(0,r.jsx)("div",{className:"max-w-4xl mx-auto mb-2 flex gap-2 overflow-x-auto pb-1",children:er.map((e,t)=>(0,r.jsxs)("div",{className:"relative group shrink-0 w-20 h-20 rounded-lg overflow-hidden border border-gray-200",children:[(e.mime_type||e.type||"").startsWith("image/")?(0,r.jsx)("img",{src:e.url,className:"w-full h-full object-cover"}):(0,r.jsxs)("div",{className:"w-full h-full bg-gray-50 flex flex-col items-center justify-center p-1",children:[(0,r.jsx)(D,{size:24,className:"text-gray-400 mb-1"}),(0,r.jsx)("span",{className:"text-[9px] text-gray-500 truncate w-full text-center",children:e.file_name})]}),(0,r.jsx)("button",{onClick:()=>el(e=>e.filter((e,a)=>a!==t)),className:"absolute top-1 right-1 p-0.5 bg-black/50 text-white rounded-full hover:bg-red-500 transition-colors",children:(0,r.jsx)(d.X,{size:12})})]},t))}),(0,r.jsxs)("div",{className:"flex items-end gap-2 max-w-4xl mx-auto",children:[(0,r.jsx)("input",{type:"file",multiple:!0,hidden:!0,ref:eo,onChange:eV}),(0,r.jsxs)("button",{onClick:()=>eo.current?.click(),disabled:es,className:`p-3 rounded-full transition-colors mb-0.5 relative group ${es?"bg-blue-50 text-blue-500":"text-gray-500 hover:bg-gray-100"}`,children:[es?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)(x,{className:"animate-spin",size:22}),(0,r.jsx)("span",{className:"absolute text-[8px] font-bold",children:ei})]}):(0,r.jsx)(X.x,{size:22}),(0,r.jsx)("div",{className:"absolute bottom-full left-0 mb-2 hidden group-hover:block w-48 bg-gray-800 text-white text-xs p-2 rounded shadow-lg z-50",children:"Im\xe1genes, PDF, Word, Excel, TXT (M\xe1x 10MB)"})]}),(0,r.jsxs)("div",{className:"flex-1 bg-gray-100 rounded-3xl flex items-center px-4 py-2 focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:bg-white transition-all border border-transparent focus-within:border-blue-200",children:[Z&&(0,r.jsx)("div",{className:"mr-2 text-blue-600 font-bold text-xs bg-blue-50 px-2 py-1 rounded",children:"Editando"}),(0,r.jsx)("textarea",{className:"flex-1 bg-transparent border-none focus:ring-0 resize-none max-h-32 py-2 text-gray-800 placeholder-gray-500 custom-scrollbar leading-150",placeholder:"Escribe un mensaje...",rows:1,style:{minHeight:"24px"},value:u,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ew()),"Escape"===e.key&&(Z&&eH(),F&&_(null),er.length&&el([]))}}),Z&&(0,r.jsx)("button",{onClick:eH,className:"text-gray-400 hover:text-red-500 mr-1 transition-colors",children:(0,r.jsx)(d.X,{size:20})}),(0,r.jsx)("button",{className:"text-gray-400 hover:text-yellow-500 ml-2 transition-colors",children:(0,r.jsx)(W.e,{size:24})})]}),(0,r.jsx)("button",{onClick:ew,className:`p-3 rounded-full transition-all duration-200 shadow-sm flex items-center justify-center mb-0.5
                            ${u.trim()?"bg-blue-600 text-white hover:bg-blue-700 hover:scale-105 active:scale-95":"bg-gray-200 text-gray-400 cursor-not-allowed"}
                        `,children:(0,r.jsx)(w.n,{weight:"fill",size:22})})]})]})]}):(0,r.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 p-8 text-center bg-slate-50",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm",children:(0,r.jsx)(w.n,{size:48,weight:"thin",className:"text-blue-300"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-700",children:"Comienza a charlar"}),(0,r.jsx)("p",{className:"max-w-xs mt-2 text-sm text-gray-500",children:"Selecciona una conversaci\xf3n de tu bandeja de entrada."})]})}function Y(){return(0,r.jsx)(m,{sidebar:(0,r.jsx)(Z,{}),children:(0,r.jsx)(J,{})})}},70745:(e,t,a)=>{"use strict";a.d(t,{ChatService:()=>l});var r=a(47659);let l={getConversations:async e=>({success:!0,data:r.DB.conversations.filter(t=>t.participants.includes(e))}),getConversation:async e=>({success:!0,data:r.DB.conversations.find(t=>t.id===e)||null}),getMessages:async(e,t,a=50)=>{let l=r.DB.messages.filter(t=>t.conversation_id===e);l.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime());let s=l.length>a;return s&&(l=l.slice(0,a)),{success:!0,data:l.reverse(),hasMore:s,nextCursor:s?l[0]?.id:void 0}},sendMessage:async(e,t,a,l,s,n)=>{let i=r.DB.users.find(e=>e.id===t),c=r.DB.conversations.find(t=>t.id===e),o={id:`msg-${Date.now()}`,conversation_id:e,sender_id:t,body:a,body_type:"text",created_at:new Date().toISOString(),senderName:i?.name||"Unknown",reply_to_message_id:s,attachments:n,tempId:l,status:"sent"};return r.DB.messages.push(o),c&&(c.lastMessage=a,c.lastMessageAt=o.created_at,c.last_message_at=o.created_at,c.lastMessagePreview=a.substring(0,50)),r.DB.save(),o},createConversation:async(e,t,a)=>{let l={id:`conv-${Date.now()}`,type:e,name:a,participants:t,createdAt:new Date().toISOString(),unreadCount:0};return r.DB.conversations.push(l),r.DB.save(),{success:!0,data:l}},markAsRead:async(e,t)=>{let a=r.DB.conversations.find(t=>t.id===e);return a&&(a.unreadCount=0),r.DB.save(),{success:!0,data:!0}},getUsers:async()=>({success:!0,data:r.DB.users.filter(e=>"ACTIVE"===e.status)}),checkNewMessages:async(e,t)=>{let a=r.DB.conversations.filter(t=>t.participants.includes(e)).map(e=>e.id);return r.DB.messages.filter(r=>a.includes(r.conversation_id)&&r.sender_id!==e&&new Date(r.created_at)>new Date(t))},searchMessages:async(e,t)=>{let a=e.toLowerCase(),l=r.DB.messages;return t&&(l=l.filter(e=>e.conversation_id===t)),l.filter(e=>e.body.toLowerCase().includes(a))},searchConversations:async(e,t)=>{let a=t.toLowerCase();return r.DB.conversations.filter(t=>t.participants.includes(e)&&(t.name?.toLowerCase().includes(a)||t.title?.toLowerCase().includes(a)))},searchUsers:async e=>{let t=e.toLowerCase();return r.DB.users.filter(e=>"ACTIVE"===e.status&&(e.name.toLowerCase().includes(t)||e.email?.toLowerCase().includes(t)))},createDM:async(e,t)=>{let a=r.DB.conversations.find(a=>"dm"===a.type&&a.participants.includes(e)&&a.participants.includes(t));if(a)return{success:!0,data:a};let l=r.DB.users.find(e=>e.id===t),s={id:`conv-${Date.now()}`,type:"dm",participants:[e,t],title:l?.name||"Usuario",avatar:l?.initials||"U",createdAt:new Date().toISOString()};return r.DB.conversations.push(s),r.DB.conversationMembers.push({id:`cm-${Date.now()}-1`,conversation_id:s.id,user_id:e,joinedAt:s.createdAt},{id:`cm-${Date.now()}-2`,conversation_id:s.id,user_id:t,joinedAt:s.createdAt}),r.DB.save(),{success:!0,data:s}},createGroup:async(e,t,a)=>{let l={id:`conv-${Date.now()}`,type:"group",name:e,title:e,participants:[t,...a],createdAt:new Date().toISOString()};return r.DB.conversations.push(l),[t,...a].forEach((e,t)=>{r.DB.conversationMembers.push({id:`cm-${Date.now()}-${t}`,conversation_id:l.id,user_id:e,joinedAt:l.createdAt})}),r.DB.save(),{success:!0,data:l}},isBlocked:async(e,t)=>!1,blockUser:async(e,t)=>!0,unblockUser:async(e,t)=>!0,editMessage:async(e,t,a)=>{let l=r.DB.messages.find(a=>a.id===e&&a.sender_id===t);return l?(l.body=a,r.DB.save(),{success:!0,data:l}):{success:!1,data:null,error:"Message not found"}},deleteMessage:async(e,t)=>{let a=r.DB.messages.findIndex(a=>a.id===e&&a.sender_id===t);return a>-1?(r.DB.messages.splice(a,1),r.DB.save(),{success:!0,data:!0}):{success:!1,data:!1,error:"Message not found"}},toggleReaction:async(e,t,a)=>({success:!0,data:!0}),uploadFile:async(e,t)=>(t&&t(100),{id:`att-${Date.now()}`,url:URL.createObjectURL(e),name:e.name,file_name:e.name,size:e.size,type:e.type,mime_type:e.type,created_at:new Date().toISOString()}),leaveGroup:async(e,t)=>{let a=r.DB.conversations.find(t=>t.id===e);return a?(a.participants=a.participants.filter(e=>e!==t),r.DB.save(),{success:!0,data:!0}):{success:!1,data:!1}},muteConversation:async(e,t,a)=>({success:!0,data:!0}),getNotificationSettings:async(e,t)=>({level:"all"}),updateNotificationSettings:async(e,t,a)=>!0,getGroupMembers:async e=>{let t=r.DB.conversations.find(t=>t.id===e);return t?r.DB.users.filter(e=>t.participants.includes(e.id)):[]},reportContent:async(e,t)=>({success:!0,data:!0})}},40209:(e,t,a)=>{"use strict";a.d(t,{Zn:()=>d,p9:()=>o});var r=a(93402),l=a.n(r);let s=["p","br","b","i","em","strong","u","s","strike","h1","h2","h3","h4","h5","h6","ul","ol","li","a","img","blockquote","pre","code","table","thead","tbody","tr","th","td","span","div","hr"],n=["href","src","alt","title","class","id","target","rel","width","height","style"],i=["script","iframe","object","embed","form","input","button"],c=["onerror","onload","onclick","onmouseover","onfocus","onblur"];function o(e){return e?l().sanitize(e,{ALLOWED_TAGS:s,ALLOWED_ATTR:n,FORBID_TAGS:i,FORBID_ATTR:c,ALLOW_DATA_ATTR:!1,ADD_ATTR:["target"],FORCE_BODY:!0}):""}function d(e){if(!e)return"";let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return e.replace(/[&<>"'/]/g,e=>t[e]||e)}},82208:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/andrestabla/.gemini/antigravity/scratch/project_24122025/360/app/dashboard/chat/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/andrestabla/.gemini/antigravity/scratch/project_24122025/360/app/dashboard/chat/page.tsx","default")},62640:(e,t,a)=>{"use strict";a.d(t,{R:()=>i});var r=a(58009),l=a(60349);let s=new Map([["bold",r.createElement(r.Fragment,null,r.createElement("path",{d:"M108,84a16,16,0,1,1,16,16A16,16,0,0,1,108,84Zm128,44A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Zm-72,36.68V132a20,20,0,0,0-20-20,12,12,0,0,0-4,23.32V168a20,20,0,0,0,20,20,12,12,0,0,0,4-23.32Z"}))],["duotone",r.createElement(r.Fragment,null,r.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),r.createElement("path",{d:"M144,176a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176Zm88-48A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128ZM124,96a12,12,0,1,0-12-12A12,12,0,0,0,124,96Z"}))],["fill",r.createElement(r.Fragment,null,r.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-4,48a12,12,0,1,1-12,12A12,12,0,0,1,124,72Zm12,112a16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40a8,8,0,0,1,0,16Z"}))],["light",r.createElement(r.Fragment,null,r.createElement("path",{d:"M142,176a6,6,0,0,1-6,6,14,14,0,0,1-14-14V128a2,2,0,0,0-2-2,6,6,0,0,1,0-12,14,14,0,0,1,14,14v40a2,2,0,0,0,2,2A6,6,0,0,1,142,176ZM124,94a10,10,0,1,0-10-10A10,10,0,0,0,124,94Zm106,34A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"}))],["regular",r.createElement(r.Fragment,null,r.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"}))],["thin",r.createElement(r.Fragment,null,r.createElement("path",{d:"M140,176a4,4,0,0,1-4,4,12,12,0,0,1-12-12V128a4,4,0,0,0-4-4,4,4,0,0,1,0-8,12,12,0,0,1,12,12v40a4,4,0,0,0,4,4A4,4,0,0,1,140,176ZM124,92a8,8,0,1,0-8-8A8,8,0,0,0,124,92Zm104,36A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"}))]]),n=r.forwardRef((e,t)=>r.createElement(l.A,{ref:t,...e,weights:s}));n.displayName="InfoIcon";let i=n},19905:(e,t,a)=>{"use strict";a.d(t,{e:()=>i});var r=a(58009),l=a(60349);let s=new Map([["bold",r.createElement(r.Fragment,null,r.createElement("path",{d:"M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"}))],["duotone",r.createElement(r.Fragment,null,r.createElement("path",{d:"M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z",opacity:"0.2"}),r.createElement("path",{d:"M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"}))],["fill",r.createElement(r.Fragment,null,r.createElement("path",{d:"M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"}))],["light",r.createElement(r.Fragment,null,r.createElement("path",{d:"M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"}))],["regular",r.createElement(r.Fragment,null,r.createElement("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"}))],["thin",r.createElement(r.Fragment,null,r.createElement("path",{d:"M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"}))]]),n=r.forwardRef((e,t)=>r.createElement(l.A,{ref:t,...e,weights:s}));n.displayName="MagnifyingGlassIcon";let i=n},51943:(e,t,a)=>{"use strict";a.d(t,{e:()=>i});var r=a(58009),l=a(60349);let s=new Map([["bold",r.createElement(r.Fragment,null,r.createElement("path",{d:"M178.39,158c-11,19.06-29.39,30-50.39,30s-39.36-10.93-50.39-30a12,12,0,0,1,20.78-12c3.89,6.73,12.91,18,29.61,18s25.72-11.28,29.61-18a12,12,0,1,1,20.78,12ZM236,128A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128ZM92,124a16,16,0,1,0-16-16A16,16,0,0,0,92,124Zm72-32a16,16,0,1,0,16,16A16,16,0,0,0,164,92Z"}))],["duotone",r.createElement(r.Fragment,null,r.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),r.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM80,108a12,12,0,1,1,12,12A12,12,0,0,1,80,108Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,176,108Zm-1.08,48c-10.29,17.79-27.39,28-46.92,28s-36.63-10.2-46.92-28a8,8,0,1,1,13.84-8c7.47,12.91,19.21,20,33.08,20s25.61-7.1,33.08-20a8,8,0,1,1,13.84,8Z"}))],["fill",r.createElement(r.Fragment,null,r.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM92,96a12,12,0,1,1-12,12A12,12,0,0,1,92,96Zm82.92,60c-10.29,17.79-27.39,28-46.92,28s-36.63-10.2-46.92-28a8,8,0,1,1,13.84-8c7.47,12.91,19.21,20,33.08,20s25.61-7.1,33.08-20a8,8,0,1,1,13.84,8ZM164,120a12,12,0,1,1,12-12A12,12,0,0,1,164,120Z"}))],["light",r.createElement(r.Fragment,null,r.createElement("path",{d:"M173.19,155c-9.92,17.16-26.39,27-45.19,27s-35.27-9.84-45.19-27a6,6,0,0,1,10.38-6c7.84,13.54,20.2,21,34.81,21s27-7.46,34.81-21a6,6,0,1,1,10.38,6ZM230,128A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128ZM92,118a10,10,0,1,0-10-10A10,10,0,0,0,92,118Zm72-20a10,10,0,1,0,10,10A10,10,0,0,0,164,98Z"}))],["regular",r.createElement(r.Fragment,null,r.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM80,108a12,12,0,1,1,12,12A12,12,0,0,1,80,108Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,176,108Zm-1.07,48c-10.29,17.79-27.4,28-46.93,28s-36.63-10.2-46.92-28a8,8,0,1,1,13.84-8c7.47,12.91,19.21,20,33.08,20s25.61-7.1,33.07-20a8,8,0,0,1,13.86,8Z"}))],["thin",r.createElement(r.Fragment,null,r.createElement("path",{d:"M171.46,154c-9.55,16.52-25.39,26-43.46,26s-33.91-9.48-43.46-26a4,4,0,0,1,6.92-4c8.21,14.19,21.19,22,36.54,22s28.33-7.81,36.54-22a4,4,0,1,1,6.92,4ZM228,128A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128ZM92,116a8,8,0,1,0-8-8A8,8,0,0,0,92,116Zm72-16a8,8,0,1,0,8,8A8,8,0,0,0,164,100Z"}))]]),n=r.forwardRef((e,t)=>r.createElement(l.A,{ref:t,...e,weights:s}));n.displayName="SmileyIcon";let i=n},40172:(e,t,a)=>{"use strict";a.d(t,{t:()=>i});var r=a(58009),l=a(60349);let s=new Map([["bold",r.createElement(r.Fragment,null,r.createElement("path",{d:"M237,77.47A28,28,0,0,0,216,68H164V56a44.05,44.05,0,0,0-44-44,12,12,0,0,0-10.73,6.63L72.58,92H32a20,20,0,0,0-20,20v88a20,20,0,0,0,20,20H204a28,28,0,0,0,27.78-24.53l12-96A28,28,0,0,0,237,77.47ZM36,116H68v80H36ZM220,96.5l-12,96a4,4,0,0,1-4,3.5H92V106.83L126.82,37.2A20,20,0,0,1,140,56V80a12,12,0,0,0,12,12h64a4,4,0,0,1,4,4.5Z"}))],["duotone",r.createElement(r.Fragment,null,r.createElement("path",{d:"M80,104V208H32a8,8,0,0,1-8-8V112a8,8,0,0,1,8-8Z",opacity:"0.2"}),r.createElement("path",{d:"M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"}))],["fill",r.createElement(r.Fragment,null,r.createElement("path",{d:"M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32Z"}))],["light",r.createElement(r.Fragment,null,r.createElement("path",{d:"M232.49,81.44A22,22,0,0,0,216,74H158V56a38,38,0,0,0-38-38,6,6,0,0,0-5.37,3.32L76.29,98H32a14,14,0,0,0-14,14v88a14,14,0,0,0,14,14H204a22,22,0,0,0,21.83-19.27l12-96A22,22,0,0,0,232.49,81.44ZM30,200V112a2,2,0,0,1,2-2H74v92H32A2,2,0,0,1,30,200ZM225.92,97.24l-12,96A10,10,0,0,1,204,202H86V105.42l37.58-75.17A26,26,0,0,1,146,56V80a6,6,0,0,0,6,6h64a10,10,0,0,1,9.92,11.24Z"}))],["regular",r.createElement(r.Fragment,null,r.createElement("path",{d:"M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"}))],["thin",r.createElement(r.Fragment,null,r.createElement("path",{d:"M231,82.76A20,20,0,0,0,216,76H156V56a36,36,0,0,0-36-36,4,4,0,0,0-3.58,2.21L77.53,100H32a12,12,0,0,0-12,12v88a12,12,0,0,0,12,12H204a20,20,0,0,0,19.85-17.52l12-96A20,20,0,0,0,231,82.76ZM76,204H32a4,4,0,0,1-4-4V112a4,4,0,0,1,4-4H76ZM227.91,97.49l-12,96A12,12,0,0,1,204,204H84V104.94L122.42,28.1A28,28,0,0,1,148,56V80a4,4,0,0,0,4,4h64a12,12,0,0,1,11.91,13.49Z"}))]]),n=r.forwardRef((e,t)=>r.createElement(l.A,{ref:t,...e,weights:s}));n.displayName="ThumbsUpIcon";let i=n},29278:(e,t,a)=>{"use strict";a.d(t,{y:()=>i});var r=a(58009),l=a(60349);let s=new Map([["bold",r.createElement(r.Fragment,null,r.createElement("path",{d:"M256,136a12,12,0,0,1-12,12h-8v8a12,12,0,0,1-24,0v-8h-8a12,12,0,0,1,0-24h8v-8a12,12,0,0,1,24,0v8h8A12,12,0,0,1,256,136Zm-54.81,56.28a12,12,0,1,1-18.38,15.44C169.12,191.42,145,172,108,172c-28.89,0-55.46,12.68-74.81,35.72a12,12,0,0,1-18.38-15.44A124.08,124.08,0,0,1,63.5,156.53a72,72,0,1,1,89,0A124,124,0,0,1,201.19,192.28ZM108,148a48,48,0,1,0-48-48A48.05,48.05,0,0,0,108,148Z"}))],["duotone",r.createElement(r.Fragment,null,r.createElement("path",{d:"M168,100a60,60,0,1,1-60-60A60,60,0,0,1,168,100Z",opacity:"0.2"}),r.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136Zm-57.87,58.85a8,8,0,0,1-12.26,10.3C165.75,181.19,138.09,168,108,168s-57.75,13.19-77.87,37.15a8,8,0,0,1-12.25-10.3c14.94-17.78,33.52-30.41,54.17-37.17a68,68,0,1,1,71.9,0C164.6,164.44,183.18,177.07,198.13,194.85ZM108,152a52,52,0,1,0-52-52A52.06,52.06,0,0,0,108,152Z"}))],["fill",r.createElement(r.Fragment,null,r.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136ZM144,157.68a68,68,0,1,0-71.9,0c-20.65,6.76-39.23,19.39-54.17,37.17A8,8,0,0,0,24,208H192a8,8,0,0,0,6.13-13.15C183.18,177.07,164.6,164.44,144,157.68Z"}))],["light",r.createElement(r.Fragment,null,r.createElement("path",{d:"M254,136a6,6,0,0,1-6,6H230v18a6,6,0,0,1-12,0V142H200a6,6,0,0,1,0-12h18V112a6,6,0,0,1,12,0v18h18A6,6,0,0,1,254,136Zm-57.41,60.14a6,6,0,1,1-9.18,7.72C166.9,179.45,138.69,166,108,166s-58.89,13.45-79.41,37.86a6,6,0,0,1-9.18-7.72C35.14,177.41,55,164.48,77,158.25a66,66,0,1,1,62,0C161,164.48,180.86,177.41,196.59,196.14ZM108,154a54,54,0,1,0-54-54A54.06,54.06,0,0,0,108,154Z"}))],["regular",r.createElement(r.Fragment,null,r.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136Zm-57.87,58.85a8,8,0,0,1-12.26,10.3C165.75,181.19,138.09,168,108,168s-57.75,13.19-77.87,37.15a8,8,0,0,1-12.25-10.3c14.94-17.78,33.52-30.41,54.17-37.17a68,68,0,1,1,71.9,0C164.6,164.44,183.18,177.07,198.13,194.85ZM108,152a52,52,0,1,0-52-52A52.06,52.06,0,0,0,108,152Z"}))],["thin",r.createElement(r.Fragment,null,r.createElement("path",{d:"M252,136a4,4,0,0,1-4,4H228v20a4,4,0,0,1-8,0V140H200a4,4,0,0,1,0-8h20V112a4,4,0,0,1,8,0v20h20A4,4,0,0,1,252,136Zm-56.94,61.43a4,4,0,0,1-6.12,5.14C168,177.7,139.3,164,108,164s-60,13.7-80.94,38.57a4,4,0,1,1-6.12-5.14c16.71-19.9,38.13-33.13,61.89-38.59a64,64,0,1,1,50.34,0C156.93,164.3,178.35,177.53,195.06,197.43ZM108,156a56,56,0,1,0-56-56A56.06,56.06,0,0,0,108,156Z"}))]]),n=r.forwardRef((e,t)=>r.createElement(l.A,{ref:t,...e,weights:s}));n.displayName="UserPlusIcon";let i=n},29534:(e,t,a)=>{"use strict";a.d(t,{z:()=>i});var r=a(58009),l=a(60349);let s=new Map([["bold",r.createElement(r.Fragment,null,r.createElement("path",{d:"M125.18,156.94a64,64,0,1,0-82.36,0,100.23,100.23,0,0,0-39.49,32,12,12,0,0,0,19.35,14.2,76,76,0,0,1,122.64,0,12,12,0,0,0,19.36-14.2A100.33,100.33,0,0,0,125.18,156.94ZM44,108a40,40,0,1,1,40,40A40,40,0,0,1,44,108Zm206.1,97.67a12,12,0,0,1-16.78-2.57A76.31,76.31,0,0,0,172,172a12,12,0,0,1,0-24,40,40,0,1,0-10.3-78.67,12,12,0,1,1-6.16-23.19,64,64,0,0,1,57.64,110.8,100.23,100.23,0,0,1,39.49,32A12,12,0,0,1,250.1,205.67Z"}))],["duotone",r.createElement(r.Fragment,null,r.createElement("path",{d:"M136,108A52,52,0,1,1,84,56,52,52,0,0,1,136,108Z",opacity:"0.2"}),r.createElement("path",{d:"M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"}))],["fill",r.createElement(r.Fragment,null,r.createElement("path",{d:"M164.47,195.63a8,8,0,0,1-6.7,12.37H10.23a8,8,0,0,1-6.7-12.37,95.83,95.83,0,0,1,47.22-37.71,60,60,0,1,1,66.5,0A95.83,95.83,0,0,1,164.47,195.63Zm87.91-.15a95.87,95.87,0,0,0-47.13-37.56A60,60,0,0,0,144.7,54.59a4,4,0,0,0-1.33,6A75.83,75.83,0,0,1,147,150.53a4,4,0,0,0,1.07,5.53,112.32,112.32,0,0,1,29.85,30.83,23.92,23.92,0,0,1,3.65,16.47,4,4,0,0,0,3.95,4.64h60.3a8,8,0,0,0,7.73-5.93A8.22,8.22,0,0,0,252.38,195.48Z"}))],["light",r.createElement(r.Fragment,null,r.createElement("path",{d:"M112.6,158.43a58,58,0,1,0-57.2,0A93.83,93.83,0,0,0,5.21,196.72a6,6,0,0,0,10.05,6.56,82,82,0,0,1,137.48,0,6,6,0,0,0,10-6.56A93.83,93.83,0,0,0,112.6,158.43ZM38,108a46,46,0,1,1,46,46A46.06,46.06,0,0,1,38,108Zm211,97a6,6,0,0,1-8.3-1.74A81.8,81.8,0,0,0,172,166a6,6,0,0,1,0-12,46,46,0,1,0-17.08-88.73,6,6,0,1,1-4.46-11.14,58,58,0,0,1,50.14,104.3,93.83,93.83,0,0,1,50.19,38.29A6,6,0,0,1,249,205Z"}))],["regular",r.createElement(r.Fragment,null,r.createElement("path",{d:"M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"}))],["thin",r.createElement(r.Fragment,null,r.createElement("path",{d:"M107.19,159a56,56,0,1,0-46.38,0A91.83,91.83,0,0,0,6.88,197.81a4,4,0,1,0,6.7,4.37,84,84,0,0,1,140.84,0,4,4,0,1,0,6.7-4.37A91.83,91.83,0,0,0,107.19,159ZM36,108a48,48,0,1,1,48,48A48.05,48.05,0,0,1,36,108Zm212,95.35a4,4,0,0,1-5.53-1.17A83.81,83.81,0,0,0,172,164a4,4,0,0,1,0-8,48,48,0,1,0-17.82-92.58,4,4,0,1,1-3-7.43,56,56,0,0,1,44,103,91.83,91.83,0,0,1,53.93,38.86A4,4,0,0,1,248,203.35Z"}))]]),n=r.forwardRef((e,t)=>r.createElement(l.A,{ref:t,...e,weights:s}));n.displayName="UsersIcon";let i=n}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,9187,7185,9140,4926,2344,3681,1357,6490,5475,3852,9060],()=>a(80222));module.exports=r})();