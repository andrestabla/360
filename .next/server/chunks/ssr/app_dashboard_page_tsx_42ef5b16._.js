module.exports=[20731,a=>{"use strict";var b=a.i(87924),c=a.i(98263),d=a.i(82665),e=a.i(72131),f=a.i(11701),g=a.i(60217);let h=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M92,108a12,12,0,0,1,12-12h72a12,12,0,0,1,0,24H104A12,12,0,0,1,92,108Zm12,52h72a12,12,0,0,0,0-24H104a12,12,0,0,0,0,24ZM236,64V184a28,28,0,0,1-28,28H36A32,32,0,0,1,4,180V88a12,12,0,0,1,24,0v92a8,8,0,0,0,16,0V64A20,20,0,0,1,64,44H216A20,20,0,0,1,236,64Zm-24,4H68V180a32,32,0,0,1-1,8H208a4,4,0,0,0,4-4Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M224,64V184a16,16,0,0,1-16,16H32a16,16,0,0,0,16-16V64a8,8,0,0,1,8-8H216A8,8,0,0,1,224,64Z",opacity:"0.2"}),e.createElement("path",{d:"M88,112a8,8,0,0,1,8-8h80a8,8,0,0,1,0,16H96A8,8,0,0,1,88,112Zm8,40h80a8,8,0,0,0,0-16H96a8,8,0,0,0,0,16ZM232,64V184a24,24,0,0,1-24,24H32A24,24,0,0,1,8,184.11V88a8,8,0,0,1,16,0v96a8,8,0,0,0,16,0V64A16,16,0,0,1,56,48H216A16,16,0,0,1,232,64Zm-16,0H56V184a23.84,23.84,0,0,1-1.37,8H208a8,8,0,0,0,8-8Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M216,48H56A16,16,0,0,0,40,64V184a8,8,0,0,1-16,0V88A8,8,0,0,0,8,88v96.11A24,24,0,0,0,32,208H208a24,24,0,0,0,24-24V64A16,16,0,0,0,216,48ZM176,152H96a8,8,0,0,1,0-16h80a8,8,0,0,1,0,16Zm0-32H96a8,8,0,0,1,0-16h80a8,8,0,0,1,0,16Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M182,112a6,6,0,0,1-6,6H96a6,6,0,0,1,0-12h80A6,6,0,0,1,182,112Zm-6,26H96a6,6,0,0,0,0,12h80a6,6,0,0,0,0-12Zm54-74V184a22,22,0,0,1-22,22H32a22,22,0,0,1-22-21.91V88a6,6,0,0,1,12,0v96a10,10,0,0,0,20,0V64A14,14,0,0,1,56,50H216A14,14,0,0,1,230,64Zm-12,0a2,2,0,0,0-2-2H56a2,2,0,0,0-2,2V184a21.84,21.84,0,0,1-2.41,10H208a10,10,0,0,0,10-10Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M88,112a8,8,0,0,1,8-8h80a8,8,0,0,1,0,16H96A8,8,0,0,1,88,112Zm8,40h80a8,8,0,0,0,0-16H96a8,8,0,0,0,0,16ZM232,64V184a24,24,0,0,1-24,24H32A24,24,0,0,1,8,184.11V88a8,8,0,0,1,16,0v96a8,8,0,0,0,16,0V64A16,16,0,0,1,56,48H216A16,16,0,0,1,232,64Zm-16,0H56V184a23.84,23.84,0,0,1-1.37,8H208a8,8,0,0,0,8-8Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M180,112a4,4,0,0,1-4,4H96a4,4,0,0,1,0-8h80A4,4,0,0,1,180,112Zm-4,28H96a4,4,0,0,0,0,8h80a4,4,0,0,0,0-8Zm52-76V184a20,20,0,0,1-20,20H32a20,20,0,0,1-20-19.92V88a4,4,0,0,1,8,0v96a12,12,0,0,0,24,0V64A12,12,0,0,1,56,52H216A12,12,0,0,1,228,64Zm-8,0a4,4,0,0,0-4-4H56a4,4,0,0,0-4,4V184a19.86,19.86,0,0,1-4,12H208a12,12,0,0,0,12-12Z"}))]]),i=e.forwardRef((a,b)=>e.createElement(g.default,{ref:b,...a,weights:h}));i.displayName="NewspaperIcon";var j=a.i(60144);a.i(11614);var k=a.i(27488),l=a.i(54069);let m=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M216.49,79.51l-56-56A12,12,0,0,0,152,20H56A20,20,0,0,0,36,40v68a12,12,0,0,0,24,0V44h76V92a12,12,0,0,0,12,12h48V212a12,12,0,0,0,0,24h4a20,20,0,0,0,20-20V88A12,12,0,0,0,216.49,79.51ZM160,57l23,23H160Zm-1.91,84.69a12,12,0,0,0-11.92-.15L126.5,152.44A20,20,0,0,0,108,140H48a20,20,0,0,0-20,20v48a20,20,0,0,0,20,20h60a20,20,0,0,0,18.5-12.44l19.67,10.93A12,12,0,0,0,164,216V152A12,12,0,0,0,158.09,141.66ZM104,204H52V164h52Zm36-8.39-12-6.67v-9.88l12-6.67Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,88H152V32Zm-88,72a8,8,0,0,0-8-8H48a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V196l32,20V152l-32,20Z",opacity:"0.2"}),e.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v72a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM155.88,145a8,8,0,0,0-8.12.22l-19.95,12.46A16,16,0,0,0,112,144H48a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h64a16,16,0,0,0,15.81-13.68l19.95,12.46A8,8,0,0,0,160,216V152A8,8,0,0,0,155.88,145ZM112,208H48V160h64v48Zm32-6.43-16-10V176.43l16-10Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v72a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM155.88,145a8,8,0,0,0-8.12.22l-19.95,12.46A16,16,0,0,0,112,144H48a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h64a16,16,0,0,0,15.81-13.68l19.95,12.46A8,8,0,0,0,160,216V152A8,8,0,0,0,155.88,145ZM144,201.57l-16-10V176.43l16-10Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M212.24,83.76l-56-56A6,6,0,0,0,152,26H56A14,14,0,0,0,42,40v72a6,6,0,0,0,12,0V40a2,2,0,0,1,2-2h90V88a6,6,0,0,0,6,6h50V216a2,2,0,0,1-2,2h-8a6,6,0,0,0,0,12h8a14,14,0,0,0,14-14V88A6,6,0,0,0,212.24,83.76ZM158,46.48,193.52,82H158Zm-3.09,100.27a6,6,0,0,0-6.09.16L126,161.17V160a14,14,0,0,0-14-14H48a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h64a14,14,0,0,0,14-14v-1.17l22.82,14.26A6,6,0,0,0,158,216V152A6,6,0,0,0,154.91,146.75ZM114,208a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V160a2,2,0,0,1,2-2h64a2,2,0,0,1,2,2Zm32-2.83-20-12.5V175.33l20-12.5Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v72a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM155.88,145a8,8,0,0,0-8.12.22l-19.95,12.46A16,16,0,0,0,112,144H48a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h64a16,16,0,0,0,15.81-13.68l19.95,12.46A8,8,0,0,0,160,216V152A8,8,0,0,0,155.88,145ZM112,208H48V160h64v48Zm32-6.43-16-10V176.43l16-10Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M210.83,85.17l-56-56A4,4,0,0,0,152,28H56A12,12,0,0,0,44,40v72a4,4,0,0,0,8,0V40a4,4,0,0,1,4-4h92V88a4,4,0,0,0,4,4h52V216a4,4,0,0,1-4,4h-8a4,4,0,0,0,0,8h8a12,12,0,0,0,12-12V88A4,4,0,0,0,210.83,85.17ZM156,41.65,198.34,84H156ZM153.94,148.5a4,4,0,0,0-4.06.11L124,164.78V160a12,12,0,0,0-12-12H48a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h64a12,12,0,0,0,12-12v-4.78l25.88,16.17A4,4,0,0,0,152,220a4.06,4.06,0,0,0,1.94-.5A4,4,0,0,0,156,216V152A4,4,0,0,0,153.94,148.5ZM116,208a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V160a4,4,0,0,1,4-4h64a4,4,0,0,1,4,4Zm32,.78-24-15V174.22l24-15Z"}))]]);e.forwardRef((a,b)=>e.createElement(g.default,{ref:b,...a,weights:m})).displayName="FileVideoIcon";let n=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M114,145.34a12,12,0,0,0-20,0L79,167.82,72.3,157.73a12,12,0,0,0-20.07.17L13.91,217.51A12,12,0,0,0,24,236H152a12,12,0,0,0,10-18.66ZM46,212,62.5,186.3l6.55,9.81a12,12,0,0,0,20,0l15-22.48L129.58,212ZM216.49,79.51l-56-56A12,12,0,0,0,152,20H56A20,20,0,0,0,36,40v84a12,12,0,0,0,24,0V44h76V92a12,12,0,0,0,12,12h48V212a12,12,0,0,0,0,24h4a20,20,0,0,0,20-20V88A12,12,0,0,0,216.49,79.51ZM160,57l23,23H160Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M104,152l48,72H24l36-56,16.36,25.45ZM152,32V88h56Z",opacity:"0.2"}),e.createElement("path",{d:"M110.66,147.56a8,8,0,0,0-13.32,0L76.49,178.85l-9.76-15.18a8,8,0,0,0-13.46,0l-36,56A8,8,0,0,0,24,232H152a8,8,0,0,0,6.66-12.44ZM38.65,216,60,182.79l9.63,15a8,8,0,0,0,13.39.11l21-31.47L137.05,216Zm175-133.66-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v88a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M158.66,219.56A8,8,0,0,1,152,232H24a8,8,0,0,1-6.73-12.33l36-56a8,8,0,0,1,13.46,0l9.76,15.18,20.85-31.29a8,8,0,0,1,13.32,0ZM216,88V216a16,16,0,0,1-16,16h-8a8,8,0,0,1,0-16h8V96H152a8,8,0,0,1-8-8V40H56v88a8,8,0,0,1-16,0V40A16,16,0,0,1,56,24h96a8,8,0,0,1,5.66,2.34l56,56A8,8,0,0,1,216,88Zm-56-8h28.69L160,51.31Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M109,148.67a6,6,0,0,0-10,0L76.46,182.5,65.05,164.76a6,6,0,0,0-10.1,0l-36,56A6,6,0,0,0,24,230H152a6,6,0,0,0,5-9.33ZM35,218l25-38.9,11.32,17.6a6,6,0,0,0,10,.08l22.64-34L140.79,218ZM212.24,83.76l-56-56A6,6,0,0,0,152,26H56A14,14,0,0,0,42,40v88a6,6,0,0,0,12,0V40a2,2,0,0,1,2-2h90V88a6,6,0,0,0,6,6h50V216a2,2,0,0,1-2,2h-8a6,6,0,0,0,0,12h8a14,14,0,0,0,14-14V88A6,6,0,0,0,212.24,83.76ZM158,46.48,193.52,82H158Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M110.66,147.56a8,8,0,0,0-13.32,0L76.49,178.85l-9.76-15.18a8,8,0,0,0-13.46,0l-36,56A8,8,0,0,0,24,232H152a8,8,0,0,0,6.66-12.44ZM38.65,216,60,182.79l9.63,15a8,8,0,0,0,13.39.11l21-31.47L137.05,216Zm175-133.66-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v88a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M107.33,149.78a4,4,0,0,0-6.66,0L76.42,186.15,63.36,165.84a4,4,0,0,0-6.72,0l-36,56A4,4,0,0,0,24,228H152a4,4,0,0,0,3.33-6.22ZM31.33,220,60,175.4l13,20.22a4,4,0,0,0,3.33,1.83,3.93,3.93,0,0,0,3.36-1.78L104,159.21,144.53,220ZM210.83,85.17l-56-56A4,4,0,0,0,152,28H56A12,12,0,0,0,44,40v88a4,4,0,0,0,8,0V40a4,4,0,0,1,4-4h92V88a4,4,0,0,0,4,4h52V216a4,4,0,0,1-4,4h-8a4,4,0,0,0,0,8h8a12,12,0,0,0,12-12V88A4,4,0,0,0,210.83,85.17ZM156,41.65,198.34,84H156Z"}))]]);e.forwardRef((a,b)=>e.createElement(g.default,{ref:b,...a,weights:n})).displayName="FileImageIcon";var o=a.i(36519);let p=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M234.49,111.07,90.41,22.94A20,20,0,0,0,60,39.87V216.13a20,20,0,0,0,30.41,16.93l144.08-88.13a19.82,19.82,0,0,0,0-33.86ZM84,208.85V47.15L216.16,128Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M228.23,134.69,84.15,222.81A8,8,0,0,1,72,216.12V39.88a8,8,0,0,1,12.15-6.69l144.08,88.12A7.82,7.82,0,0,1,228.23,134.69Z",opacity:"0.2"}),e.createElement("path",{d:"M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M240,128a15.74,15.74,0,0,1-7.6,13.51L88.32,229.65a16,16,0,0,1-16.2.3A15.86,15.86,0,0,1,64,216.13V39.87a15.86,15.86,0,0,1,8.12-13.82,16,16,0,0,1,16.2.3L232.4,114.49A15.74,15.74,0,0,1,240,128Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M231.36,116.19,87.28,28.06a14,14,0,0,0-14.18-.27A13.69,13.69,0,0,0,66,39.87V216.13a13.69,13.69,0,0,0,7.1,12.08,14,14,0,0,0,14.18-.27l144.08-88.13a13.82,13.82,0,0,0,0-23.62Zm-6.26,13.38L81,217.7a2,2,0,0,1-2.06,0,1.78,1.78,0,0,1-1-1.61V39.87a1.78,1.78,0,0,1,1-1.61A2.06,2.06,0,0,1,80,38a2,2,0,0,1,1,.31L225.1,126.43a1.82,1.82,0,0,1,0,3.14Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M230.32,117.9,86.24,29.79a11.91,11.91,0,0,0-12.17-.23A11.71,11.71,0,0,0,68,39.89V216.11a11.71,11.71,0,0,0,6.07,10.33,11.91,11.91,0,0,0,12.17-.23L230.32,138.1a11.82,11.82,0,0,0,0-20.2Zm-4.18,13.37L82.06,219.39a4,4,0,0,1-4.07.07,3.77,3.77,0,0,1-2-3.35V39.89a3.77,3.77,0,0,1,2-3.35,4,4,0,0,1,4.07.07l144.08,88.12a3.8,3.8,0,0,1,0,6.54Z"}))]]),q=e.forwardRef((a,b)=>e.createElement(g.default,{ref:b,...a,weights:p}));q.displayName="PlayIcon";var r=a.i(8798),s=a.i(73856),t=a.i(69478),u=a.i(86743);let v=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M236,208a12,12,0,0,1-12,12H32a12,12,0,0,1-12-12V48a12,12,0,0,1,24,0v99l43.51-43.52a12,12,0,0,1,17,0L128,127l43-43H160a12,12,0,0,1,0-24h40a12,12,0,0,1,12,12v40a12,12,0,0,1-24,0V101l-51.51,51.52a12,12,0,0,1-17,0L96,129,44,181v15H224A12,12,0,0,1,236,208Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M224,64V208H32V48H208A16,16,0,0,1,224,64Z",opacity:"0.2"}),e.createElement("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V156.69l50.34-50.35a8,8,0,0,1,11.32,0L128,132.69,180.69,80H160a8,8,0,0,1,0-16h40a8,8,0,0,1,8,8v40a8,8,0,0,1-16,0V91.31l-58.34,58.35a8,8,0,0,1-11.32,0L96,123.31l-56,56V200H224A8,8,0,0,1,232,208Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM200,192H56a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v76.69l34.34-34.35a8,8,0,0,1,11.32,0L128,132.69,172.69,88H144a8,8,0,0,1,0-16h48a8,8,0,0,1,8,8v48a8,8,0,0,1-16,0V99.31l-50.34,50.35a8,8,0,0,1-11.32,0L104,131.31l-40,40V176H200a8,8,0,0,1,0,16Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M230,208a6,6,0,0,1-6,6H32a6,6,0,0,1-6-6V48a6,6,0,0,1,12,0V161.52l53.76-53.76a6,6,0,0,1,8.48,0L128,135.51,185.52,78H160a6,6,0,0,1,0-12h40a6,6,0,0,1,6,6v40a6,6,0,0,1-12,0V86.48l-61.76,61.76a6,6,0,0,1-8.48,0L96,120.49l-58,58V202H224A6,6,0,0,1,230,208Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V156.69l50.34-50.35a8,8,0,0,1,11.32,0L128,132.69,180.69,80H160a8,8,0,0,1,0-16h40a8,8,0,0,1,8,8v40a8,8,0,0,1-16,0V91.31l-58.34,58.35a8,8,0,0,1-11.32,0L96,123.31l-56,56V200H224A8,8,0,0,1,232,208Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M228,208a4,4,0,0,1-4,4H32a4,4,0,0,1-4-4V48a4,4,0,0,1,8,0V166.34l57.17-57.17a4,4,0,0,1,5.66,0L128,138.34,190.34,76H160a4,4,0,0,1,0-8h40a4,4,0,0,1,4,4v40a4,4,0,0,1-8,0V81.66l-65.17,65.17a4,4,0,0,1-5.66,0L96,117.66l-60,60V204H224A4,4,0,0,1,228,208Z"}))]]),w=e.forwardRef((a,b)=>e.createElement(g.default,{ref:b,...a,weights:v}));w.displayName="ChartLineUpIcon";var x=a.i(50329),y=a.i(56497),z=a.i(38246),A=a.i(39321),B=a.i(61390),C=a.i(24454),D=a.i(72129),E=a.i(96542),F=a.i(89184),G=a.i(25603);function H({post:a,onClose:f}){let{currentUser:g}=(0,c.useApp)(),[h,i]=(0,e.useState)(0),[j,k]=(0,e.useState)(!1),[l,m]=(0,e.useState)([]),[n,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(""),s=(0,e.useRef)(null);return((0,e.useEffect)(()=>{a&&(i(a.likes),k(!1),m(d.DB.publicComments.filter(b=>b.postId===a.id)||[]),p(!1))},[a]),(0,e.useEffect)(()=>{n&&s.current&&s.current.scrollIntoView({behavior:"smooth"})},[l,n]),a)?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm animate-fadeIn",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] rounded-2xl overflow-hidden shadow-2xl flex flex-col relative animate-slideUp",children:[(0,b.jsx)("button",{onClick:f,className:"absolute top-4 right-4 z-10 w-8 h-8 flex items-center justify-center bg-black/50 hover:bg-black/70 text-white rounded-full transition-colors",children:(0,b.jsx)(A.X,{weight:"bold"})}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden relative",children:["article"!==a.mediaType&&(0,b.jsx)("div",{className:"bg-slate-900 w-full flex-shrink-0 relative group",children:function(a){switch(a.mediaType){case"video":let c=function(a){if(!a)return null;let b=a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return b&&11===b[2].length?`https://www.youtube.com/embed/${b[2]}`:null}(a.mediaUrl||"");return(0,b.jsxs)("div",{className:"aspect-video bg-black flex items-center justify-center relative w-full",children:[c?(0,b.jsx)("iframe",{src:c,title:a.title,className:"w-full h-full border-0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):(0,b.jsx)("video",{src:a.mediaUrl,poster:a.image,controls:!0,className:"w-full h-full object-contain"}),!a.mediaUrl&&!c&&(0,b.jsx)("div",{className:"text-white",children:"Video no disponible"})]});case"audio":return(0,b.jsxs)("div",{className:"w-full bg-slate-800 p-8 flex flex-col items-center justify-center gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-indigo-500 flex items-center justify-center text-white shadow-lg animate-pulse",children:(0,b.jsx)(o.SpeakerHigh,{size:32,weight:"fill"})}),(0,b.jsx)("audio",{src:a.mediaUrl,controls:!0,className:"w-full max-w-md"})]});case"image":return(0,b.jsx)("div",{className:"max-h-[50vh] w-full bg-black flex items-center justify-center",children:a.mediaUrl||a.image?(0,b.jsx)("img",{src:a.mediaUrl||a.image,alt:a.title,className:"max-h-[50vh] w-auto max-w-full object-contain"}):(0,b.jsxs)("div",{className:"flex flex-col items-center text-slate-500 gap-2",children:[(0,b.jsx)(E.Image,{size:48}),(0,b.jsx)("span",{className:"text-sm",children:"Imagen no disponible"})]})});default:if(!a.image)return null;return(0,b.jsxs)("div",{className:"h-64 w-full relative",children:[(0,b.jsx)("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]})}}(a)}),(0,b.jsxs)("div",{className:"p-6 md:p-8",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${function(a){switch(a){case"Institucional":return"bg-blue-100 text-blue-700";case"Alerta":return"bg-red-100 text-red-700";case"Social":return"bg-pink-100 text-pink-700";default:return"bg-slate-100 text-slate-600"}}(a.category)}`,children:a.category}),(0,b.jsx)("span",{className:"text-slate-400 text-sm font-medium",children:a.date})]}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-800 leading-tight mb-2",children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-slate-500 font-medium",children:["Por ",a.author]})]}),"article"===a.mediaType&&a.image&&(0,b.jsx)("img",{src:a.image,alt:"",className:"w-full h-64 object-cover rounded-xl mb-6 shadow-sm"}),(0,b.jsx)("div",{className:"prose prose-slate max-w-none mb-8 text-slate-600 leading-relaxed",dangerouslySetInnerHTML:{__html:a.content}}),a.attach&&(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50 border border-slate-100 rounded-lg mb-8",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center text-slate-400 shadow-sm border border-slate-100",children:(0,b.jsx)(D.Paperclip,{size:20})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-700",children:a.attach.name}),(0,b.jsxs)("div",{className:"text-xs text-slate-400 uppercase",children:[a.attach.type," â€¢ 2.4 MB"]})]}),(0,b.jsx)("button",{className:"text-xs font-bold text-blue-600 px-3 hover:underline",children:"Descargar"})]}),n&&(0,b.jsxs)("div",{className:"border-t border-slate-100 pt-6 animate-fadeIn",children:[(0,b.jsxs)("h3",{className:"text-sm font-bold text-slate-800 mb-4 flex items-center gap-2",children:["Comentarios ",(0,b.jsxs)("span",{className:"text-slate-400 font-normal",children:["(",l.length,")"]})]}),(0,b.jsxs)("div",{className:"space-y-4 mb-6",children:[l.length>0?l.map(a=>(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 shrink-0",children:(0,b.jsx)(G.UserCircle,{size:24,weight:"fill"})}),(0,b.jsxs)("div",{className:"bg-slate-50 p-3 rounded-2xl rounded-tl-none text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between items-baseline mb-1 gap-2",children:[(0,b.jsx)("span",{className:"font-bold text-slate-900",children:a.userName}),(0,b.jsx)("span",{className:"text-[10px] text-slate-400",children:a.date})]}),(0,b.jsx)("p",{className:"text-slate-600",children:a.content})]})]},a.id)):(0,b.jsx)("div",{className:"text-center py-6 text-slate-400 text-sm",children:"SÃ© el primero en comentar."}),(0,b.jsx)("div",{ref:s})]})]})]})]}),(0,b.jsx)("div",{className:"p-4 border-t border-slate-100 bg-white z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:n?(0,b.jsxs)("form",{onSubmit:b=>{if(b.preventDefault(),!q.trim()||!g)return;let c={id:`c-${Date.now()}`,postId:a.id,authorId:g.id,authorName:g.name,userId:g.id,userName:g.name,content:q,createdAt:new Date().toISOString(),date:"Ahora"},e=[...l,c];m(e),r(""),d.DB.publicComments.push(c);let f=d.DB.posts.find(b=>b.id===a.id);f&&(f.commentsCount=e.length)},className:"flex gap-2 items-centeranimate-slideUp",children:[(0,b.jsx)("input",{autoFocus:!0,value:q,onChange:a=>r(a.target.value),placeholder:"Escribe un comentario...",className:"flex-1 bg-slate-50 border border-slate-200 rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 ring-blue-500/20"}),(0,b.jsx)("button",{type:"button",onClick:()=>p(!1),className:"p-2 text-slate-400 hover:text-slate-600",children:(0,b.jsx)(A.X,{})}),(0,b.jsx)("button",{type:"submit",disabled:!q.trim(),className:"w-10 h-10 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white rounded-full flex items-center justify-center transition-colors shadow-lg shadow-blue-500/20",children:(0,b.jsx)(F.PaperPlaneRight,{weight:"fill"})})]}):(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("button",{onClick:()=>{j?(i(a=>a-1),k(!1)):(i(a=>a+1),k(!0));let b=d.DB.posts.find(b=>b.id===a.id);b&&(b.likes=j?h-1:h+1)},className:`flex items-center gap-2 transition-colors group ${j?"text-red-500":"text-slate-600 hover:text-slate-900"}`,children:[(0,b.jsx)(B.Heart,{size:24,weight:j?"fill":"regular",className:`transition-transform ${j?"scale-110":"group-hover:scale-110"}`}),(0,b.jsx)("span",{className:"text-sm font-bold",children:h})]}),(0,b.jsxs)("button",{onClick:()=>p(!0),className:"flex items-center gap-2 text-slate-600 hover:text-blue-600 transition-colors group",children:[(0,b.jsx)(C.ChatCircle,{size:24,className:"group-hover:scale-110 transition-transform"}),(0,b.jsx)("span",{className:"text-sm font-bold",children:l.length})]})]}),(0,b.jsx)("button",{className:"text-sm text-slate-500 hover:text-slate-800 font-medium",children:"Compartir"})]})})]})}):null}var I=a.i(33986),J=a.i(80159),K=a.i(10158),L=a.i(39577),M=a.i(71174),N=a.i(33686),O=a.i(49704),P=a.i(63144),Q=a.i(44306),R=a.i(24241);let S=[{name:"Azul",value:"bg-blue-500",border:"border-blue-100",text:"text-blue-600",light:"bg-blue-50"},{name:"Esmeralda",value:"bg-emerald-500",border:"border-emerald-100",text:"text-emerald-600",light:"bg-emerald-50"},{name:"Violeta",value:"bg-violet-500",border:"border-violet-100",text:"text-violet-600",light:"bg-violet-50"},{name:"Ãmbar",value:"bg-amber-500",border:"border-amber-100",text:"text-amber-600",light:"bg-amber-50"},{name:"Rosa",value:"bg-rose-500",border:"border-rose-100",text:"text-rose-600",light:"bg-rose-50"},{name:"Slate",value:"bg-slate-500",border:"border-slate-100",text:"text-slate-600",light:"bg-slate-50"}];function T({userId:a,tenantId:c}){let[f,g]=(0,e.useState)("LIST"),[h,i]=(0,e.useState)(!1),[j,k]=(0,e.useState)(null),[l,m]=(0,e.useState)(()=>d.DB.workNotes.filter(b=>b.userId===a&&b.tenantId===c)),[n,o]=(0,e.useState)("ACTIVE"),[p,q]=(0,e.useState)(new Date),r=(0,e.useMemo)(()=>l.filter(a=>"ALL"===n||a.status===n).sort((a,b)=>new Date(b.createdAt).getTime()-new Date(a.createdAt).getTime()),[l,n]),s=(a,b)=>{m(l.map(c=>c.id===a?{...c,...b,updatedAt:new Date().toISOString()}:c));let c=d.DB.workNotes.findIndex(b=>b.id===a);c>-1&&(d.DB.workNotes[c]={...d.DB.workNotes[c],...b,updatedAt:new Date().toISOString()}),k(null)};return(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col h-[500px]",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-lg",children:(0,b.jsx)(R.Star,{weight:"fill",size:20})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-slate-800 text-sm",children:"Notas de Trabajo"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-0.5",children:[(0,b.jsx)("button",{onClick:()=>o("ACTIVE"),className:`text-[10px] font-bold uppercase tracking-wider ${"ACTIVE"===n?"text-blue-600":"text-slate-400 hover:text-slate-600"}`,children:"Activas"}),(0,b.jsx)("button",{onClick:()=>o("COMPLETED"),className:`text-[10px] font-bold uppercase tracking-wider ${"COMPLETED"===n?"text-blue-600":"text-slate-400 hover:text-slate-600"}`,children:"Completadas"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"bg-slate-100 p-1 rounded-lg flex items-center",children:[(0,b.jsx)("button",{onClick:()=>g("LIST"),className:`p-1.5 rounded-md transition-colors ${"LIST"===f?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,title:"Vista Lista",children:(0,b.jsx)(J.List,{size:18,weight:"bold"})}),(0,b.jsx)("button",{onClick:()=>g("CALENDAR"),className:`p-1.5 rounded-md transition-colors ${"CALENDAR"===f?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,title:"Vista Calendario",children:(0,b.jsx)(I.Calendar,{size:18,weight:"bold"})})]}),(0,b.jsx)("button",{onClick:()=>i(!0),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",title:"Nueva Nota",children:(0,b.jsx)(K.Plus,{size:20,weight:"bold"})})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:"LIST"===f?(0,b.jsx)(U,{notes:r,onToggleComplete:a=>{s(a.id,{status:"ACTIVE"===a.status?"COMPLETED":"ACTIVE"})},onEdit:k,onDelete:a=>{confirm("Â¿EstÃ¡s seguro de eliminar esta nota?")&&(m(l.filter(b=>b.id!==a)),d.DB.workNotes=d.DB.workNotes.filter(b=>b.id!==a))}}):(0,b.jsx)(V,{notes:l,currentMonth:p,setCurrentMonth:q,onEdit:k})}),h&&(0,b.jsx)(W,{onClose:()=>i(!1),onSave:b=>{let e;m([e={id:`note-${Date.now()}`,userId:a,tenantId:c,title:b.title||"",content:b.content||"",date:b.date||new Date().toISOString().split("T")[0],isImportant:b.isImportant||!1,status:"ACTIVE",pinned:b.pinned||!1,reminder:b.reminder,color:b.color||"bg-blue-500",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},...l]),d.DB.workNotes.unshift(e),i(!1)},title:"Nueva Nota de Trabajo"}),j&&(0,b.jsx)(W,{note:j,onClose:()=>k(null),onSave:a=>s(j.id,a),title:"Editar Nota"})]})}function U({notes:a,onToggleComplete:c,onEdit:d,onDelete:e}){return 0===a.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 space-y-2 py-10",children:[(0,b.jsx)(k.Clock,{size:48,weight:"thin"}),(0,b.jsx)("p",{className:"text-sm",children:"No hay notas que mostrar."})]}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>{let f;return(0,b.jsx)("div",{className:`p-3 rounded-xl border transition-all group ${(f=S.find(b=>b.value===a.color)||S[0],a.isImportant?"bg-amber-50 border-amber-200 shadow-md ring-2 ring-amber-200":`${f.light} ${f.border} hover:shadow-md`)}`,children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>c(a),className:`mt-0.5 shrink-0 w-5 h-5 rounded-full border flex items-center justify-center transition-colors ${"COMPLETED"===a.status?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 text-transparent hover:border-emerald-500"}`,children:(0,b.jsx)(M.Check,{size:12,weight:"bold"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:new Date(a.date||a.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"short"})}),(0,b.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>d(a),className:"p-1 text-slate-400 hover:text-blue-600 transition-colors",children:(0,b.jsx)(N.PencilSimple,{size:14})}),(0,b.jsx)("button",{onClick:()=>e(a.id),className:"p-1 text-slate-400 hover:text-red-500 transition-colors",children:(0,b.jsx)(L.Trash,{size:14})})]})]}),(0,b.jsx)("p",{className:`text-sm text-slate-700 leading-relaxed ${"COMPLETED"===a.status?"line-through opacity-50":""}`,children:a.content}),a.reminder&&(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-1.5 text-[10px] font-medium text-blue-600 bg-blue-50 w-fit px-2 py-0.5 rounded-full",children:[(0,b.jsx)(Q.Bell,{size:12,weight:"fill"}),new Date(a.reminder.date).toLocaleString("es-ES",{hour:"2-digit",minute:"2-digit"})]})]})]})},a.id)})})}function V({notes:a,currentMonth:c,setCurrentMonth:d,onEdit:e}){let f,g=new Date(c.getFullYear(),c.getMonth(),1).getDay(),h=c.toLocaleDateString("es-ES",{month:"long",year:"numeric"}),i=[],j=(f=c.getMonth(),new Date(c.getFullYear(),f+1,0).getDate());for(let a=0;a<g;a++)i.push((0,b.jsx)("div",{className:"h-14 border-b border-r border-slate-50 bg-slate-50/20"},`pad-${a}`));for(let d=1;d<=j;d++){let f=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}-${String(d).padStart(2,"0")}`,g=a.filter(a=>a.date===f),h=new Date().toISOString().split("T")[0]===f;i.push((0,b.jsxs)("div",{className:`h-14 border-b border-r border-slate-100 p-1 relative hover:bg-slate-50 transition-colors group ${h?"bg-blue-50/30":""}`,children:[(0,b.jsx)("span",{className:`text-[10px] font-bold ${h?"text-blue-600":"text-slate-400"}`,children:d}),(0,b.jsx)("div",{className:"flex flex-wrap gap-0.5 mt-0.5 overflow-hidden",children:g.map(a=>(0,b.jsx)("button",{onClick:()=>e(a),className:`w-full h-1.5 rounded-full transition-all ${a.color||(a.isImportant?"bg-amber-400":"bg-blue-400")} ${"COMPLETED"===a.status?"opacity-30":"hover:scale-y-150"}`,title:a.content},a.id))})]},d))}return(0,b.jsxs)("div",{className:"h-full flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h4",{className:"text-xs font-bold text-slate-600 uppercase tracking-widest",children:h}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("button",{onClick:()=>d(new Date(c.setMonth(c.getMonth()-1))),className:"p-1 hover:bg-slate-100 rounded",children:(0,b.jsx)(O.CaretLeft,{size:16})}),(0,b.jsx)("button",{onClick:()=>d(new Date(c.setMonth(c.getMonth()+1))),className:"p-1 hover:bg-slate-100 rounded",children:(0,b.jsx)(P.CaretRight,{size:16})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-7 border-t border-l border-slate-100 flex-1",children:[["D","L","M","M","J","V","S"].map(a=>(0,b.jsx)("div",{className:"py-2 text-center text-[10px] font-bold text-slate-400 border-b border-r border-slate-100 bg-slate-50",children:a},a)),i]})]})}function W({note:a,onClose:c,onSave:d,title:f}){let[g,h]=(0,e.useState)(a?.content||""),[i,j]=(0,e.useState)(a?.date||new Date().toISOString().split("T")[0]),[k,l]=(0,e.useState)(a?.isImportant||!1),[m,n]=(0,e.useState)(!!a?.reminder),[o,p]=(0,e.useState)(()=>a?.reminder?new Date(a.reminder.date).toISOString().slice(0,16):new Date().toISOString().slice(0,16)),[q,r]=(0,e.useState)(a?.reminder?.channel||"internal"),[s,t]=(0,e.useState)(a?.color||S[0].value);return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fadeIn",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-slideUp",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[(0,b.jsx)("h3",{className:"font-bold text-slate-800",children:f}),(0,b.jsx)("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:(0,b.jsx)(A.X,{size:20,weight:"bold"})})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),g.trim()&&d({content:g,date:i,isImportant:k,reminder:m?{date:new Date(o).toISOString(),channel:q,sent:!1}:void 0,color:s})},className:"p-6 space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Contenido de la Nota"}),(0,b.jsx)("textarea",{autoFocus:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",rows:4,maxLength:500,placeholder:"Â¿QuÃ© tienes pendiente?",value:g,onChange:a=>h(a.target.value)}),(0,b.jsx)("div",{className:"flex justify-end mt-1",children:(0,b.jsxs)("span",{className:`text-[10px] font-medium ${g.length>450?"text-amber-600":"text-slate-400"}`,children:[g.length,"/500"]})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-3 text-center",children:"Color CategorÃ­a"}),(0,b.jsx)("div",{className:"flex justify-center gap-3",children:S.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>t(a.value),className:`w-8 h-8 rounded-full transition-all flex items-center justify-center ${a.value} ${s===a.value?"ring-4 ring-offset-2 ring-slate-300 scale-110":"hover:scale-110"}`,children:s===a.value&&(0,b.jsx)(M.Check,{size:14,className:"text-white",weight:"bold"})},a.value))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Fecha"}),(0,b.jsx)("input",{type:"date",className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:a=>j(a.target.value)})]}),(0,b.jsx)("div",{className:"flex items-end pb-1",children:(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer group",children:[(0,b.jsx)("input",{type:"checkbox",className:"hidden",checked:k,onChange:a=>l(a.target.checked)}),(0,b.jsx)("div",{className:`w-10 h-6 rounded-full relative transition-colors ${k?"bg-amber-400":"bg-slate-200"}`,children:(0,b.jsx)("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all ${k?"left-5 shadow-sm":"left-1"}`})}),(0,b.jsx)("span",{className:"text-xs font-bold text-slate-600 uppercase",children:"Importante"})]})})]}),(0,b.jsxs)("div",{className:"p-4 bg-blue-50/50 rounded-xl border border-blue-100",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer mb-3",children:[(0,b.jsx)("input",{type:"checkbox",className:"hidden",checked:m,onChange:a=>n(a.target.checked)}),(0,b.jsx)("div",{className:`w-9 h-5 rounded-full relative transition-colors ${m?"bg-blue-500":"bg-slate-300"}`,children:(0,b.jsx)("div",{className:`absolute top-0.5 w-4 h-4 rounded-full bg-white transition-all ${m?"left-4.5 shadow-sm":"left-0.5"}`})}),(0,b.jsxs)("span",{className:"text-xs font-bold text-slate-700 uppercase flex items-center gap-2",children:[(0,b.jsx)(Q.Bell,{weight:m?"fill":"bold"})," Recordatorio"]})]}),m&&(0,b.jsxs)("div",{className:"space-y-3 pl-1 animate-fadeIn",children:[(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"datetime-local",className:"w-full p-2 bg-white border border-blue-200 rounded text-xs outline-none focus:ring-1 focus:ring-blue-500",value:o,onChange:a=>p(a.target.value)})}),(0,b.jsx)("div",{className:"flex gap-2",children:["internal","email","both"].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>r(a),className:`flex-1 py-1 rounded text-[10px] font-bold uppercase transition-all ${q===a?"bg-blue-600 text-white shadow-sm":"bg-white text-blue-600 border border-blue-200 hover:bg-blue-50"}`,children:"both"===a?"Ambos":"internal"===a?"Interno":"Email"},a))})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,b.jsx)("button",{type:"button",onClick:c,className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-100 rounded-xl transition-colors",children:"Cancelar"}),(0,b.jsx)("button",{type:"submit",disabled:!g.trim(),className:"flex-1 py-3 bg-blue-600 text-white text-sm font-bold rounded-xl hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 disabled:opacity-50 disabled:shadow-none",children:"Guardar Nota"})]})]})]})})}var X=a.i(50944);function Y(){let{currentUser:a,currentTenant:d,isSuperAdmin:f}=(0,c.useApp)(),g=(0,X.useRouter)();return((0,e.useEffect)(()=>{if(d&&!d.features?.includes("DASHBOARD")&&!f){let a=d.features||[];a.includes("WORKFLOWS")?g.push("/dashboard/workflows"):a.includes("REPOSITORY")?g.push("/dashboard/repository"):a.includes("CHAT")?g.push("/dashboard/chat"):a.includes("ANALYTICS")&&g.push("/dashboard/analytics")}},[d,f,g]),a)?f?(0,b.jsx)(Z,{}):d&&!d.features?.includes("DASHBOARD")?null:(0,b.jsx)(_,{}):(0,b.jsx)("div",{className:"p-8",children:"Cargando..."})}function Z(){let a=(0,e.useMemo)(()=>{let a=d.DB.tenants.length,b=d.DB.tenants.filter(a=>"ACTIVE"===a.status).length,c=d.DB.users.length,e=d.DB.platformAudit.slice(0,5);return{totalTenants:a,activeTenants:b,totalUsers:c,recentAudit:e,recentTenants:[...d.DB.tenants].sort((a,b)=>new Date(b.created_at).getTime()-new Date(a.created_at).getTime()).slice(0,5),storageUsed:"1.2 TB"}},[]);return(0,b.jsxs)("div",{className:"max-w-7xl mx-auto p-6 animate-fadeIn space-y-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-end",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Vista Global del Sistema"}),(0,b.jsx)("p",{className:"text-slate-500",children:"Monitoreo en tiempo real de toda la plataforma SaaS."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-emerald-600 bg-emerald-50 px-3 py-1 rounded-full border border-emerald-100",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Sistema Operativo"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)($,{title:"Tenants Activos",value:`${a.activeTenants}/${a.totalTenants}`,icon:s.Buildings,color:"text-blue-600",bg:"bg-blue-50",trend:"+2 este mes"}),(0,b.jsx)($,{title:"Usuarios Totales",value:a.totalUsers,icon:t.Users,color:"text-purple-600",bg:"bg-purple-50",trend:"+12% vs mes anterior"}),(0,b.jsx)($,{title:"Almacenamiento",value:a.storageUsed,icon:u.Database,color:"text-orange-600",bg:"bg-orange-50",trend:"65% de capacidad"}),(0,b.jsx)($,{title:"Uptime (SLA)",value:"99.98%",icon:w,color:"text-emerald-600",bg:"bg-emerald-50",trend:"Ãšltimos 30 dÃ­as"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,b.jsx)(s.Buildings,{className:"text-indigo-600",weight:"duotone"})," Nuevos Tenants"]}),(0,b.jsx)(z.default,{href:"/dashboard/tenants",className:"text-sm font-medium text-blue-600 hover:underline",children:"Gestionar Todos"})]}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,b.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200 text-slate-500 text-xs uppercase font-semibold",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3",children:"Empresa"}),(0,b.jsx)("th",{className:"px-6 py-3",children:"Plan / Sector"}),(0,b.jsx)("th",{className:"px-6 py-3",children:"Estado"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right",children:"Fecha Registro"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:a.recentTenants.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-3 font-medium text-slate-900",children:a.name}),(0,b.jsx)("td",{className:"px-6 py-3 text-slate-500",children:a.sector||"N/A"}),(0,b.jsx)("td",{className:"px-6 py-3",children:(0,b.jsx)("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-bold ${"ACTIVE"===a.status?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-3 text-right text-slate-500 text-xs",children:new Date(a.created_at).toLocaleDateString()})]},a.id))})]})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,b.jsx)(x.ShieldCheck,{className:"text-slate-600",weight:"duotone"})," AuditorÃ­a Reciente"]}),(0,b.jsx)(z.default,{href:"/dashboard/audit",className:"text-sm font-medium text-blue-600 hover:underline",children:"Ver Logs"})]}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4 space-y-4",children:0===a.recentAudit.length?(0,b.jsx)("div",{className:"text-center py-8 text-slate-400 text-sm",children:"Sin actividad reciente."}):a.recentAudit.map(a=>(0,b.jsxs)("div",{className:"flex gap-3 items-start pb-3 border-b border-slate-50 last:border-0 last:pb-0",children:[(0,b.jsx)("div",{className:"mt-1",children:a.event_type.includes("FAIL")?(0,b.jsx)(y.WarningCircle,{className:"text-red-500",size:16,weight:"fill"}):a.event_type.includes("DELETE")?(0,b.jsx)(y.WarningCircle,{className:"text-orange-500",size:16,weight:"fill"}):(0,b.jsx)(j.CheckCircle,{className:"text-blue-500",size:16,weight:"fill"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-700",children:a.event_type}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 mt-0.5",children:[(0,b.jsx)("span",{className:"font-semibold",children:a.actor_name})," â€¢ ",new Date(a.created_at).toLocaleTimeString()]})]})]},a.id))})]})]})]})}function $({title:a,value:c,icon:d,color:e,bg:f,trend:g}){return(0,b.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200 flex flex-col justify-between h-32 relative overflow-hidden group hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:a}),(0,b.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:c})]}),(0,b.jsx)("div",{className:`p-2 rounded-lg ${f} ${e}`,children:(0,b.jsx)(d,{size:24,weight:"fill"})})]}),(0,b.jsx)("div",{className:"z-10 mt-auto",children:(0,b.jsxs)("span",{className:"text-xs font-medium text-slate-500 flex items-center gap-1",children:[g.includes("+")?(0,b.jsx)(w,{className:"text-green-500",weight:"bold"}):null,g]})}),(0,b.jsx)(d,{size:80,weight:"fill",className:`absolute -right-4 -bottom-4 opacity-[0.03] ${e} group-hover:scale-110 transition-transform duration-500`})]})}function _(){let{currentUser:a,currentTenant:g}=(0,c.useApp)(),[h,j]=(0,e.useState)(null),m=(0,e.useMemo)(()=>g?d.DB.posts.filter(a=>a.tenantId===g.id&&"published"===a.status).slice(0,5):[],[g]),n=(0,e.useMemo)(()=>a&&g?d.DB.workflowCases.filter(b=>b.tenantId===g.id&&b.creatorId===a.id).slice(0,5):[],[a,g]);return a&&g?(0,b.jsxs)("div",{className:"max-w-7xl mx-auto p-2 animate-fadeIn relative",children:[(0,b.jsx)(H,{post:h,onClose:()=>j(null)}),(0,b.jsx)("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl text-white shadow-lg",children:(0,b.jsxs)("div",{className:"flex justify-between items-end",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["Hola, ",a.name.split(" ")[0]," ðŸ‘‹"]}),(0,b.jsxs)("p",{className:"opacity-90 text-sm md:text-base",children:["Bienvenido a tu centro de trabajo en ",g.name,". AquÃ­ tienes lo mÃ¡s relevante para hoy."]})]}),(0,b.jsx)("div",{className:"hidden md:block opacity-80",children:(0,b.jsx)("span",{className:"text-xs font-mono uppercase tracking-widest",children:new Date().toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,b.jsxs)("section",{children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(f.Lightning,{className:"text-amber-500",weight:"fill"})," Accesos RÃ¡pidos"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[(0,b.jsx)(aa,{icon:l.Folder,label:"Repositorio",color:"text-purple-600",bg:"bg-purple-50",href:"/dashboard/repository"}),(0,b.jsx)(aa,{icon:r.Kanban,label:"Mis Workflows",color:"text-emerald-600",bg:"bg-emerald-50",href:"/dashboard/workflows"})]})]}),(0,b.jsxs)("section",{children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(i,{className:"text-blue-600",weight:"fill"})," Noticias Institucionales"]}),(0,b.jsx)("div",{className:"space-y-4",children:m.length>0?m.map(a=>(0,b.jsx)("div",{onClick:()=>j(a),className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow group cursor-pointer",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"w-24 h-24 shrink-0 rounded-lg overflow-hidden bg-slate-200 relative border border-slate-100",children:"video"===a.mediaType?(0,b.jsxs)("div",{className:"w-full h-full bg-slate-900 group-hover:bg-slate-800 transition-colors flex items-center justify-center relative overflow-hidden",children:[a.image&&(0,b.jsx)("img",{src:a.image,className:"absolute inset-0 w-full h-full object-cover opacity-60",alt:"Video thumbnail"}),(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/20 backdrop-blur border border-white/30 flex items-center justify-center text-white relative z-10 shadow-lg",children:(0,b.jsx)(q,{weight:"fill",size:14,className:"translate-x-0.5"})})]}):"audio"===a.mediaType?(0,b.jsx)("div",{className:"w-full h-full bg-indigo-50 group-hover:bg-indigo-100 transition-colors flex items-center justify-center",children:(0,b.jsx)(o.SpeakerHigh,{weight:"duotone",size:28,className:"text-indigo-500"})}):a.image?(0,b.jsx)("img",{src:a.image,alt:"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-slate-100 text-slate-300",children:(0,b.jsx)(i,{size:32})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider ${function(a){switch(a){case"Institucional":return"bg-blue-100 text-blue-700";case"Alerta":return"bg-red-100 text-red-700";case"Social":return"bg-pink-100 text-pink-700";default:return"bg-slate-100 text-slate-600"}}(a.category)}`,children:a.category}),(0,b.jsxs)("span",{className:"text-xs text-slate-400 font-medium flex items-center gap-1",children:[(0,b.jsx)(k.Clock,{size:12})," ",a.date]})]}),(0,b.jsx)("h3",{className:"font-bold text-slate-800 mb-1 group-hover:text-blue-600 transition-colors line-clamp-1",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-slate-500 line-clamp-2",children:a.excerpt})]})]})},a.id)):(0,b.jsx)(ab,{text:"No hay noticias recientes."})})]})]}),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)(T,{userId:a.id,tenantId:g.id}),(0,b.jsxs)("section",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,b.jsx)(r.Kanban,{className:"text-emerald-600",weight:"fill"})," Mis Workflows"]}),(0,b.jsx)(z.default,{href:"/dashboard/workflows",className:"text-xs font-semibold text-blue-600 hover:underline",children:"Ver todo"})]}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 divide-y divide-slate-100",children:n.length>0?n.map(a=>{var c;return(0,b.jsxs)("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,b.jsx)("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded border ${"IN_PROGRESS"===(c=a.status)||"En Proceso"===c?"bg-blue-50 text-blue-700 border-blue-100":"REVIEW"===c||"Pendiente"===c?"bg-amber-50 text-amber-700 border-amber-100":"APPROVED"===c||"Aprobado"===c?"bg-emerald-50 text-emerald-700 border-emerald-100":"REJECTED"===c||"Rechazado"===c?"bg-rose-50 text-rose-700 border-rose-100":"CLOSED"===c||"Cerrado"===c?"bg-slate-50 text-slate-500 border-slate-100":"RECEIVED"===c?"bg-purple-50 text-purple-700 border-purple-100":"bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:a.status}),(0,b.jsx)("span",{className:"text-[10px] text-slate-400",children:a.id})]}),(0,b.jsx)("h4",{className:"font-semibold text-sm text-slate-800 mb-0.5 line-clamp-2",children:a.title})]},a.id)}):(0,b.jsx)(ab,{text:"No has creado solicitudes.",compact:!0})})]})]})]})]}):null}function aa({icon:a,label:c,color:d,bg:e,href:f}){return(0,b.jsxs)(z.default,{href:f,className:`${e} p-4 rounded-xl border border-transparent hover:border-slate-200 hover:shadow-md transition-all flex flex-col items-center justify-center gap-3 text-center group h-28`,children:[(0,b.jsx)(a,{size:32,weight:"fill",className:`${d} group-hover:scale-110 transition-transform`}),(0,b.jsx)("span",{className:"text-xs font-bold text-slate-700",children:c})]})}function ab({text:a,compact:c}){return(0,b.jsx)("div",{className:`text-center ${c?"py-8":"py-12"} text-slate-400 bg-slate-50/50 rounded-xl border border-dashed border-slate-200`,children:(0,b.jsx)("p",{className:"text-sm",children:a})})}a.s(["default",()=>Y],20731)}];

//# sourceMappingURL=app_dashboard_page_tsx_42ef5b16._.js.map