{"version":3,"sources":["../../../../app/dashboard/admin/storage/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useApp } from '@/context/AppContext';\nimport { DB, StorageProvider, TenantStorageConfig } from '@/lib/data';\nimport {\n    CloudArrowUp,\n    CheckCircle,\n    XCircle,\n    Warning,\n    GoogleDriveLogo,\n    DropboxLogo,\n    MicrosoftOutlookLogo,\n    AmazonLogo,\n    HardDrives,\n    FloppyDisk,\n    Eye,\n    EyeSlash\n} from '@phosphor-icons/react';\nimport AdminGuide from '@/components/AdminGuide';\nimport { storageGuide } from '@/lib/adminGuides';\n\nexport default function TenantStorageConfigPage() {\n    const { currentTenantId } = useApp();\n    const tenant = DB.tenants.find(t => t.id === currentTenantId);\n\n    const [selectedProvider, setSelectedProvider] = useState<StorageProvider>(\n        tenant?.storageConfig?.provider || 'LOCAL'\n    );\n    const [config, setConfig] = useState<any>(tenant?.storageConfig?.config || {});\n    const [showSecrets, setShowSecrets] = useState(false);\n    const [testing, setTesting] = useState(false);\n    const [testResult, setTestResult] = useState<{ status: 'success' | 'failed', message: string } | null>(null);\n    const [saved, setSaved] = useState(false);\n\n    const providers = [\n        { id: 'GOOGLE_DRIVE' as StorageProvider, name: 'Google Drive', icon: GoogleDriveLogo, color: 'text-blue-600', bgColor: 'bg-blue-50' },\n        { id: 'DROPBOX' as StorageProvider, name: 'Dropbox', icon: DropboxLogo, color: 'text-blue-700', bgColor: 'bg-blue-50' },\n        { id: 'ONEDRIVE' as StorageProvider, name: 'OneDrive', icon: MicrosoftOutlookLogo, color: 'text-blue-500', bgColor: 'bg-blue-50' },\n        { id: 'SHAREPOINT' as StorageProvider, name: 'SharePoint', icon: MicrosoftOutlookLogo, color: 'text-green-600', bgColor: 'bg-green-50' },\n        { id: 'S3' as StorageProvider, name: 'Amazon S3', icon: AmazonLogo, color: 'text-orange-600', bgColor: 'bg-orange-50' },\n        { id: 'LOCAL' as StorageProvider, name: 'Almacenamiento Local', icon: HardDrives, color: 'text-slate-600', bgColor: 'bg-slate-50' },\n    ];\n\n    const handleTestConnection = async () => {\n        setTesting(true);\n        setTestResult(null);\n\n        // Simulate API call to test connection\n        await new Promise(resolve => setTimeout(resolve, 2000));\n\n        // Mock validation\n        const isValid = validateConfig();\n\n        if (isValid) {\n            setTestResult({ status: 'success', message: 'Conexión exitosa. El proveedor está configurado correctamente.' });\n        } else {\n            setTestResult({ status: 'failed', message: 'Error de conexión. Verifica las credenciales.' });\n        }\n\n        setTesting(false);\n    };\n\n    const validateConfig = (): boolean => {\n        switch (selectedProvider) {\n            case 'GOOGLE_DRIVE':\n                return !!(config.clientId && config.clientSecret && config.refreshToken);\n            case 'DROPBOX':\n                return !!config.accessToken;\n            case 'ONEDRIVE':\n                return !!(config.clientId && config.clientSecret && config.refreshToken);\n            case 'SHAREPOINT':\n                return !!(config.siteUrl && config.clientId && config.clientSecret && config.tenantId);\n            case 'S3':\n                return !!(config.accessKeyId && config.secretAccessKey && config.region && config.bucket);\n            case 'LOCAL':\n                return !!config.basePath;\n            default:\n                return false;\n        }\n    };\n\n    const handleSave = () => {\n        if (!tenant) return;\n\n        const storageConfig: TenantStorageConfig = {\n            provider: selectedProvider,\n            enabled: true,\n            config: config,\n            lastTested: testResult?.status === 'success' ? new Date().toISOString() : undefined,\n            testStatus: testResult?.status,\n            testMessage: testResult?.message\n        };\n\n        tenant.storageConfig = storageConfig;\n        setSaved(true);\n        setTimeout(() => setSaved(false), 3000);\n    };\n\n    const renderConfigForm = () => {\n        switch (selectedProvider) {\n            case 'GOOGLE_DRIVE':\n                return (\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Client ID</label>\n                            <input\n                                type=\"text\"\n                                value={config.clientId || ''}\n                                onChange={e => setConfig({ ...config, clientId: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"123456789-abcdefg.apps.googleusercontent.com\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Client Secret</label>\n                            <div className=\"relative\">\n                                <input\n                                    type={showSecrets ? 'text' : 'password'}\n                                    value={config.clientSecret || ''}\n                                    onChange={e => setConfig({ ...config, clientSecret: e.target.value })}\n                                    className=\"w-full p-3 pr-12 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                    placeholder=\"GOCSPX-xxxxxxxxxxxxxxxxxxxxx\"\n                                />\n                                <button\n                                    onClick={() => setShowSecrets(!showSecrets)}\n                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600\"\n                                >\n                                    {showSecrets ? <EyeSlash size={20} /> : <Eye size={20} />}\n                                </button>\n                            </div>\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Refresh Token</label>\n                            <input\n                                type={showSecrets ? 'text' : 'password'}\n                                value={config.refreshToken || ''}\n                                onChange={e => setConfig({ ...config, refreshToken: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"1//xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Folder ID (Opcional)</label>\n                            <input\n                                type=\"text\"\n                                value={config.folderId || ''}\n                                onChange={e => setConfig({ ...config, folderId: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"1AbCdEfGhIjKlMnOpQrStUvWxYz\"\n                            />\n                            <p className=\"text-xs text-slate-500 mt-1\">ID de la carpeta raíz donde se almacenarán todos los documentos</p>\n                        </div>\n                    </div>\n                );\n\n            case 'DROPBOX':\n                return (\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Access Token</label>\n                            <input\n                                type={showSecrets ? 'text' : 'password'}\n                                value={config.accessToken || ''}\n                                onChange={e => setConfig({ ...config, accessToken: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"sl.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Root Path (Opcional)</label>\n                            <input\n                                type=\"text\"\n                                value={config.rootPath || ''}\n                                onChange={e => setConfig({ ...config, rootPath: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"/Maturity360\"\n                            />\n                            <p className=\"text-xs text-slate-500 mt-1\">Ruta raíz donde se almacenarán todos los documentos</p>\n                        </div>\n                    </div>\n                );\n\n            case 'ONEDRIVE':\n                return (\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Client ID (Application ID)</label>\n                            <input\n                                type=\"text\"\n                                value={config.clientId || ''}\n                                onChange={e => setConfig({ ...config, clientId: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"12345678-1234-1234-1234-123456789abc\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Client Secret</label>\n                            <input\n                                type={showSecrets ? 'text' : 'password'}\n                                value={config.clientSecret || ''}\n                                onChange={e => setConfig({ ...config, clientSecret: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Refresh Token</label>\n                            <input\n                                type={showSecrets ? 'text' : 'password'}\n                                value={config.refreshToken || ''}\n                                onChange={e => setConfig({ ...config, refreshToken: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"M.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\n                            />\n                        </div>\n                    </div>\n                );\n\n            case 'SHAREPOINT':\n                return (\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Site URL</label>\n                            <input\n                                type=\"text\"\n                                value={config.siteUrl || ''}\n                                onChange={e => setConfig({ ...config, siteUrl: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"https://yourcompany.sharepoint.com/sites/yoursite\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Client ID</label>\n                            <input\n                                type=\"text\"\n                                value={config.clientId || ''}\n                                onChange={e => setConfig({ ...config, clientId: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"12345678-1234-1234-1234-123456789abc\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Client Secret</label>\n                            <input\n                                type={showSecrets ? 'text' : 'password'}\n                                value={config.clientSecret || ''}\n                                onChange={e => setConfig({ ...config, clientSecret: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Tenant ID</label>\n                            <input\n                                type=\"text\"\n                                value={config.tenantId || ''}\n                                onChange={e => setConfig({ ...config, tenantId: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"12345678-1234-1234-1234-123456789abc\"\n                            />\n                        </div>\n                    </div>\n                );\n\n            case 'S3':\n                return (\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Access Key ID</label>\n                            <input\n                                type=\"text\"\n                                value={config.accessKeyId || ''}\n                                onChange={e => setConfig({ ...config, accessKeyId: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"AKIAIOSFODNN7EXAMPLE\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Secret Access Key</label>\n                            <input\n                                type={showSecrets ? 'text' : 'password'}\n                                value={config.secretAccessKey || ''}\n                                onChange={e => setConfig({ ...config, secretAccessKey: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Region</label>\n                            <input\n                                type=\"text\"\n                                value={config.region || ''}\n                                onChange={e => setConfig({ ...config, region: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"us-east-1\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Bucket Name</label>\n                            <input\n                                type=\"text\"\n                                value={config.bucket || ''}\n                                onChange={e => setConfig({ ...config, bucket: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"my-maturity360-bucket\"\n                            />\n                        </div>\n                    </div>\n                );\n\n            case 'LOCAL':\n                return (\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Ruta Base</label>\n                            <input\n                                type=\"text\"\n                                value={config.basePath || ''}\n                                onChange={e => setConfig({ ...config, basePath: e.target.value })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"/var/www/maturity360/storage\"\n                            />\n                            <p className=\"text-xs text-slate-500 mt-1\">Ruta absoluta en el servidor donde se almacenarán los archivos</p>\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Límite de Almacenamiento (GB)</label>\n                            <input\n                                type=\"number\"\n                                value={config.maxSizeGB || ''}\n                                onChange={e => setConfig({ ...config, maxSizeGB: parseInt(e.target.value) || undefined })}\n                                className=\"w-full p-3 border border-slate-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n                                placeholder=\"100\"\n                            />\n                        </div>\n                    </div>\n                );\n\n            default:\n                return null;\n        }\n    };\n\n    return (\n        <div className=\"p-8 max-w-6xl mx-auto\">\n            <div className=\"mb-8\">\n                <h1 className=\"text-3xl font-bold text-slate-800 mb-2 flex items-center gap-3\">\n                    <CloudArrowUp size={36} className=\"text-blue-600\" />\n                    Configuración de Almacenamiento\n                </h1>\n                <p className=\"text-slate-600\">\n                    Configura el proveedor de almacenamiento en la nube donde se guardarán todos los documentos del sistema.\n                </p>\n            </div>\n\n            {/* Provider Selection */}\n            <div className=\"bg-white rounded-xl border border-slate-200 p-6 mb-6\">\n                <h2 className=\"text-xl font-bold text-slate-800 mb-4\">Seleccionar Proveedor</h2>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                    {providers.map(provider => {\n                        const Icon = provider.icon;\n                        const isSelected = selectedProvider === provider.id;\n                        return (\n                            <button\n                                key={provider.id}\n                                onClick={() => {\n                                    setSelectedProvider(provider.id);\n                                    setConfig({});\n                                    setTestResult(null);\n                                }}\n                                className={`p-4 rounded-lg border-2 transition-all ${isSelected\n                                    ? 'border-blue-500 bg-blue-50'\n                                    : 'border-slate-200 hover:border-slate-300 bg-white'\n                                    }`}\n                            >\n                                <div className=\"flex flex-col items-center gap-2\">\n                                    <div className={`p-3 rounded-lg ${provider.bgColor}`}>\n                                        <Icon size={32} className={provider.color} weight=\"fill\" />\n                                    </div>\n                                    <span className=\"text-sm font-bold text-slate-700\">{provider.name}</span>\n                                    {isSelected && (\n                                        <CheckCircle size={20} className=\"text-blue-600\" weight=\"fill\" />\n                                    )}\n                                </div>\n                            </button>\n                        );\n                    })}\n                </div>\n            </div>\n\n            {/* Configuration Form */}\n            <div className=\"bg-white rounded-xl border border-slate-200 p-6 mb-6\">\n                <h2 className=\"text-xl font-bold text-slate-800 mb-4\">Configuración de {providers.find(p => p.id === selectedProvider)?.name}</h2>\n                {renderConfigForm()}\n            </div>\n\n            {/* Test Connection */}\n            <div className=\"bg-white rounded-xl border border-slate-200 p-6 mb-6\">\n                <h2 className=\"text-xl font-bold text-slate-800 mb-4\">Probar Conexión</h2>\n                <button\n                    onClick={handleTestConnection}\n                    disabled={testing || !validateConfig()}\n                    className=\"px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors flex items-center gap-2\"\n                >\n                    {testing ? (\n                        <>\n                            <div className=\"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent\"></div>\n                            Probando conexión...\n                        </>\n                    ) : (\n                        <>\n                            <CloudArrowUp size={20} weight=\"bold\" />\n                            Probar Conexión\n                        </>\n                    )}\n                </button>\n\n                {testResult && (\n                    <div className={`mt-4 p-4 rounded-lg flex items-start gap-3 ${testResult.status === 'success'\n                        ? 'bg-green-50 border border-green-200'\n                        : 'bg-red-50 border border-red-200'\n                        }`}>\n                        {testResult.status === 'success' ? (\n                            <CheckCircle size={24} className=\"text-green-600 flex-shrink-0\" weight=\"fill\" />\n                        ) : (\n                            <XCircle size={24} className=\"text-red-600 flex-shrink-0\" weight=\"fill\" />\n                        )}\n                        <div>\n                            <p className={`font-bold ${testResult.status === 'success' ? 'text-green-800' : 'text-red-800'}`}>\n                                {testResult.status === 'success' ? 'Conexión Exitosa' : 'Error de Conexión'}\n                            </p>\n                            <p className={`text-sm ${testResult.status === 'success' ? 'text-green-700' : 'text-red-700'}`}>\n                                {testResult.message}\n                            </p>\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            {/* Save Button */}\n            <div className=\"flex justify-end gap-4\">\n                <button\n                    onClick={handleSave}\n                    disabled={!validateConfig() || testResult?.status !== 'success'}\n                    className=\"px-8 py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors flex items-center gap-2\"\n                >\n                    <FloppyDisk size={20} weight=\"bold\" />\n                    Guardar Configuración\n                </button>\n            </div>\n\n            {saved && (\n                <div className=\"fixed bottom-8 right-8 bg-green-600 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-fadeIn\">\n                    <CheckCircle size={24} weight=\"fill\" />\n                    <span className=\"font-bold\">Configuración guardada exitosamente</span>\n                </div>\n            )}\n\n            {/* Warning */}\n            {tenant?.storageConfig && (\n                <div className=\"mt-6 bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3\">\n                    <Warning size={24} className=\"text-amber-600 flex-shrink-0\" weight=\"fill\" />\n                    <div className=\"text-sm text-amber-800\">\n                        <p className=\"font-bold mb-1\">Importante:</p>\n                        <p>Cambiar el proveedor de almacenamiento no migrará automáticamente los archivos existentes. Asegúrate de realizar una migración manual si es necesario.</p>\n                    </div>\n                </div>\n            )}\n\n            {/* Admin Guide */}\n            <AdminGuide {...storageGuide as any} />\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}