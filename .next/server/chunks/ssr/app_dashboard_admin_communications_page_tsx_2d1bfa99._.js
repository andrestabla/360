module.exports=[30603,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(98263),e=a.i(82665),f=a.i(10158),g=a.i(33686),h=a.i(39577),i=a.i(39321),j=a.i(96542),k=a.i(60217);let l=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M216,36H40A20,20,0,0,0,20,56V160a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36Zm-4,120H44V60H212Zm24,52a12,12,0,0,1-12,12H32a12,12,0,0,1,0-24H224A12,12,0,0,1,236,208ZM104,128V88a12,12,0,0,1,18.36-10.18l32,20a12,12,0,0,1,0,20.36l-32,20A12,12,0,0,1,104,128Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M216,48H40a8,8,0,0,0-8,8V168a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM112,144V80l48,32Z",opacity:"0.2"}),c.createElement("path",{d:"M164.44,105.34l-48-32A8,8,0,0,0,104,80v64a8,8,0,0,0,12.44,6.66l48-32a8,8,0,0,0,0-13.32ZM120,129.05V95l25.58,17ZM216,40H40A16,16,0,0,0,24,56V168a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,128H40V56H216V168Zm16,40a8,8,0,0,1-8,8H32a8,8,0,0,1,0-16H224A8,8,0,0,1,232,208Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1,0-16H224A8,8,0,0,1,232,208Zm0-152V168a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Zm-68,56a8,8,0,0,0-3.41-6.55l-40-28A8,8,0,0,0,108,84v56a8,8,0,0,0,12.59,6.55l40-28A8,8,0,0,0,164,112Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M163.33,107l-48-32A6,6,0,0,0,106,80v64a6,6,0,0,0,9.33,5l48-32a6,6,0,0,0,0-10ZM118,132.79V91.21L149.18,112ZM216,42H40A14,14,0,0,0,26,56V168a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42Zm2,126a2,2,0,0,1-2,2H40a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2Zm12,40a6,6,0,0,1-6,6H32a6,6,0,0,1,0-12H224A6,6,0,0,1,230,208Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M164.44,105.34l-48-32A8,8,0,0,0,104,80v64a8,8,0,0,0,12.44,6.66l48-32a8,8,0,0,0,0-13.32ZM120,129.05V95l25.58,17ZM216,40H40A16,16,0,0,0,24,56V168a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,128H40V56H216V168Zm16,40a8,8,0,0,1-8,8H32a8,8,0,0,1,0-16H224A8,8,0,0,1,232,208Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M162.22,108.67l-48-32A4,4,0,0,0,108,80v64a4,4,0,0,0,2.11,3.53,4,4,0,0,0,4.11-.2l48-32a4,4,0,0,0,0-6.66ZM116,136.53V87.47L152.79,112ZM216,44H40A12,12,0,0,0,28,56V168a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44Zm4,124a4,4,0,0,1-4,4H40a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4H216a4,4,0,0,1,4,4Zm8,40a4,4,0,0,1-4,4H32a4,4,0,0,1,0-8H224A4,4,0,0,1,228,208Z"}))]]),m=c.forwardRef((a,b)=>c.createElement(k.default,{ref:b,...a,weights:l}));m.displayName="VideoIcon";var n=a.i(36519),o=a.i(11614),p=a.i(52657),q=a.i(69478),r=a.i(72129),s=a.i(88281),t=a.i(46727),u=a.i(57764),v=a.i(45150);function w(){let{currentUser:a,currentTenantId:k,adminCreatePost:l,adminUpdatePost:w,adminDeletePost:x}=(0,d.useApp)(),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)({title:"",excerpt:"",content:"",category:"Institucional",mediaType:"image",mediaUrl:"",image:"",status:"published",audience:"all"});if(!a||1!==a.level)return(0,b.jsx)("div",{className:"p-8 text-center text-slate-500",children:"Acceso restringido."});let I=e.DB.posts.filter(a=>a.tenantId===k),J=e.DB.units.filter(a=>a.tenantId===k);return(0,b.jsxs)("div",{className:"p-8 animate-fadeIn max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Comunicaciones"}),(0,b.jsx)("p",{className:"text-slate-500",children:"Gestiona las noticias, comunicados y contenido institucional."})]}),(0,b.jsxs)("button",{onClick:()=>{B(null),H({title:"",excerpt:"",content:"",category:"Institucional",mediaType:"image",mediaUrl:"",image:"",status:"published",audience:"all"}),z(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors shadow-lg shadow-blue-500/20",children:[(0,b.jsx)(f.Plus,{weight:"bold"})," Nueva Publicación"]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4 text-xs font-semibold text-slate-500 uppercase",children:"Título"}),(0,b.jsx)("th",{className:"p-4 text-xs font-semibold text-slate-500 uppercase",children:"Categoría"}),(0,b.jsx)("th",{className:"p-4 text-xs font-semibold text-slate-500 uppercase",children:"Tipo"}),(0,b.jsx)("th",{className:"p-4 text-xs font-semibold text-slate-500 uppercase",children:"Estado"}),(0,b.jsx)("th",{className:"p-4 text-xs font-semibold text-slate-500 uppercase",children:"Audiencia"}),(0,b.jsx)("th",{className:"p-4 text-xs font-semibold text-slate-500 uppercase text-right",children:"Acciones"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:I.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,b.jsxs)("td",{className:"p-4",children:[(0,b.jsx)("div",{className:"font-semibold text-slate-800 line-clamp-1",children:a.title}),(0,b.jsxs)("div",{className:"text-xs text-slate-400",children:["Por ",a.author," • ",a.date]})]}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${function(a){switch(a){case"Institucional":return"bg-blue-100 text-blue-700";case"Alerta":return"bg-red-100 text-red-700";case"Social":return"bg-pink-100 text-pink-700";default:return"bg-slate-100 text-slate-600"}}(a.category)}`,children:a.category})}),(0,b.jsx)("td",{className:"p-4 text-slate-500",children:function(a){switch(a){case"video":return(0,b.jsx)(m,{size:20,weight:"fill",className:"text-purple-500"});case"audio":return(0,b.jsx)(n.SpeakerHigh,{size:20,weight:"fill",className:"text-indigo-500"});case"image":return(0,b.jsx)(j.Image,{size:20,weight:"fill",className:"text-emerald-500"});default:return(0,b.jsx)(o.FileText,{size:20,weight:"fill",className:"text-slate-400"})}}(a.mediaType)}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium border ${"published"===a.status?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-amber-50 text-amber-700 border-amber-100"}`,children:[(0,b.jsx)("div",{className:`w-1.5 h-1.5 rounded-full ${"published"===a.status?"bg-emerald-500":"bg-amber-500"}`}),"published"===a.status?"Publicado":"Borrador"]})}),(0,b.jsx)("td",{className:"p-4 text-sm text-slate-600",children:"all"===a.audience?(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.Globe,{size:14})," Global"]}):(0,b.jsxs)("div",{className:"flex items-center gap-1",title:Array.isArray(a.audience)?a.audience.join(", "):"",children:[(0,b.jsx)(q.Users,{size:14}),Array.isArray(a.audience)&&a.audience.length>0?(J.find(b=>b.id===a.audience[0])?.name||"Unidad")+(a.audience.length>1?"...":""):"Personalizado"]})}),(0,b.jsx)("td",{className:"p-4 text-right",children:(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>{F(a),D(!0)},title:"Ver Analítica",className:"p-1.5 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded transition-colors",children:(0,b.jsx)(t.ChartBar,{size:18})}),(0,b.jsx)("button",{onClick:()=>{confirm("¿Deseas ocultar esta publicación? Pasará a estado Archivado.")&&w(a.id,{status:"archived"})},title:"Ocultar Publicación",className:"p-1.5 text-slate-400 hover:text-amber-600 hover:bg-amber-50 rounded transition-colors",children:(0,b.jsx)(s.EyeSlash,{size:18})}),(0,b.jsx)("button",{onClick:()=>{B(a),H({...a}),z(!0)},className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",children:(0,b.jsx)(g.PencilSimple,{size:18})}),(0,b.jsx)("button",{onClick:()=>{var b;return b=a.id,void(confirm("¿Estás seguro de eliminar esta publicación?")&&x(b))},className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",children:(0,b.jsx)(h.Trash,{size:18})})]})})]},a.id))})]}),0===I.length&&(0,b.jsx)("div",{className:"p-12 text-center text-slate-400",children:"No hay publicaciones aún."})]}),y&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fadeIn",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl p-6 relative animate-scaleIn max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("button",{onClick:()=>z(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:(0,b.jsx)(i.X,{size:24})}),(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:A?"Editar Publicación":"Nueva Publicación"}),(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault(),G.title&&G.content&&(A?w(A.id,G):l({...G,tenantId:k,author:a.name}),z(!1))},className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Título ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:G.title,onChange:a=>H({...G,title:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Ej: Nuevo beneficio corporativo",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Extracto (Resumen)"}),(0,b.jsx)("input",{type:"text",value:G.excerpt,onChange:a=>H({...G,excerpt:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Breve descripción para el feed..."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Categoría"}),(0,b.jsxs)("select",{value:G.category,onChange:a=>H({...G,category:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"Institucional",children:"Institucional"}),(0,b.jsx)("option",{value:"Social",children:"Social"}),(0,b.jsx)("option",{value:"Noticia",children:"Noticia"}),(0,b.jsx)("option",{value:"Alerta",children:"Alerta"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Tipo de Medio"}),(0,b.jsxs)("select",{value:G.mediaType,onChange:a=>H({...G,mediaType:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"image",children:"Imagen"}),(0,b.jsx)("option",{value:"video",children:"Video"}),(0,b.jsx)("option",{value:"audio",children:"Audio"}),(0,b.jsx)("option",{value:"article",children:"Artículo"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Contenido (HTML simple) ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{value:G.content,onChange:a=>H({...G,content:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg h-32 focus:ring-2 focus:ring-blue-500 focus:outline-none font-mono text-sm",placeholder:"<p>Escribe aquí el contenido...</p>",required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"URL Media (Video/Audio)"}),(0,b.jsx)("input",{type:"text",value:G.mediaUrl||"",onChange:a=>H({...G,mediaUrl:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"https://..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"URL Imagen (Portada)"}),(0,b.jsx)("input",{type:"text",value:G.image||"",onChange:a=>H({...G,image:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"https://..."})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Archivo Adjunto (Opcional)"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("label",{className:"cursor-pointer bg-slate-50 border border-slate-300 text-slate-600 hover:bg-slate-100 px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[(0,b.jsx)(r.Paperclip,{size:18})," Seleccionar Archivo",(0,b.jsx)("input",{type:"file",className:"hidden",onChange:a=>{let b=a.target.files?.[0];b&&H({...G,attach:{name:b.name,type:b.name.split(".").pop()?.toUpperCase()||"FILE"}})}})]}),G.attach&&(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-2 rounded-lg text-sm border border-blue-100 animate-fadeIn",children:[(0,b.jsx)("span",{className:"font-semibold",children:G.attach.name}),(0,b.jsxs)("span",{className:"text-xs opacity-75 uppercase",children:["(",G.attach.type,")"]}),(0,b.jsx)("button",{type:"button",onClick:()=>{H({...G,attach:void 0})},className:"ml-1 text-blue-400 hover:text-blue-800",children:(0,b.jsx)(i.X,{size:14,weight:"bold"})})]})]}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400 mt-1",children:"PDF, Documentos o imágenes para descargar."})]}),(0,b.jsx)("hr",{className:"border-slate-100"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Estado"}),(0,b.jsxs)("select",{value:G.status,onChange:a=>H({...G,status:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"PUBLISHED",children:"Publicado"}),(0,b.jsx)("option",{value:"DRAFT",children:"Borrador"}),(0,b.jsx)("option",{value:"ARCHIVED",children:"Archivado"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Audiencia"}),(0,b.jsxs)("select",{value:Array.isArray(G.audience)?G.audience[0]:G.audience,onChange:a=>{let b=a.target.value;H({...G,audience:"all"===b?"all":[b]})},className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"GLOBAL",children:"Global (Toda la organización)"}),(0,b.jsx)("optgroup",{label:"Unidades Específicas",children:J.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))})]}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400 mt-1",children:"Selecciona quién puede ver esta publicación."})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>z(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancelar"}),(0,b.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold shadow-lg shadow-blue-500/20",children:"Guardar"})]})]})]})}),C&&E&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fadeIn",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-6 relative animate-scaleIn",children:[(0,b.jsx)("button",{onClick:()=>D(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:(0,b.jsx)(i.X,{size:24})}),(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Analítica de Publicación"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mb-6 line-clamp-1",children:E.title}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-blue-50 p-4 rounded-xl text-center",children:[(0,b.jsx)("div",{className:"text-blue-600 mb-2 flex justify-center",children:(0,b.jsx)(p.Globe,{size:24})}),(0,b.jsx)("div",{className:"text-2xl font-bold text-slate-800",children:12*E.likes+8*(E.commentsCount||0)+124}),(0,b.jsx)("div",{className:"text-xs text-slate-500 font-medium uppercase",children:"Vistas"})]}),(0,b.jsxs)("div",{className:"bg-pink-50 p-4 rounded-xl text-center",children:[(0,b.jsx)("div",{className:"text-pink-600 mb-2 flex justify-center",children:(0,b.jsx)(q.Users,{size:24})}),(0,b.jsx)("div",{className:"text-2xl font-bold text-slate-800",children:E.likes}),(0,b.jsx)("div",{className:"text-xs text-slate-500 font-medium uppercase",children:"Me Gusta"})]}),(0,b.jsxs)("div",{className:"bg-purple-50 p-4 rounded-xl text-center",children:[(0,b.jsx)("div",{className:"text-purple-600 mb-2 flex justify-center",children:(0,b.jsx)(o.FileText,{size:24})}),(0,b.jsx)("div",{className:"text-2xl font-bold text-slate-800",children:E.commentsCount||0}),(0,b.jsx)("div",{className:"text-xs text-slate-500 font-medium uppercase",children:"Comentarios"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[(0,b.jsx)("h3",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"Rendimiento"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,b.jsx)("span",{className:"text-slate-600",children:"Interacción"}),(0,b.jsx)("span",{className:"font-bold text-slate-800",children:"High"})]}),(0,b.jsx)("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-blue-500 w-[85%] rounded-full"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,b.jsx)("span",{className:"text-slate-600",children:"Conversión"}),(0,b.jsx)("span",{className:"font-bold text-slate-800",children:"Avg"})]}),(0,b.jsx)("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-emerald-500 w-[60%] rounded-full"})})]})]})]}),(0,b.jsx)("div",{className:"flex justify-end mt-6",children:(0,b.jsx)("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:"Cerrar"})})]})}),(0,b.jsx)(u.default,{...v.communicationsGuide})]})}a.s(["default",()=>w],30603)}];

//# sourceMappingURL=app_dashboard_admin_communications_page_tsx_2d1bfa99._.js.map