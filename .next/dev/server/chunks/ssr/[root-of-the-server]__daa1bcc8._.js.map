{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/data.ts"],"sourcesContent":["export type Permission =\n  | 'MANAGE_UNITS'\n  | 'MANAGE_USERS'\n  | 'VIEW_ALL_DOCS'\n  | 'UPLOAD_DOCS'\n  | 'DELETE_DOCS'\n  | 'MANAGE_WORKFLOWS'\n  | 'VIEW_ANALYTICS'\n  | 'MANAGE_SETTINGS'\n  | 'MANAGE_ROLES'\n  | 'MANAGE_STORAGE'\n  | 'VIEW_AUDIT'\n  | 'MANAGE_POSTS'\n  | 'MANAGE_SURVEYS'\n  | 'IMPERSONATE_USERS';\n\nexport const PERMISSIONS: Permission[] = [\n  'MANAGE_UNITS',\n  'MANAGE_USERS',\n  'VIEW_ALL_DOCS',\n  'UPLOAD_DOCS',\n  'DELETE_DOCS',\n  'MANAGE_WORKFLOWS',\n  'VIEW_ANALYTICS',\n  'MANAGE_SETTINGS',\n  'MANAGE_ROLES',\n  'MANAGE_STORAGE',\n  'VIEW_AUDIT',\n  'MANAGE_POSTS',\n  'MANAGE_SURVEYS',\n  'IMPERSONATE_USERS'\n];\n\nexport interface User {\n  id: string;\n  name: string;\n  email?: string;\n  role: string;\n  level: number;\n  tenantId: string;\n  unit: string;\n  initials: string;\n  bio?: string;\n  phone?: string;\n  location?: string;\n  jobTitle?: string;\n  language?: string;\n  timezone?: string;\n  status: 'ACTIVE' | 'SUSPENDED' | 'DELETED' | 'PENDING' | 'PENDING_INVITE';\n  avatar?: string;\n  password?: string;\n  mustChangePassword?: boolean;\n  inviteSentAt?: string;\n  inviteExpiresAt?: string;\n}\n\nexport interface TenantBranding {\n  app_title: string;\n  primary_color: string;\n  accent_color: string;\n  login_bg_color?: string;\n  login_bg_image?: string;\n  login_description?: string;\n  support_message?: string;\n  logo_url?: string;\n  updated_at: string;\n}\n\nexport interface TenantPolicy {\n  session_duration_minutes?: number;\n  max_failed_logins: number;\n  lock_minutes: number;\n  mfa_required?: boolean;\n  ip_whitelist?: string[];\n  sso_enabled: boolean;\n  sso_providers?: string[];\n  file_max_size_bytes: number;\n  allowed_mime_types: string[];\n  audit_retention_days: number;\n  updated_at: string;\n}\n\nexport interface TenantSSOConfig {\n  provider: string;\n  clientId: string;\n  clientSecret: string;\n  domain?: string;\n  authUrl?: string;\n  tokenUrl?: string;\n  enabled: boolean;\n}\n\nexport interface TenantIntegration {\n  id: string;\n  type: string;\n  name: string;\n  enabled: boolean;\n  active?: boolean;\n  baseUrl?: string;\n  apiKey?: string;\n  description?: string;\n  config?: Record<string, unknown>;\n}\n\nexport interface Tenant {\n  id: string;\n  name: string;\n  slug: string;\n  domains: string[];\n  status: 'ACTIVE' | 'SUSPENDED' | 'DELETED';\n  timezone: string;\n  locale: string;\n  branding: TenantBranding;\n  policies: TenantPolicy;\n  ssoConfig?: TenantSSOConfig;\n  storageConfig?: TenantStorageConfig;\n  integrations?: TenantIntegration[];\n  features: string[];\n  sector?: string;\n  contactName?: string;\n  contactEmail?: string;\n  contactPhone?: string;\n  users: number;\n  storage: string;\n  created_at: string;\n  updated_at?: string;\n  roleTemplates: Record<number, string[]>;\n}\n\nexport interface Unit {\n  id: string;\n  tenantId: string;\n  name: string;\n  code?: string;\n  parentId?: string;\n  ownerId?: string;\n  description?: string;\n  members?: string[];\n  type: 'UNIT' | 'DEPARTMENT' | 'TEAM' | 'PROCESS';\n  depth: number;\n  color?: string;\n}\n\nexport interface Post {\n  id: string;\n  tenantId: string;\n  author: string;\n  authorId?: string;\n  title: string;\n  excerpt?: string;\n  content: string;\n  category: string;\n  mediaType?: 'image' | 'video' | 'audio' | 'none' | 'article';\n  mediaUrl?: string;\n  image?: string;\n  attach?: { name: string; type: string };\n  status: 'draft' | 'published' | 'archived';\n  audience: 'all' | 'unit' | 'role';\n  date: string;\n  likes: number;\n  commentsCount: number;\n  comments?: PublicComment[];\n}\n\nexport interface PublicComment {\n  id: string;\n  postId?: string;\n  docId?: string;\n  authorId: string;\n  authorName: string;\n  content: string;\n  createdAt: string;\n  userId?: string;\n  userName?: string;\n  reference?: string;\n  position?: { page: number; x: number; y: number };\n  date?: string;\n  likes?: number;\n  attachment?: string;\n  resolved?: boolean;\n}\n\nexport interface Doc {\n  id: string;\n  tenantId: string;\n  title: string;\n  type: string;\n  size: string;\n  version: string;\n  status: 'active' | 'pending' | 'archived' | 'expired' | 'APPROVED' | 'PENDING' | 'ACTIVE' | 'ARCHIVED';\n  authorId: string;\n  unit: string;\n  process?: string;\n  visibility: 'public' | 'unit' | 'private';\n  tags: string[];\n  expiryDate?: string;\n  folderId?: string;\n  color?: string;\n  likes: number;\n  commentsCount: number;\n  history?: DocHistory[];\n  comments?: PublicComment[];\n  resolved?: boolean;\n  userName?: string;\n  content?: string;\n  attachment?: string;\n  date?: string;\n}\n\nexport interface DocHistory {\n  version: string;\n  date: string;\n  userId: string;\n  userName: string;\n  changes: string;\n}\n\nexport interface ProjectDocument {\n  id: string;\n  name: string;\n  type: string;\n  content?: string;\n  url?: string;\n  comments?: PublicComment[];\n  versions?: { content: string; date: string; userId: string }[];\n}\n\nexport interface ProjectActivity {\n  id: string;\n  name: string;\n  status: string;\n  participants: (string | { userId: string; role?: string })[];\n  documents: ProjectDocument[];\n  startDate?: string;\n  endDate?: string;\n}\n\nexport interface ProjectPhase {\n  id: string;\n  name: string;\n  order: number;\n  status: string;\n  activities: ProjectActivity[];\n  startDate?: string;\n  endDate?: string;\n}\n\nexport interface Project {\n  id: string;\n  tenantId: string;\n  title: string;\n  description?: string;\n  startDate?: string;\n  endDate?: string;\n  status: string;\n  creatorId: string;\n  createdAt: string;\n  updatedAt?: string;\n  participants: (string | { userId: string; role?: string })[];\n  phases: ProjectPhase[];\n  folderId?: string;\n  color?: string;\n  unit?: string;\n  process?: string;\n}\n\nexport type ProjectParticipant = string | { userId: string; role?: string };\n\nexport interface ProjectFolder {\n  id: string;\n  tenantId: string;\n  name: string;\n  description?: string;\n  parentId?: string;\n  level?: number;\n  unit?: string;\n  process?: string;\n  color?: string;\n  startDate?: string;\n  endDate?: string;\n  createdAt: string;\n  updatedAt?: string;\n}\n\nexport interface RepoFolder {\n  id: string;\n  tenantId: string;\n  name: string;\n  parentId?: string;\n  description?: string;\n  color?: string;\n  createdAt: string;\n  updatedAt?: string;\n  level?: number;\n  unit?: string;\n  process?: string;\n}\n\nexport interface WorkflowStep {\n  id: string;\n  name: string;\n  type: 'approval' | 'task' | 'notification' | 'condition';\n  assigneeRole?: string;\n  assigneeId?: string;\n}\n\nexport interface WorkflowDefinition {\n  id: string;\n  tenantId: string;\n  title: string;\n  description?: string;\n  unit?: string;\n  ownerId?: string;\n  icon?: string;\n  schema: WorkflowStep[] | Record<string, unknown>;\n  slaHours?: number;\n  active: boolean;\n}\n\nexport interface WorkflowHistoryEntry {\n  date: string;\n  action?: string;\n  userId?: string;\n  userName?: string;\n  comment?: string;\n  status?: string;\n  by?: string;\n}\n\nexport interface WorkflowComment {\n  id: string;\n  userId: string;\n  userName: string;\n  content: string;\n  createdAt: string;\n}\n\nexport interface WorkflowCase {\n  id: string;\n  workflowId: string;\n  tenantId: string;\n  title: string;\n  status: 'open' | 'in_progress' | 'completed' | 'cancelled' | 'OPEN' | 'IN_PROGRESS' | 'COMPLETED' | 'CANCELLED' | 'RECEIVED' | 'PENDING' | 'REJECTED' | 'APPROVED' | 'CLOSED';\n  creatorId: string;\n  assigneeId?: string;\n  unit?: string;\n  createdAt: string;\n  updatedAt?: string;\n  data: Record<string, unknown>;\n  history: WorkflowHistoryEntry[];\n  comments: WorkflowComment[];\n}\n\nexport type StorageProvider = 'GOOGLE_DRIVE' | 'DROPBOX' | 'ONEDRIVE' | 'SHAREPOINT' | 'S3' | 'LOCAL';\n\nexport interface GoogleDriveConfig {\n  clientId: string;\n  clientSecret: string;\n  refreshToken: string;\n  folderId?: string;\n}\n\nexport interface DropboxConfig {\n  accessToken: string;\n  rootPath?: string;\n}\n\nexport interface OneDriveConfig {\n  clientId: string;\n  clientSecret: string;\n  refreshToken: string;\n  driveId?: string;\n}\n\nexport interface SharePointConfig {\n  siteUrl: string;\n  clientId: string;\n  clientSecret: string;\n  libraryName?: string;\n}\n\nexport interface S3Config {\n  accessKeyId: string;\n  secretAccessKey: string;\n  bucket: string;\n  region: string;\n  endpoint?: string;\n}\n\nexport interface TenantStorageConfig {\n  provider: StorageProvider;\n  enabled: boolean;\n  config: GoogleDriveConfig | DropboxConfig | OneDriveConfig | SharePointConfig | S3Config | Record<string, any>;\n  encryptedConfig?: string;\n  lastTested?: string;\n  testStatus?: 'success' | 'failed';\n  testMessage?: string;\n}\n\nexport interface PlatformAuditEvent {\n  id: string;\n  event_type: string;\n  actor_id: string;\n  actor_name: string;\n  target_tenant_id?: string;\n  target_user_id?: string;\n  metadata: Record<string, unknown>;\n  ip: string;\n  created_at: string;\n}\n\nexport interface PlatformAdmin {\n  id: string;\n  name: string;\n  email: string;\n  role: 'SUPER_ADMIN' | 'SUPPORT' | 'BILLING';\n  status: 'ACTIVE' | 'SUSPENDED';\n  mfaEnabled: boolean;\n  lastLogin?: string;\n}\n\nexport interface PlatformSettings {\n  defaultModules: string[];\n  defaultLocale: string;\n  defaultTimezone: string;\n  authPolicy: {\n    allowRegistration: boolean;\n    requireEmailVerification: boolean;\n    sessionTimeout: number;\n    enforceSSO?: boolean;\n    passwordMinLength?: number;\n    mfaPolicy?: 'none' | 'optional' | 'required';\n  };\n}\n\nexport interface Attachment {\n  id: string;\n  tenant_id?: string;\n  message_id?: string;\n  file_name?: string;\n  mime_type?: string;\n  size: number;\n  storage_key?: string;\n  url: string;\n  created_at: string;\n  name?: string;\n  type?: string;\n}\n\nexport interface MessageReaction {\n  emoji: string;\n  users?: string[];\n  user_id?: string;\n  message_id?: string;\n  created_at?: string;\n}\n\nexport interface ChatMessage {\n  id: string;\n  tenant_id: string;\n  conversation_id: string;\n  sender_id: string;\n  body: string;\n  body_type: 'text' | 'image' | 'file' | 'voice';\n  created_at: string;\n  senderName?: string;\n  attachments?: Attachment[];\n  read_by?: string[];\n  reply_to_message_id?: string;\n  replyTo?: { id: string; senderName: string; body: string };\n  reactions?: MessageReaction[];\n  status?: 'sending' | 'sent' | 'failed';\n  tempId?: string;\n  deleted_at?: string;\n  edited_at?: string;\n}\n\nexport interface ConversationMember {\n  id: string;\n  conversation_id: string;\n  user_id: string;\n  role?: 'admin' | 'member';\n  joinedAt: string;\n}\n\nexport interface Conversation {\n  id: string;\n  tenant_id: string;\n  type: 'dm' | 'group';\n  name?: string;\n  title?: string;\n  participants: string[];\n  lastMessage?: string;\n  lastMessageAt?: string;\n  last_message_at?: string;\n  lastMessagePreview?: string;\n  unreadCount?: number;\n  createdAt: string;\n  avatar?: string;\n}\n\nexport interface WorkNote {\n  id: string;\n  userId: string;\n  tenantId: string;\n  title: string;\n  content: string;\n  color: string;\n  pinned: boolean;\n  status?: string;\n  date?: string;\n  isImportant?: boolean;\n  reminder?: NoteReminder;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface NoteReminder {\n  date: string;\n  time?: string;\n  channel?: 'internal' | 'email' | 'both';\n  notified?: boolean;\n  sent?: boolean;\n}\n\nexport type QuestionType = 'text' | 'number' | 'select' | 'multiselect' | 'scale' | 'boolean' | 'LIKERT' | 'NPS' | 'TEXT' | 'RATING' | 'CHOICE' | 'MULTI_CHOICE' | 'MATRIX' | 'MULTI' | 'CHECKBOX' | 'DROPDOWN' | 'YESNO' | 'DATE' | 'RANKING' | 'FILE';\n\nexport interface SurveyQuestion {\n  id: string;\n  text?: string;\n  title?: string;\n  type: QuestionType;\n  options?: string[];\n  required: boolean;\n  dimension?: string;\n  section?: string;\n  scale?: number;\n}\n\nexport interface Survey {\n  id: string;\n  tenantId: string;\n  title: string;\n  description?: string;\n  status: 'draft' | 'active' | 'closed' | 'DRAFT' | 'ACTIVE' | 'CLOSED' | 'OPEN' | 'SCHEDULED' | 'ARCHIVED';\n  questions: SurveyQuestion[];\n  createdAt: string;\n  closedAt?: string;\n  targetAudience?: string;\n  isAnonymous?: boolean;\n  audience?: string;\n  unit?: string;\n  process?: string;\n  responses?: number;\n  completionRate?: number;\n  ownerId?: string;\n  deadline?: string;\n  responsesCount?: number;\n  targetUserId?: string | string[];\n  targetUnitId?: string | string[];\n  targetRoleId?: string | string[];\n}\n\nexport interface SurveyResponse {\n  id: string;\n  surveyId: string;\n  tenantId: string;\n  userId: string;\n  respondentId?: string;\n  answers: Record<string, unknown>;\n  submittedAt: string;\n}\n\nexport interface EmailOutbox {\n  id: string;\n  to: string;\n  subject: string;\n  body: string;\n  status: 'PENDING' | 'SENT' | 'FAILED';\n  sentAt?: string;\n}\n\ninterface Database {\n  tenants: Tenant[];\n  users: User[];\n  units: Unit[];\n  posts: Post[];\n  docs: Doc[];\n  projects: Project[];\n  projectFolders: ProjectFolder[];\n  repoFolders: RepoFolder[];\n  workflowDefinitions: WorkflowDefinition[];\n  workflowCases: WorkflowCase[];\n  platformAudit: PlatformAuditEvent[];\n  platformAdmins: PlatformAdmin[];\n  platformSettings: PlatformSettings;\n  conversations: Conversation[];\n  conversationMembers: ConversationMember[];\n  messages: ChatMessage[];\n  workNotes: WorkNote[];\n  surveyResponses: SurveyResponse[];\n  surveys: Survey[];\n  publicComments: PublicComment[];\n  emailOutbox: EmailOutbox[];\n  storageConfigs: Record<string, TenantStorageConfig>;\n  contextChats: Record<string, { text: string; type: string }[]>;\n  save: () => void;\n  load: () => void;\n}\n\nconst defaultPlatformSettings: PlatformSettings = {\n  defaultModules: ['DASHBOARD', 'WORKFLOWS', 'REPOSITORY', 'CHAT', 'ANALYTICS'],\n  defaultLocale: 'es-CO',\n  defaultTimezone: 'America/Bogota',\n  authPolicy: {\n    allowRegistration: true,\n    requireEmailVerification: true,\n    sessionTimeout: 3600,\n    enforceSSO: false,\n    passwordMinLength: 8,\n    mfaPolicy: 'optional'\n  }\n};\n\nconst sampleTenants: Tenant[] = [\n  {\n    id: 'T1',\n    name: 'Empresa Demo',\n    slug: 'demo',\n    domains: ['demo.maturity.online'],\n    status: 'ACTIVE',\n    timezone: 'America/Bogota',\n    locale: 'es-CO',\n    branding: {\n      app_title: 'Empresa Demo',\n      primary_color: '#2563eb',\n      accent_color: '#1d4ed8',\n      updated_at: new Date().toISOString()\n    },\n    policies: {\n      max_failed_logins: 3,\n      lock_minutes: 15,\n      file_max_size_bytes: 10 * 1024 * 1024,\n      allowed_mime_types: ['application/pdf', 'image/png', 'image/jpeg'],\n      audit_retention_days: 90,\n      sso_enabled: false,\n      updated_at: new Date().toISOString()\n    },\n    features: ['DASHBOARD', 'WORKFLOWS', 'REPOSITORY', 'CHAT', 'ANALYTICS', 'SURVEYS'],\n    sector: 'technology',\n    contactName: 'Juan Admin',\n    contactEmail: 'admin@demo.com',\n    contactPhone: '+57 300 123 4567',\n    users: 5,\n    storage: '2.5 GB',\n    created_at: '2024-01-15T10:00:00Z',\n    roleTemplates: {\n      1: [...PERMISSIONS],\n      2: ['MANAGE_UNITS', 'VIEW_ALL_DOCS', 'UPLOAD_DOCS', 'VIEW_ANALYTICS'],\n      3: ['VIEW_ALL_DOCS', 'UPLOAD_DOCS'],\n      4: ['VIEW_ALL_DOCS'],\n      5: ['VIEW_ALL_DOCS'],\n      6: []\n    }\n  },\n  {\n    id: 'T2',\n    name: 'Corporacion Alpha',\n    slug: 'alpha',\n    domains: ['alpha.maturity.online'],\n    status: 'ACTIVE',\n    timezone: 'America/Bogota',\n    locale: 'es-CO',\n    branding: {\n      app_title: 'Corporacion Alpha',\n      primary_color: '#059669',\n      accent_color: '#047857',\n      updated_at: new Date().toISOString()\n    },\n    policies: {\n      max_failed_logins: 5,\n      lock_minutes: 30,\n      file_max_size_bytes: 20 * 1024 * 1024,\n      allowed_mime_types: ['application/pdf'],\n      audit_retention_days: 180,\n      sso_enabled: true,\n      updated_at: new Date().toISOString()\n    },\n    features: ['DASHBOARD', 'WORKFLOWS', 'REPOSITORY', 'CHAT'],\n    sector: 'finance',\n    contactName: 'Maria Gonzalez',\n    contactEmail: 'admin@alpha.com',\n    users: 12,\n    storage: '8.2 GB',\n    created_at: '2024-02-20T14:30:00Z',\n    roleTemplates: {\n      1: [...PERMISSIONS],\n      2: ['MANAGE_UNITS', 'VIEW_ALL_DOCS', 'UPLOAD_DOCS'],\n      3: ['VIEW_ALL_DOCS', 'UPLOAD_DOCS'],\n      4: ['VIEW_ALL_DOCS'],\n      5: [],\n      6: []\n    }\n  }\n];\n\nconst sampleUsers: User[] = [\n  {\n    id: 'u1',\n    name: 'Juan Admin',\n    email: 'admin@demo.com',\n    role: 'Admin Global',\n    level: 1,\n    tenantId: 'T1',\n    unit: 'Direccion General',\n    initials: 'JA',\n    bio: 'Administrador principal de la plataforma',\n    phone: '+57 300 123 4567',\n    location: 'Bogota, Colombia',\n    jobTitle: 'Director General',\n    language: 'es',\n    timezone: 'America/Bogota',\n    status: 'ACTIVE'\n  },\n  {\n    id: 'u2',\n    name: 'Maria Lopez',\n    email: 'maria@demo.com',\n    role: 'Gerente',\n    level: 2,\n    tenantId: 'T1',\n    unit: 'Operaciones',\n    initials: 'ML',\n    bio: 'Gerente de Operaciones',\n    phone: '+57 300 234 5678',\n    location: 'Medellin, Colombia',\n    jobTitle: 'Gerente de Operaciones',\n    language: 'es',\n    timezone: 'America/Bogota',\n    status: 'ACTIVE'\n  },\n  {\n    id: 'u3',\n    name: 'Carlos Perez',\n    email: 'carlos@demo.com',\n    role: 'Analista',\n    level: 3,\n    tenantId: 'T1',\n    unit: 'TI',\n    initials: 'CP',\n    bio: 'Analista de sistemas',\n    jobTitle: 'Analista TI',\n    language: 'es',\n    timezone: 'America/Bogota',\n    status: 'ACTIVE'\n  },\n  {\n    id: 'u4',\n    name: 'Ana Garcia',\n    email: 'ana@demo.com',\n    role: 'Usuario',\n    level: 4,\n    tenantId: 'T1',\n    unit: 'Recursos Humanos',\n    initials: 'AG',\n    bio: 'Coordinadora de RRHH',\n    jobTitle: 'Coordinadora RRHH',\n    status: 'ACTIVE'\n  },\n  {\n    id: 'u5',\n    name: 'Pedro Martinez',\n    email: 'pedro@alpha.com',\n    role: 'Admin Global',\n    level: 1,\n    tenantId: 'T2',\n    unit: 'Direccion',\n    initials: 'PM',\n    bio: 'Director Alpha',\n    jobTitle: 'Director',\n    status: 'ACTIVE'\n  }\n];\n\nconst sampleUnits: Unit[] = [\n  {\n    id: 'U-T1-1',\n    tenantId: 'T1',\n    name: 'Direccion General',\n    depth: 0,\n    type: 'UNIT',\n    description: 'Unidad principal de la organizacion'\n  },\n  {\n    id: 'U-T1-2',\n    tenantId: 'T1',\n    name: 'Operaciones',\n    depth: 1,\n    parentId: 'U-T1-1',\n    type: 'DEPARTMENT',\n    description: 'Departamento de operaciones'\n  },\n  {\n    id: 'U-T1-3',\n    tenantId: 'T1',\n    name: 'TI',\n    depth: 1,\n    parentId: 'U-T1-1',\n    type: 'DEPARTMENT',\n    description: 'Tecnologia de la informacion'\n  },\n  {\n    id: 'U-T1-4',\n    tenantId: 'T1',\n    name: 'Recursos Humanos',\n    depth: 1,\n    parentId: 'U-T1-1',\n    type: 'DEPARTMENT',\n    description: 'Gestion de talento humano'\n  }\n];\n\nconst samplePosts: Post[] = [\n  {\n    id: 'post-1',\n    tenantId: 'T1',\n    author: 'Juan Admin',\n    authorId: 'u1',\n    title: 'Bienvenidos a Maturity360',\n    excerpt: 'Conoce nuestra nueva plataforma de gestion organizacional',\n    content: 'Estamos emocionados de presentar Maturity360, una plataforma integral para la gestion de madurez organizacional. Esta herramienta les permitira mejorar sus procesos, colaborar de manera efectiva y alcanzar sus objetivos estrategicos.',\n    category: 'Anuncios',\n    status: 'published',\n    audience: 'all',\n    date: new Date().toISOString(),\n    likes: 15,\n    commentsCount: 3\n  },\n  {\n    id: 'post-2',\n    tenantId: 'T1',\n    author: 'Maria Lopez',\n    authorId: 'u2',\n    title: 'Nuevos procedimientos operativos',\n    excerpt: 'Actualizacion de los procedimientos del area de operaciones',\n    content: 'Se han actualizado los procedimientos operativos para mejorar la eficiencia. Por favor revisen los documentos adjuntos en el repositorio.',\n    category: 'Operaciones',\n    status: 'published',\n    audience: 'unit',\n    date: new Date(Date.now() - 86400000).toISOString(),\n    likes: 8,\n    commentsCount: 1\n  }\n];\n\nconst sampleDocs: Doc[] = [\n  {\n    id: 'doc-1',\n    tenantId: 'T1',\n    title: 'Manual de Procesos v2.0',\n    type: 'PDF',\n    size: '2.5 MB',\n    version: '2.0',\n    status: 'active',\n    authorId: 'u1',\n    unit: 'Direccion General',\n    visibility: 'public',\n    tags: ['procesos', 'manual', 'calidad'],\n    likes: 12,\n    commentsCount: 4,\n    date: new Date().toISOString()\n  },\n  {\n    id: 'doc-2',\n    tenantId: 'T1',\n    title: 'Politica de Seguridad',\n    type: 'PDF',\n    size: '1.2 MB',\n    version: '1.5',\n    status: 'active',\n    authorId: 'u3',\n    unit: 'TI',\n    visibility: 'public',\n    tags: ['seguridad', 'TI', 'politicas'],\n    likes: 8,\n    commentsCount: 2,\n    date: new Date(Date.now() - 172800000).toISOString()\n  }\n];\n\nconst sampleProjects: Project[] = [\n  {\n    id: 'proj-1',\n    tenantId: 'T1',\n    title: 'Implementacion ISO 9001',\n    description: 'Proyecto de certificacion en calidad ISO 9001:2015',\n    startDate: '2024-01-01',\n    endDate: '2024-12-31',\n    status: 'active',\n    creatorId: 'u1',\n    createdAt: '2024-01-01T10:00:00Z',\n    participants: ['u1', 'u2', 'u3'],\n    phases: [\n      {\n        id: 'phase-1',\n        name: 'Diagnostico',\n        order: 1,\n        status: 'completed',\n        activities: [\n          {\n            id: 'act-1',\n            name: 'Evaluacion inicial',\n            status: 'completed',\n            participants: ['u1', 'u2'],\n            documents: []\n          }\n        ]\n      },\n      {\n        id: 'phase-2',\n        name: 'Implementacion',\n        order: 2,\n        status: 'in_progress',\n        activities: [\n          {\n            id: 'act-2',\n            name: 'Documentacion de procesos',\n            status: 'in_progress',\n            participants: ['u2', 'u3'],\n            documents: []\n          }\n        ]\n      }\n    ],\n    color: '#2563eb'\n  }\n];\n\nconst sampleConversations: Conversation[] = [\n  {\n    id: 'conv-1',\n    tenant_id: 'T1',\n    type: 'dm',\n    participants: ['u1', 'u2'],\n    lastMessage: 'Hola, necesito revisar el documento',\n    lastMessageAt: new Date().toISOString(),\n    unreadCount: 0,\n    createdAt: new Date(Date.now() - 86400000 * 7).toISOString()\n  },\n  {\n    id: 'conv-2',\n    tenant_id: 'T1',\n    type: 'group',\n    name: 'Equipo de Proyecto ISO',\n    participants: ['u1', 'u2', 'u3'],\n    lastMessage: 'Reunion manana a las 10am',\n    lastMessageAt: new Date(Date.now() - 3600000).toISOString(),\n    unreadCount: 2,\n    createdAt: new Date(Date.now() - 86400000 * 30).toISOString()\n  }\n];\n\nconst sampleMessages: ChatMessage[] = [\n  {\n    id: 'msg-1',\n    tenant_id: 'T1',\n    conversation_id: 'conv-1',\n    sender_id: 'u2',\n    body: 'Hola, necesito revisar el documento',\n    body_type: 'text',\n    created_at: new Date().toISOString(),\n    senderName: 'Maria Lopez'\n  },\n  {\n    id: 'msg-2',\n    tenant_id: 'T1',\n    conversation_id: 'conv-2',\n    sender_id: 'u1',\n    body: 'Reunion manana a las 10am',\n    body_type: 'text',\n    created_at: new Date(Date.now() - 3600000).toISOString(),\n    senderName: 'Juan Admin'\n  }\n];\n\nconst sampleWorkflowDefinitions: WorkflowDefinition[] = [\n  {\n    id: 'wf-def-1',\n    tenantId: 'T1',\n    title: 'Solicitud de Vacaciones',\n    description: 'Proceso para solicitar vacaciones',\n    unit: 'Recursos Humanos',\n    icon: 'calendar',\n    schema: [\n      { id: 'step-1', name: 'Solicitud', type: 'task' },\n      { id: 'step-2', name: 'Aprobacion Jefe', type: 'approval', assigneeRole: 'Gerente' },\n      { id: 'step-3', name: 'Notificacion RRHH', type: 'notification' }\n    ],\n    slaHours: 48,\n    active: true\n  }\n];\n\nconst sampleWorkflowCases: WorkflowCase[] = [];\n\nconst sampleSurveys: Survey[] = [\n  {\n    id: 'survey-1',\n    tenantId: 'T1',\n    title: 'Diagnostico de Madurez Organizacional',\n    description: 'Evaluacion inicial del nivel de madurez',\n    status: 'active',\n    questions: [\n      {\n        id: 'q1',\n        text: 'Como calificaria el nivel de documentacion de procesos?',\n        type: 'scale',\n        required: true,\n        dimension: 'Procesos'\n      },\n      {\n        id: 'q2',\n        text: 'La organizacion cuenta con indicadores de gestion definidos?',\n        type: 'boolean',\n        required: true,\n        dimension: 'Medicion'\n      }\n    ],\n    createdAt: new Date().toISOString()\n  }\n];\n\nexport const DB: Database = {\n  tenants: sampleTenants,\n  users: sampleUsers,\n  units: sampleUnits,\n  posts: samplePosts,\n  docs: sampleDocs,\n  projects: sampleProjects,\n  projectFolders: [],\n  repoFolders: [],\n  workflowDefinitions: sampleWorkflowDefinitions,\n  workflowCases: sampleWorkflowCases,\n  platformAudit: [],\n  platformAdmins: [\n    {\n      id: 'admin-1',\n      name: 'Super Admin',\n      email: 'superadmin@maturity.online',\n      role: 'SUPER_ADMIN',\n      status: 'ACTIVE',\n      mfaEnabled: true,\n      lastLogin: new Date().toISOString()\n    }\n  ],\n  platformSettings: defaultPlatformSettings,\n  conversations: sampleConversations,\n  conversationMembers: [],\n  messages: sampleMessages,\n  workNotes: [],\n  surveyResponses: [],\n  surveys: sampleSurveys,\n  publicComments: [],\n  emailOutbox: [],\n  storageConfigs: {},\n  contextChats: {},\n\n  save: function() {\n    if (typeof window !== 'undefined') {\n      try {\n        localStorage.setItem('m360_db', JSON.stringify({\n          tenants: this.tenants,\n          users: this.users,\n          units: this.units,\n          posts: this.posts,\n          docs: this.docs,\n          projects: this.projects,\n          projectFolders: this.projectFolders,\n          repoFolders: this.repoFolders,\n          workflowDefinitions: this.workflowDefinitions,\n          workflowCases: this.workflowCases,\n          platformAudit: this.platformAudit,\n          conversations: this.conversations,\n          messages: this.messages,\n          workNotes: this.workNotes,\n          surveyResponses: this.surveyResponses,\n          surveys: this.surveys,\n          publicComments: this.publicComments,\n          storageConfigs: this.storageConfigs\n        }));\n      } catch (e) {\n        console.error('Failed to save DB:', e);\n      }\n    }\n  },\n\n  load: function() {\n    if (typeof window !== 'undefined') {\n      try {\n        const stored = localStorage.getItem('m360_db');\n        if (stored) {\n          const data = JSON.parse(stored);\n          Object.assign(this, data);\n        }\n      } catch (e) {\n        console.error('Failed to load DB:', e);\n      }\n    }\n  }\n};\n\nif (typeof window !== 'undefined') {\n  DB.load();\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 582, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/seed_attachments.ts"],"sourcesContent":["import { DB } from '@/lib/data';\n\n// Helper to seed a conversation with attachments to verify rendering\nexport const seedAttachments = () => {\n    const convo = DB.conversations.find(c => c.type === 'dm');\n    if (!convo) return console.log('No DM found to seed');\n    \n    console.log('Seeding attachments to conversation:', convo.id);\n\n    // 1. Image Message\n    DB.messages.push({\n        id: 'MSG-IMG-TEST',\n        tenant_id: 'T1',\n        conversation_id: convo.id,\n        sender_id: convo.participants?.[0] || 'system', // Use first participant\n        body: 'Mira esta imagen',\n        body_type: 'image',\n        created_at: new Date().toISOString(),\n        senderName: 'Test Bot',\n        attachments: [{\n            id: 'ATT-1',\n            tenant_id: 'T1',\n            message_id: 'MSG-IMG-TEST',\n            file_name: 'demo-image.jpg',\n            mime_type: 'image/jpeg',\n            size: 1024 * 500,\n            storage_key: 'mock',\n            url: 'https://picsum.photos/400/300', // External image for verification\n            created_at: new Date().toISOString()\n        }]\n    });\n\n    // 2. File Message\n    DB.messages.push({\n        id: 'MSG-FILE-TEST',\n        tenant_id: 'T1',\n        conversation_id: convo.id,\n        sender_id: convo.participants?.[0] || 'system',\n        body: 'AquÃ­ tienes el reporte',\n        body_type: 'file',\n        created_at: new Date().toISOString(),\n        senderName: 'Test Bot',\n        attachments: [{\n            id: 'ATT-2',\n            tenant_id: 'T1',\n            message_id: 'MSG-FILE-TEST',\n            file_name: 'reporte-anual.pdf',\n            mime_type: 'application/pdf',\n            size: 1024 * 1024 * 2.5,\n            storage_key: 'mock',\n            url: '#', \n            created_at: new Date().toISOString()\n        }]\n    });\n    \n    console.log('Seeded 2 messages with attachments.');\n};\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,kBAAkB;IAC3B,MAAM,QAAQ,iHAAE,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;IACpD,IAAI,CAAC,OAAO,OAAO,QAAQ,GAAG,CAAC;IAE/B,QAAQ,GAAG,CAAC,wCAAwC,MAAM,EAAE;IAE5D,mBAAmB;IACnB,iHAAE,CAAC,QAAQ,CAAC,IAAI,CAAC;QACb,IAAI;QACJ,WAAW;QACX,iBAAiB,MAAM,EAAE;QACzB,WAAW,MAAM,YAAY,EAAE,CAAC,EAAE,IAAI;QACtC,MAAM;QACN,WAAW;QACX,YAAY,IAAI,OAAO,WAAW;QAClC,YAAY;QACZ,aAAa;YAAC;gBACV,IAAI;gBACJ,WAAW;gBACX,YAAY;gBACZ,WAAW;gBACX,WAAW;gBACX,MAAM,OAAO;gBACb,aAAa;gBACb,KAAK;gBACL,YAAY,IAAI,OAAO,WAAW;YACtC;SAAE;IACN;IAEA,kBAAkB;IAClB,iHAAE,CAAC,QAAQ,CAAC,IAAI,CAAC;QACb,IAAI;QACJ,WAAW;QACX,iBAAiB,MAAM,EAAE;QACzB,WAAW,MAAM,YAAY,EAAE,CAAC,EAAE,IAAI;QACtC,MAAM;QACN,WAAW;QACX,YAAY,IAAI,OAAO,WAAW;QAClC,YAAY;QACZ,aAAa;YAAC;gBACV,IAAI;gBACJ,WAAW;gBACX,YAAY;gBACZ,WAAW;gBACX,WAAW;gBACX,MAAM,OAAO,OAAO;gBACpB,aAAa;gBACb,KAAK;gBACL,YAAY,IAAI,OAAO,WAAW;YACtC;SAAE;IACN;IAEA,QAAQ,GAAG,CAAC;AAChB"}},
    {"offset": {"line": 664, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/context/AppContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { DB, User, Tenant, TenantBranding, TenantPolicy, Unit, PERMISSIONS, Post, Doc, Project, ProjectFolder, RepoFolder, WorkflowDefinition, PlatformSettings } from '@/lib/data';\nimport { seedAttachments } from '@/seed_attachments'; // Import seeder\nimport { useRouter } from 'next/navigation';\n\ninterface AppContextType {\n    currentUser: User | null;\n    currentTenantId: string | null;\n    currentTenant: Tenant | null;\n    version: number;\n    isSuperAdmin: boolean;\n    isHydrated: boolean;\n    originalSession: User | null; // For Impersonation\n    impersonateUser: (userId: string, tenantId: string) => void;\n    stopImpersonation: () => void;\n    login: (role: string, tenantId?: string, email?: string) => void;\n    logout: () => void;\n    updateUser: (updates: Partial<User>) => void;\n    createTenant: (data: Omit<Partial<Tenant>, 'branding' | 'policies'> & { branding?: Partial<TenantBranding>, policies?: Partial<TenantPolicy> }) => void;\n    updateTenant: (id: string, updates: Partial<Tenant>) => void;\n    deleteTenant: (id: string) => void;\n    createUnit: (data: Partial<Unit>) => void;\n    updateUnit: (id: string, updates: Partial<Unit>) => void;\n    deleteUnit: (id: string) => void;\n    updateLevelPermissions: (level: number, permissions: string[]) => void;\n    adminCheckEmailUnique: (email: string) => boolean;\n    adminCreateUser: (userData: Partial<User>, options?: { sendNotification?: boolean, customPassword?: string }) => void;\n    adminResendInvite: (userId: string) => void;\n    adminUpdateUser: (userId: string, updates: Partial<User>) => void;\n    adminDeleteUser: (userId: string) => void;\n    // Post Management\n    adminCreatePost: (post: Omit<Post, 'id' | 'date' | 'likes' | 'comments'>) => void;\n    adminUpdatePost: (id: string, updates: Partial<Post>) => void;\n    adminDeletePost: (id: string) => void;\n    // Doc Management (Repository)\n    uploadDoc: (doc: Omit<Doc, 'id' | 'date' | 'likes' | 'commentsCount'>) => void;\n    updateDoc: (id: string, updates: Partial<Doc>) => void;\n    deleteDoc: (id: string) => void;\n    // Social\n    toggleDocLike: (docId: string) => void;\n    addDocComment: (docId: string, content: string) => void;\n    // Projects\n    createProject: (data: Partial<Project>) => void;\n    updateProject: (id: string, updates: Partial<Project>) => void;\n    deleteProject: (id: string) => void;\n    duplicateProject: (id: string) => void;\n    createProjectFolder: (name: string, parentId?: string) => void;\n    updateProjectFolder: (id: string, updates: Partial<ProjectFolder>) => void;\n    deleteProjectFolder: (id: string) => void;\n    // Repo Folders (Repository)\n    createRepoFolder: (data: Partial<RepoFolder>) => void;\n    updateRepoFolder: (id: string, updates: Partial<RepoFolder>) => void;\n    deleteRepoFolder: (id: string) => void;\n    isSidebarCollapsed: boolean;\n    toggleSidebar: () => void;\n    isMobileMenuOpen: boolean;\n    toggleMobileMenu: () => void;\n    closeMobileMenu: () => void;\n    unreadChatCount: number;\n    refreshUnreadCount: () => Promise<void>;\n    adminCreateWorkflow: (data: Partial<WorkflowDefinition>) => void;\n    updatePlatformSettings: (settings: Partial<PlatformSettings>) => void;\n}\n\nconst AppContext = createContext<AppContextType | undefined>(undefined);\n\nconst getInitialState = () => {\n    if (typeof window === 'undefined') {\n        return { user: null, tenantId: null, superAdmin: false, originalSession: null, sidebarCollapsed: false };\n    }\n    try {\n        const storedUser = localStorage.getItem('m360_user');\n        const storedTenantId = localStorage.getItem('m360_tenant_id');\n        const storedIsSuperAdmin = localStorage.getItem('m360_is_super_admin');\n        const storedOriginalSession = localStorage.getItem('m360_original_session');\n        const storedSidebar = localStorage.getItem('m360_sidebar_collapsed');\n        return {\n            user: storedUser ? JSON.parse(storedUser) : null,\n            tenantId: storedTenantId || null,\n            superAdmin: storedIsSuperAdmin === 'true',\n            originalSession: storedOriginalSession ? JSON.parse(storedOriginalSession) : null,\n            sidebarCollapsed: storedSidebar === 'true'\n        };\n    } catch {\n        return { user: null, tenantId: null, superAdmin: false, originalSession: null, sidebarCollapsed: false };\n    }\n};\n\nexport function AppProvider({ children }: { children: React.ReactNode }) {\n    const initialState = getInitialState();\n    const [currentUser, setCurrentUser] = useState<User | null>(initialState.user);\n    const [originalSession, setOriginalSession] = useState<User | null>(initialState.originalSession);\n    const [currentTenantId, setCurrentTenantId] = useState<string | null>(initialState.tenantId);\n    const [isSuperAdmin, setIsSuperAdmin] = useState(initialState.superAdmin);\n    const [forceUpdate, setForceUpdate] = useState(0);\n    const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(initialState.sidebarCollapsed);\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n    const [unreadChatCount, setUnreadChatCount] = useState(0);\n    const [isHydrated, setIsHydrated] = useState(typeof window !== 'undefined');\n    const router = useRouter();\n\n    const currentTenant = currentTenantId ? DB.tenants.find(t => t.id === currentTenantId) || null : null;\n\n    useEffect(() => {\n        setIsHydrated(true);\n    }, []);\n\n    // 2. Persistence: Save to LocalStorage\n    useEffect(() => {\n        if (typeof window !== 'undefined') {\n            if (currentUser) localStorage.setItem('m360_user', JSON.stringify(currentUser));\n            else localStorage.removeItem('m360_user');\n\n            if (currentTenantId) localStorage.setItem('m360_tenant_id', currentTenantId);\n            else localStorage.removeItem('m360_tenant_id');\n\n            if (isSuperAdmin) localStorage.setItem('m360_is_super_admin', 'true');\n            else localStorage.removeItem('m360_is_super_admin');\n\n            if (originalSession) localStorage.setItem('m360_original_session', JSON.stringify(originalSession));\n            else localStorage.removeItem('m360_original_session');\n\n            localStorage.setItem('m360_sidebar_collapsed', isSidebarCollapsed.toString());\n        }\n    }, [currentUser, currentTenantId, isSuperAdmin, originalSession, isSidebarCollapsed]);\n\n    // 3. Unread Chat Count Logic\n    const refreshUnreadCount = async () => {\n        if (!currentUser || !currentTenantId) {\n            setUnreadChatCount(0);\n            return;\n        }\n        try {\n            const { ChatService } = await import('@/lib/services/chatService');\n            const res = await ChatService.getConversations(currentUser.id, currentTenantId);\n            const total = res.data.reduce((sum, conv) => sum + (conv.unreadCount || 0), 0);\n            setUnreadChatCount(total);\n        } catch (e) {\n            console.error(\"Failed to refresh unread count\", e);\n        }\n    };\n\n    useEffect(() => {\n        refreshUnreadCount();\n        const interval = setInterval(refreshUnreadCount, 10000); // Poll every 10s\n        return () => clearInterval(interval);\n    }, [currentUser, currentTenantId]);\n\n\n    // 3. Security: Cross-Domain Validation\n    useEffect(() => {\n        // Load initial state (Mock: Get first tenant/user)\n        // In real app, this comes from Auth provider / API\n\n        // AUTO-SEED FOR VERIFICATION\n        if (typeof window !== 'undefined' && !(window as any).hasSeeded) {\n            console.log('Running Auto-Seeder...');\n            seedAttachments();\n            (window as any).hasSeeded = true;\n        }\n\n        const host = window.location.hostname;\n        const parts = host.split('.');\n        let subdomain = '';\n        if (parts.length > (host.includes('localhost') ? 1 : 2)) {\n            subdomain = parts[0];\n        }\n\n        // Case A: Tenant User on Main Domain -> Invalid\n        // RELAXED FOR PROTOTYPE/DEMO: Allow simulated tenant login on main domain if DNS/Hosts not setup\n        // if (!subdomain && currentTenantId) {\n        //    console.warn('Security: Tenant User detected on Main Domain. Logging out.');\n        //    logout();\n        // }\n\n        // Case B: Tenant User on Wrong Tenant Domain -> Invalid\n        // This is still valid to enforce separation if subdomains ARE used.\n        if (subdomain && currentTenantId && subdomain.toLowerCase() !== currentTenantId.toLowerCase()) {\n            console.warn(`Security: User for ${currentTenantId} detected on ${subdomain}. Logging out.`);\n            logout();\n        }\n\n        // Case C: Super Admin on Tenant Domain (without Impersonation) -> Allowed for flexibility\n        // Super admins can access any domain for administration purposes\n        // No action needed - this is valid behavior\n    }, [currentUser, currentTenantId, isSuperAdmin]);\n\n    // Apply Branding\n    useEffect(() => {\n        if (currentTenant && currentTenant.branding) {\n            const root = document.documentElement;\n            root.style.setProperty('--primary', currentTenant.branding.primary_color);\n            root.style.setProperty('--primary-dark', currentTenant.branding.accent_color);\n        } else {\n            const root = document.documentElement;\n            root.style.removeProperty('--primary');\n            root.style.removeProperty('--primary-dark');\n        }\n    }, [currentTenant]);\n\n    const login = (role: string, tenantId?: string, email?: string) => {\n        if (role === 'superadmin') {\n            setIsSuperAdmin(true);\n            const adminUser: User = {\n                name: 'Super Admin',\n                role: 'Platform Owner',\n                initials: 'SA',\n                id: 'superadmin',\n                level: 0,\n                tenantId: 'global',\n                unit: 'Global',\n                bio: 'Super Admin',\n                email: email || 'proyectos@algoritmot.com',\n                phone: '',\n                location: '',\n                jobTitle: 'Admin',\n                language: 'Es',\n                timezone: 'GMT-5',\n                status: 'ACTIVE'\n            };\n            setCurrentUser(adminUser);\n            setCurrentTenantId(null);\n\n            // Audit Log\n            DB.platformAudit.unshift({\n                id: `audit-${Date.now()}`,\n                event_type: 'LOGIN_SUCCESS',\n                actor_id: 'superadmin',\n                actor_name: 'Super Admin',\n                metadata: { role: 'SUPER_ADMIN' },\n                ip: '127.0.0.1',\n                created_at: new Date().toISOString()\n            });\n\n            router.push('/dashboard/tenants');\n        } else if (tenantId) {\n            setIsSuperAdmin(false);\n            setCurrentTenantId(tenantId);\n\n            let user;\n            // 1. Try finding by Email (Exact Match)\n            if (email) {\n                user = DB.users.find(u => u.tenantId === tenantId && u.email?.toLowerCase() === email.toLowerCase());\n            }\n\n            // 2. Fallback to Role-based simulation\n            if (!user) {\n                user = DB.users.find(u => u.tenantId === tenantId && (role === 'admin' ? u.level === 1 : u.level > 1));\n            }\n\n            if (user) {\n                if (user.status === 'SUSPENDED') {\n                    if (typeof window !== 'undefined') alert('Access Denied: Your account has been suspended.');\n\n                    // Audit Log (Failed)\n                    DB.platformAudit.unshift({\n                        id: `audit-${Date.now()}`,\n                        event_type: 'LOGIN_FAILED',\n                        actor_id: user.id || 'unknown',\n                        actor_name: user.name || 'Unknown',\n                        target_tenant_id: tenantId,\n                        metadata: { reason: 'Account Suspended' },\n                        ip: '127.0.0.1',\n                        created_at: new Date().toISOString()\n                    });\n\n                    return;\n                }\n                if (user.status === 'DELETED') {\n                    if (typeof window !== 'undefined') alert('Access Denied: Account not found.');\n                    // console.error('Attempt to login to deleted account');\n                    return;\n                }\n                setCurrentUser(user);\n\n                // Audit Log (Success)\n                DB.platformAudit.unshift({\n                    id: `audit-${Date.now()}`,\n                    event_type: 'LOGIN_SUCCESS',\n                    actor_id: user.id,\n                    actor_name: user.name,\n                    target_tenant_id: tenantId,\n                    metadata: { role: user.role, level: user.level },\n                    ip: '127.0.0.1',\n                    created_at: new Date().toISOString()\n                });\n\n                router.push('/dashboard');\n            } else {\n                console.error('User not found for login simulation');\n            }\n        }\n    };\n\n    const impersonateUser = (userId: string, tenantId: string) => {\n        if (!isSuperAdmin || !currentUser) return;\n\n        const targetUser = DB.users.find(u => u.id === userId && u.tenantId === tenantId);\n        if (targetUser) {\n            console.log(`Starting impersonation of ${targetUser.email} by ${currentUser.email}`);\n            setOriginalSession(currentUser);\n            setCurrentUser(targetUser);\n            setCurrentTenantId(tenantId);\n            setIsSuperAdmin(false); // Temporarily act as regular user\n            router.push('/dashboard');\n\n            // Audit Log\n            DB.platformAudit.unshift({\n                id: `evt-${Date.now()}`,\n                event_type: 'IMPERSONATION_STARTED',\n                actor_id: currentUser.id,\n                actor_name: currentUser.name,\n                target_tenant_id: tenantId,\n                target_user_id: userId,\n                metadata: { reason: 'Support Action' },\n                ip: '127.0.0.1',\n                created_at: new Date().toISOString()\n            });\n        }\n    };\n\n    const stopImpersonation = () => {\n        if (originalSession) {\n            console.log('Stopping impersonation, returning to Superadmin');\n            setCurrentUser(originalSession);\n            setIsSuperAdmin(true);\n            setCurrentTenantId(null);\n            setOriginalSession(null);\n            router.push('/dashboard/tenants');\n\n            // Audit Log\n            DB.platformAudit.unshift({\n                id: `evt-${Date.now()}`,\n                event_type: 'IMPERSONATION_ENDED',\n                actor_id: originalSession.id,\n                actor_name: originalSession.name,\n                metadata: {},\n                ip: '127.0.0.1',\n                created_at: new Date().toISOString()\n            });\n        }\n    };\n\n    const logout = () => {\n        setCurrentUser(null);\n        setOriginalSession(null);\n        setCurrentTenantId(null);\n        setIsSuperAdmin(false);\n        if (typeof window !== 'undefined') {\n            localStorage.removeItem('m360_user');\n            localStorage.removeItem('m360_tenant_id');\n            localStorage.removeItem('m360_is_super_admin');\n            localStorage.removeItem('m360_original_session');\n        }\n        router.push('/');\n    };\n\n    const updateUser = (updates: Partial<User>) => {\n        if (currentUser) {\n            const updated = { ...currentUser, ...updates };\n            setCurrentUser(updated);\n            // Also update in DB\n            const dbIdx = DB.users.findIndex(u => u.id === currentUser.id);\n            if (dbIdx >= 0) {\n                DB.users[dbIdx] = updated;\n                DB.save();\n            }\n        }\n    };\n\n    const createTenant = (data: Omit<Partial<Tenant>, 'branding' | 'policies'> & { branding?: Partial<TenantBranding>, policies?: Partial<TenantPolicy> }) => {\n        const newId = `T${DB.tenants.length + 1}`;\n        const timestamp = new Date().toISOString();\n        const newTenant: Tenant = {\n            id: newId,\n            name: data.name || 'New Tenant',\n            slug: data.slug || `tenant-${newId}`,\n            domains: data.domains || [],\n            status: 'ACTIVE',\n            timezone: data.timezone || 'America/Bogota',\n            locale: data.locale || 'es-CO',\n            branding: {\n                app_title: data.name || 'New Tenant',\n                primary_color: '#2563eb',\n                accent_color: '#1d4ed8',\n                updated_at: timestamp,\n                ...data.branding\n            },\n            policies: {\n                max_failed_logins: 3,\n                lock_minutes: 15,\n                file_max_size_bytes: 10 * 1024 * 1024,\n                allowed_mime_types: ['application/pdf'],\n                audit_retention_days: 90,\n                sso_enabled: false,\n                updated_at: timestamp,\n                ...data.policies\n            },\n            roleTemplates: {\n                1: Object.values(PERMISSIONS),\n                2: ['MANAGE_UNITS', 'VIEW_ALL_DOCS', 'UPLOAD_DOCS'],\n                3: ['VIEW_ALL_DOCS', 'UPLOAD_DOCS'],\n                4: ['VIEW_ALL_DOCS'],\n                5: ['VIEW_ALL_DOCS'],\n                6: []\n            },\n            users: 1, // Only admin initially\n            storage: '0 GB',\n            created_at: timestamp,\n            features: data.features || ['DASHBOARD', 'WORKFLOWS', 'REPOSITORY', 'CHAT', 'ANALYTICS'],\n            sector: data.sector, // Add Sector\n            contactName: data.contactName,\n            contactEmail: data.contactEmail,\n            contactPhone: data.contactPhone\n        };\n\n        DB.tenants.push(newTenant);\n\n        // Generate Initial Admin\n        const adminId = `u-adm-${newId}`;\n        const adminEmail = data.contactEmail || `admin@${newTenant.slug}.com`; // Default if not provided\n        DB.users.push({\n            id: adminId,\n            name: data.contactName || `Admin ${newTenant.name}`,\n            email: adminEmail,\n            role: 'Admin Global',\n            level: 1,\n            tenantId: newId,\n            unit: 'Root',\n            initials: 'AD',\n            bio: 'Initial Admin',\n            phone: data.contactPhone || '',\n            location: 'Main',\n            jobTitle: 'Administrator',\n            language: newTenant.locale,\n            timezone: newTenant.timezone,\n            status: 'ACTIVE'\n        });\n\n        // Email Notification to Admin\n        DB.emailOutbox.unshift({\n            id: `email-${Date.now()}`,\n            to: adminEmail,\n            subject: 'Bienvenido a Maturity360 - Credenciales de Acceso',\n            body: `Hola ${data.contactName || 'Admin'},\\n\\nTu organizaciÃ³n ${newTenant.name} ha sido registrada exitosamente.\\n\\nTus credenciales de acceso son:\\nURL: https://maturity.online/login\\nUsuario: ${adminEmail}\\nContraseÃ±a Temporal: Temp123!`,\n            status: 'SENT',\n            sentAt: timestamp\n        });\n\n        // Audit Log\n        DB.platformAudit.unshift({\n            id: `audit-${Date.now()}`,\n            event_type: 'TENANT_CREATED',\n            actor_id: currentUser?.id || 'system',\n            actor_name: currentUser?.name || 'System',\n            target_tenant_id: newId,\n            metadata: { name: newTenant.name, slug: newTenant.slug, adminEmail },\n            ip: '127.0.0.1',\n            created_at: new Date().toISOString()\n        });\n        DB.save();\n\n        console.log('Tenant Created:', newTenant);\n        return newTenant;\n    };\n\n    const updateTenant = (id: string, updates: Omit<Partial<Tenant>, 'branding' | 'policies'> & { branding?: Partial<TenantBranding>, policies?: Partial<TenantPolicy> }) => {\n        const idx = DB.tenants.findIndex(t => t.id === id);\n        if (idx >= 0) {\n            const current = DB.tenants[idx];\n\n            // Audit Log\n            const changes = Object.keys(updates).filter(k => k !== 'branding' && k !== 'policies');\n            if (updates.branding) changes.push('branding');\n            if (updates.policies) changes.push('policies');\n\n            DB.platformAudit.unshift({\n                id: `audit-${Date.now()}`,\n                event_type: updates.status ? `TENANT_${updates.status}` : 'TENANT_UPDATED',\n                actor_id: currentUser?.id || 'system',\n                actor_name: currentUser?.name || 'System',\n                target_tenant_id: id,\n                metadata: { changes, updates },\n                ip: '127.0.0.1',\n                created_at: new Date().toISOString()\n            });\n\n            DB.tenants[idx] = {\n                ...current,\n                ...updates,\n                branding: updates.branding ? { ...current.branding, ...updates.branding } : current.branding,\n                policies: updates.policies ? { ...current.policies, ...updates.policies } : current.policies\n            };\n\n            if (currentTenantId === id) {\n                // Force re-render if needed (though layout update helps)\n            }\n            DB.save();\n        }\n    };\n\n    const deleteTenant = (id: string) => {\n        const idx = DB.tenants.findIndex(t => t.id === id);\n        if (idx < 0) return;\n\n        const tenant = DB.tenants[idx];\n\n        // Cascade Delete\n        // 1. Users\n        for (let i = DB.users.length - 1; i >= 0; i--) {\n            if (DB.users[i].tenantId === id) DB.users.splice(i, 1);\n        }\n        // 2. Docs\n        for (let i = DB.docs.length - 1; i >= 0; i--) {\n            if (DB.docs[i].tenantId === id) DB.docs.splice(i, 1);\n        }\n        // 3. Projects\n        for (let i = DB.projects.length - 1; i >= 0; i--) {\n            if (DB.projects[i].tenantId === id) DB.projects.splice(i, 1);\n        }\n        // 4. Posts\n        for (let i = DB.posts.length - 1; i >= 0; i--) {\n            if (DB.posts[i].tenantId === id) DB.posts.splice(i, 1);\n        }\n        // 5. Workflows\n        for (let i = DB.workflowCases.length - 1; i >= 0; i--) {\n            if (DB.workflowCases[i].tenantId === id) DB.workflowCases.splice(i, 1);\n        }\n\n        // Delete Tenant\n        DB.tenants.splice(idx, 1);\n\n        // Audit Log\n        DB.platformAudit.unshift({\n            id: `audit-${Date.now()}`,\n            event_type: 'TENANT_DELETED',\n            actor_id: currentUser?.id || 'system',\n            actor_name: currentUser?.name || 'System',\n            target_tenant_id: id,\n            metadata: { name: tenant.name, slug: tenant.slug },\n            ip: '127.0.0.1',\n            created_at: new Date().toISOString()\n        });\n\n        setForceUpdate(n => n + 1);\n    };\n\n    const createUnit = (data: Partial<Unit>) => {\n        if (!currentTenantId) return;\n        const newUnit: Unit = {\n            id: `U-${currentTenantId}-${Math.floor(Math.random() * 10000)}`,\n            tenantId: currentTenantId,\n            name: data.name || 'New Unit',\n            depth: data.depth || 0,\n            code: data.code,\n            parentId: data.parentId,\n            ownerId: data.ownerId,\n            description: data.description,\n            members: data.members || [],\n            type: data.type || 'UNIT'\n        };\n        DB.units.push(newUnit);\n        DB.save();\n    };\n\n    const updateUnit = (id: string, updates: Partial<Unit>) => {\n        const idx = DB.units.findIndex(u => u.id === id);\n        if (idx >= 0) {\n            DB.units[idx] = { ...DB.units[idx], ...updates };\n            DB.save();\n        }\n    };\n\n    const deleteUnit = (id: string) => {\n        const idx = DB.units.findIndex(u => u.id === id);\n        if (idx >= 0) {\n            DB.units.splice(idx, 1);\n        }\n    };\n\n    const updateLevelPermissions = (level: number, permissions: string[]) => {\n        if (!currentTenant) return;\n\n        // Update in DB (in memory reference)\n        // Since currentTenant is a reference to DB object (if retrieved via find), modifying it updates DB?\n        // Let's modify DB directly to be safe\n        const idx = DB.tenants.findIndex(t => t.id === currentTenantId);\n        if (idx >= 0) {\n            const tenant = DB.tenants[idx];\n            tenant.roleTemplates = {\n                ...tenant.roleTemplates,\n                [level]: permissions\n            };\n            // Force re-render not needed immediately as we don't display permissions in sidebar yet,\n            // but page will use it.\n        }\n    };\n\n    const adminCheckEmailUnique = (email: string) => {\n        return !DB.users.some(u => u.email?.toLowerCase() === email.toLowerCase());\n    };\n\n    const adminCreateUser = (userData: Partial<User>, options: { sendNotification?: boolean, customPassword?: string } = {}) => {\n        // if (!currentTenantId) return; // Allow if explicit tenantId is passed\n        const userId = `u-${Date.now()}`;\n        const newUser: User = {\n            id: userId,\n            tenantId: userData.tenantId || currentTenantId || 'global',\n            password: options.customPassword, // Explicitly set if manual\n            name: userData.name || 'Usuario Nuevo',\n            email: userData.email,\n            role: userData.role || 'Analista',\n            level: userData.level || 6,\n            unit: userData.unit || '',\n            initials: (userData.name || 'U').substring(0, 2).toUpperCase(),\n            bio: userData.bio || '',\n            phone: userData.phone || '',\n            location: userData.location || '',\n            jobTitle: userData.jobTitle || 'Empleado',\n            language: 'Es',\n            timezone: 'GMT-5',\n            status: userData.status || 'ACTIVE',\n            mustChangePassword: true,\n            inviteSentAt: options.sendNotification ? new Date().toISOString() : undefined,\n            inviteExpiresAt: options.sendNotification ? new Date(Date.now() + 72 * 3600 * 1000).toISOString() : undefined\n        };\n        DB.users.push(newUser);\n\n        // Audit Log\n        DB.platformAudit.unshift({\n            id: `audit-${Date.now()}`,\n            event_type: 'USER_CREATED',\n            actor_id: currentUser?.id || 'system',\n            actor_name: currentUser?.name || 'System',\n            target_user_id: userId,\n            target_tenant_id: newUser.tenantId,\n            metadata: { ...newUser, notificationSent: options.sendNotification },\n            ip: '127.0.0.1',\n            created_at: new Date().toISOString()\n        });\n        DB.save();\n\n        // Email Notification\n        if (options.sendNotification && newUser.email) {\n            DB.emailOutbox.unshift({\n                id: `email-${Date.now()}`,\n                to: newUser.email,\n                subject: `Bienvenido a Maturity360 - ${newUser.tenantId !== 'global' ? 'Tenant Invitation' : 'Platform Access'}`,\n                body: `Hola ${newUser.name},\\n\\nTu cuenta ha sido creada. Tu contraseÃ±a temporal es: Temp123!\\nIngresa en: https://${newUser.tenantId}.maturity.online`,\n                status: 'SENT',\n                sentAt: new Date().toISOString()\n            });\n            console.log(`[MockEmail] Sent to ${newUser.email}`);\n        }\n    };\n\n    const adminUpdateUser = (userId: string, updates: Partial<User>) => {\n        const idx = DB.users.findIndex(u => u.id === userId);\n        if (idx >= 0) {\n            const oldUser = DB.users[idx];\n\n            // Audit Check\n            const auditChanges: string[] = [];\n            if (updates.role && updates.role !== oldUser.role) auditChanges.push(`Role change: ${oldUser.role} -> ${updates.role}`);\n            if (updates.tenantId && updates.tenantId !== oldUser.tenantId) auditChanges.push(`Tenant transfer: ${oldUser.tenantId} -> ${updates.tenantId}`);\n            if (updates.status && updates.status !== oldUser.status) auditChanges.push(`Status change: ${oldUser.status} -> ${updates.status}`);\n            if (updates.email && updates.email !== oldUser.email) auditChanges.push(`Email update: ${oldUser.email} -> ${updates.email}`);\n            if (updates.password) auditChanges.push('Password manually updated');\n            if (updates.mustChangePassword !== undefined && updates.mustChangePassword !== oldUser.mustChangePassword) {\n                auditChanges.push(`Force Password Change: ${updates.mustChangePassword ? 'Enabled' : 'Disabled'}`);\n            }\n\n            if (auditChanges.length > 0) {\n                DB.platformAudit.unshift({\n                    id: `audit-${Date.now()}`,\n                    event_type: 'USER_UPDATED',\n                    actor_id: currentUser?.id || 'system',\n                    actor_name: currentUser?.name || 'System',\n                    target_user_id: userId,\n                    target_tenant_id: oldUser.tenantId, // Log under original context\n                    metadata: { changes: auditChanges, updates },\n                    ip: '127.0.0.1',\n                    created_at: new Date().toISOString()\n                });\n            }\n\n            DB.users[idx] = { ...oldUser, ...updates };\n            DB.save();\n        }\n    };\n\n    const adminDeleteUser = (userId: string) => {\n        const idx = DB.users.findIndex(u => u.id === userId);\n        if (idx >= 0) {\n            const user = DB.users[idx];\n\n            // Integrity Check: Prevent deleting last admin\n            if (user.level === 1 && user.status !== 'DELETED') {\n                const otherAdmins = DB.users.filter(u =>\n                    u.tenantId === user.tenantId &&\n                    u.level === 1 &&\n                    u.id !== userId &&\n                    u.status === 'ACTIVE'\n                );\n                if (otherAdmins.length === 0) {\n                    if (typeof window !== 'undefined') alert('Integrity Error: Cannot delete the last active Admin for this tenant.');\n                    return;\n                }\n            }\n\n            // Soft Delete\n            const oldStatus = user.status;\n            DB.users[idx] = { ...user, status: 'DELETED' };\n\n            // Audit\n            DB.platformAudit.unshift({\n                id: `audit-${Date.now()}`,\n                event_type: 'USER_DELETED',\n                actor_id: currentUser?.id || 'system',\n                actor_name: currentUser?.name || 'System',\n                target_user_id: userId,\n                target_tenant_id: user.tenantId,\n                metadata: { previous_status: oldStatus },\n                ip: '127.0.0.1',\n                created_at: new Date().toISOString()\n            });\n        }\n    };\n\n    const adminResendInvite = (userId: string) => {\n        const idx = DB.users.findIndex(u => u.id === userId);\n        if (idx >= 0) {\n            const user = DB.users[idx];\n            // Update invite data\n            const updated = {\n                ...user,\n                inviteSentAt: new Date().toISOString(),\n                inviteExpiresAt: new Date(Date.now() + 72 * 3600 * 1000).toISOString()\n            };\n            DB.users[idx] = updated;\n\n            // Email Log\n            if (user.email) {\n                DB.emailOutbox.unshift({\n                    id: `email-${Date.now()}`,\n                    to: user.email,\n                    subject: `Resend: Bienvenido a Maturity360`,\n                    body: `Hola ${user.name},\\n\\nAqui tienes tu enlace de acceso: https://${user.tenantId}.maturity.online\\nCredenciales temporales: Temp123!`,\n                    status: 'SENT',\n                    sentAt: new Date().toISOString()\n                });\n            }\n\n            // Audit\n            DB.platformAudit.unshift({\n                id: `audit-${Date.now()}`,\n                event_type: 'USER_INVITE_RESENT',\n                actor_id: currentUser?.id || 'system',\n                actor_name: currentUser?.name || 'System',\n                target_user_id: user.id,\n                target_tenant_id: user.tenantId,\n                metadata: { email: user.email },\n                ip: '127.0.0.1',\n                created_at: new Date().toISOString()\n            });\n            DB.save();\n        }\n    };\n\n    const adminDeletePost = (id: string) => {\n        const idx = DB.posts.findIndex(p => p.id === id);\n        if (idx !== -1) {\n            DB.posts.splice(idx, 1);\n            DB.save();\n            setForceUpdate(n => n + 1);\n        }\n    };\n\n    const adminCreatePost = (postData: Omit<Post, 'id' | 'date' | 'likes' | 'commentsCount'>) => {\n        const newPost: Post = {\n            ...postData,\n            id: `P-${currentTenantId}-${Date.now()}`,\n            date: 'Ahora',\n            likes: 0,\n            commentsCount: 0\n        };\n        DB.posts.unshift(newPost);\n        DB.save();\n        setForceUpdate(n => n + 1);\n    };\n\n    const adminUpdatePost = (id: string, updates: Partial<Post>) => {\n        const post = DB.posts.find(p => p.id === id);\n        if (post) {\n            Object.assign(post, updates);\n            DB.save();\n            setForceUpdate(n => n + 1);\n        }\n    };\n\n\n    const adminCreateWorkflow = (data: Partial<WorkflowDefinition>) => {\n        if (!currentTenantId) return;\n        const newWorkflow: WorkflowDefinition = {\n            id: `WF-${Date.now()}`,\n            tenantId: currentTenantId,\n            title: data.title || 'Nuevo Proceso',\n            description: data.description || '',\n            unit: data.unit || '',\n            ownerId: data.ownerId,\n            icon: data.icon || 'FileText',\n            schema: data.schema || { fields: [] },\n            slaHours: data.slaHours || 24,\n            active: true\n        };\n        DB.workflowDefinitions.unshift(newWorkflow);\n        DB.save();\n        setForceUpdate(n => n + 1);\n    };\n\n    const createProjectFolder = (name: string, parentId?: string) => {\n        if (!currentTenantId) return;\n        const newFolder: ProjectFolder = {\n            id: `fld-${currentTenantId}-${Date.now()}`,\n            tenantId: currentTenantId,\n            name,\n            createdAt: new Date().toISOString(),\n            parentId\n        };\n        DB.projectFolders.push(newFolder);\n        DB.save();\n        setForceUpdate(n => n + 1);\n    };\n\n    const createRepoFolder = (data: Partial<RepoFolder>) => {\n        if (!currentTenantId) return;\n        const newFolder: RepoFolder = {\n            id: `RF-${currentTenantId}-${Date.now()}`,\n            tenantId: currentTenantId,\n            name: data.name || 'Nueva Carpeta',\n            description: data.description,\n            parentId: data.parentId || undefined,\n            level: data.level || 1,\n            unit: data.unit || 'General',\n            process: data.process,\n            color: data.color || '#3b82f6',\n            createdAt: new Date().toISOString(),\n            updatedAt: new Date().toISOString()\n        };\n        DB.repoFolders.push(newFolder);\n        DB.save();\n        setForceUpdate(n => n + 1);\n    };\n\n    const updateRepoFolder = (id: string, updates: Partial<RepoFolder>) => {\n        const idx = DB.repoFolders.findIndex(f => f.id === id);\n        if (idx >= 0) {\n            DB.repoFolders[idx] = { ...DB.repoFolders[idx], ...updates, updatedAt: new Date().toISOString() };\n            DB.save();\n            setForceUpdate(n => n + 1);\n        }\n    };\n\n    const deleteRepoFolder = (id: string) => {\n        const idx = DB.repoFolders.findIndex(f => f.id === id);\n        if (idx >= 0) {\n            DB.repoFolders.splice(idx, 1);\n            DB.save();\n            setForceUpdate(n => n + 1);\n        }\n    };\n\n    const uploadDoc = (docData: Omit<Doc, 'id' | 'date' | 'likes' | 'commentsCount'>) => {\n        const newDoc: Doc = {\n            id: `DOC-${currentTenantId}-${Date.now()}`,\n            date: new Date().toISOString().split('T')[0],\n            likes: 0,\n            commentsCount: 0,\n            ...docData\n        };\n        DB.docs.unshift(newDoc);\n        DB.save();\n        setForceUpdate(n => n + 1);\n    };\n\n    const updateDoc = (id: string, updates: Partial<Doc>) => {\n        const doc = DB.docs.find(d => d.id === id);\n        if (doc) {\n            Object.assign(doc, updates);\n            DB.save();\n            setForceUpdate(n => n + 1);\n        }\n    };\n\n    const deleteDoc = (id: string) => {\n        const idx = DB.docs.findIndex(d => d.id === id);\n        if (idx >= 0) {\n            DB.docs.splice(idx, 1);\n            DB.save();\n            setForceUpdate(n => n + 1);\n        }\n    };\n\n    const toggleDocLike = (docId: string) => {\n        const doc = DB.docs.find(d => d.id === docId);\n        if (doc) {\n            if (doc.likes > 0) {\n                doc.likes--;\n            } else {\n                doc.likes++;\n            }\n            DB.save();\n            setForceUpdate(n => n + 1);\n        }\n    };\n\n    const addDocComment = (docId: string, content: string) => {\n        const newComment = {\n            id: `c-${Date.now()}`,\n            docId: docId,\n            authorId: currentUser?.id || 'anon',\n            authorName: currentUser?.name || 'AnÃ³nimo',\n            content: content,\n            createdAt: new Date().toISOString()\n        };\n        DB.publicComments.push(newComment);\n\n        const doc = DB.docs.find(d => d.id === docId);\n        if (doc) doc.commentsCount = (doc.commentsCount || 0) + 1;\n\n        DB.save();\n        setForceUpdate(n => n + 1);\n    };\n\n    const createProject = (projectData: Partial<Project>) => {\n        if (!currentTenantId) return;\n        const newProject: Project = {\n            id: `PROJ-${Date.now()}`,\n            tenantId: currentTenantId,\n            title: projectData.title || 'Nuevo Proyecto',\n            description: projectData.description || '',\n            startDate: projectData.startDate || new Date().toISOString(),\n            endDate: projectData.endDate || new Date().toISOString(),\n            status: 'PLANNING',\n            creatorId: currentUser?.id || 'sys',\n            createdAt: new Date().toISOString(),\n            updatedAt: new Date().toISOString(),\n            participants: projectData.participants || [],\n            phases: projectData.phases || [],\n            folderId: projectData.folderId,\n            color: projectData.color\n        };\n        DB.projects.unshift(newProject);\n        DB.save();\n        setForceUpdate(n => n + 1);\n    };\n\n    const updateProject = (id: string, updates: Partial<Project>) => {\n        const idx = DB.projects.findIndex(p => p.id === id);\n        if (idx >= 0) {\n            DB.projects[idx] = { ...DB.projects[idx], ...updates, updatedAt: new Date().toISOString() };\n            DB.save();\n            setForceUpdate(n => n + 1);\n        }\n    };\n\n    const deleteProject = (id: string) => {\n        const idx = DB.projects.findIndex(p => p.id === id);\n        if (idx >= 0) {\n            DB.projects.splice(idx, 1);\n            DB.save();\n            setForceUpdate(n => n + 1);\n        }\n    };\n\n    const duplicateProject = (id: string) => {\n        const original = DB.projects.find(p => p.id === id);\n        if (original && currentTenantId) {\n            const timestamp = Date.now();\n            const newProject: Project = {\n                ...original,\n                id: `PROJ-${timestamp}`,\n                title: `${original.title} (Copia)`,\n                createdAt: new Date().toISOString(),\n                updatedAt: new Date().toISOString(),\n                status: 'PLANNING',\n                phases: original.phases.map((ph, i) => ({\n                    ...ph,\n                    id: `ph-${timestamp}-${i}`,\n                    status: 'NOT_STARTED',\n                    activities: ph.activities.map((act, j) => ({\n                        ...act,\n                        id: `act-${timestamp}-${i}-${j}`,\n                        status: 'NOT_STARTED',\n                        documents: []\n                    }))\n                }))\n            };\n            DB.projects.unshift(newProject);\n            DB.save();\n            setForceUpdate(n => n + 1);\n        }\n    };\n\n    const updateProjectFolder = (id: string, updates: Partial<ProjectFolder>) => {\n        const idx = DB.projectFolders.findIndex(f => f.id === id);\n        if (idx >= 0) {\n            DB.projectFolders[idx] = { ...DB.projectFolders[idx], ...updates };\n            DB.save();\n            setForceUpdate(n => n + 1);\n        }\n    };\n\n    const deleteProjectFolder = (id: string) => {\n        const idx = DB.projectFolders.findIndex(f => f.id === id);\n        if (idx >= 0) {\n            DB.projects.forEach(p => {\n                if (p.folderId === id) delete p.folderId;\n            });\n            DB.projectFolders.splice(idx, 1);\n            DB.save();\n            setForceUpdate(n => n + 1);\n        }\n    };\n\n    const toggleSidebar = () => setIsSidebarCollapsed(v => !v);\n    const toggleMobileMenu = () => setIsMobileMenuOpen(v => !v);\n    const closeMobileMenu = () => setIsMobileMenuOpen(false);\n\n    const updatePlatformSettings = (settings: Partial<PlatformSettings>) => {\n        Object.assign(DB.platformSettings, settings);\n        DB.save();\n        setForceUpdate(n => n + 1);\n    };\n\n    return (\n        <AppContext.Provider value={{\n            currentUser, currentTenantId, currentTenant, isSuperAdmin, isHydrated, version: forceUpdate,\n            originalSession, impersonateUser, stopImpersonation,\n            login, logout, updateUser, createTenant, updateTenant, deleteTenant,\n            createUnit, updateUnit, deleteUnit, updateLevelPermissions,\n            adminCheckEmailUnique, adminCreateUser, adminResendInvite, adminUpdateUser, adminDeleteUser,\n            adminCreatePost, adminUpdatePost, adminDeletePost,\n            adminCreateWorkflow,\n            uploadDoc, updateDoc, deleteDoc,\n            toggleDocLike, addDocComment,\n            createProject, updateProject, deleteProject, duplicateProject, createProjectFolder,\n            updateProjectFolder,\n            deleteProjectFolder,\n            isSidebarCollapsed, toggleSidebar,\n            isMobileMenuOpen, toggleMobileMenu, closeMobileMenu,\n            unreadChatCount, refreshUnreadCount,\n            updatePlatformSettings,\n            createRepoFolder,\n            updateRepoFolder,\n            deleteRepoFolder\n        }}>{children}</AppContext.Provider>\n    );\n}\n\nexport function useApp() {\n    const context = useContext(AppContext);\n    if (context === undefined) {\n        throw new Error('useApp must be used within an AppProvider');\n    }\n    return context;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1694, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/context/UIContext.tsx"],"sourcesContent":["'use client';\nimport React, { createContext, useContext, useState } from 'react';\nimport { ChatMessage } from '@/lib/data';\n\ninterface UIContextType {\n    isSlideOpen: boolean;\n    slideType: 'doc' | 'case' | 'post' | null;\n    slideData: { id: string; title: string } | null;\n    openSlide: (type: 'doc' | 'case' | 'post', id: string, title: string) => void;\n    closeSlide: () => void;\n\n    isViewerOpen: boolean;\n    viewerTitle: string | null;\n    openViewer: (title: string) => void;\n    closeViewer: () => void;\n}\n\nconst UIContext = createContext<UIContextType | undefined>(undefined);\n\nexport function UIProvider({ children }: { children: React.ReactNode }) {\n    const [isSlideOpen, setSlideOpen] = useState(false);\n    const [slideType, setSlideType] = useState<'doc' | 'case' | 'post' | null>(null);\n    const [slideData, setSlideData] = useState<{ id: string; title: string } | null>(null);\n\n    const [isViewerOpen, setViewerOpen] = useState(false);\n    const [viewerTitle, setViewerTitle] = useState<string | null>(null);\n\n    const openSlide = (type: 'doc' | 'case' | 'post', id: string, title: string) => {\n        setSlideType(type);\n        setSlideData({ id, title });\n        setSlideOpen(true);\n    };\n\n    const closeSlide = () => {\n        setSlideOpen(false);\n        setTimeout(() => {\n            setSlideType(null);\n            setSlideData(null);\n        }, 300);\n    };\n\n    const openViewer = (title: string) => {\n        setViewerTitle(title);\n        setViewerOpen(true);\n    };\n\n    const closeViewer = () => {\n        setViewerOpen(false);\n        setViewerTitle(null);\n    };\n\n    return (\n        <UIContext.Provider value={{ isSlideOpen, slideType, slideData, openSlide, closeSlide, isViewerOpen, viewerTitle, openViewer, closeViewer }}>\n            {children}\n        </UIContext.Provider>\n    );\n}\n\nexport function useUI() {\n    const context = useContext(UIContext);\n    if (context === undefined) {\n        throw new Error('useUI must be used within a UIProvider');\n    }\n    return context;\n}\n"],"names":[],"mappings":";;;;;;;AACA;AADA;;;AAiBA,MAAM,0BAAY,IAAA,sNAAa,EAA4B;AAEpD,SAAS,WAAW,EAAE,QAAQ,EAAiC;IAClE,MAAM,CAAC,aAAa,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAiC;IAC3E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAuC;IAEjF,MAAM,CAAC,cAAc,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAgB;IAE9D,MAAM,YAAY,CAAC,MAA+B,IAAY;QAC1D,aAAa;QACb,aAAa;YAAE;YAAI;QAAM;QACzB,aAAa;IACjB;IAEA,MAAM,aAAa;QACf,aAAa;QACb,WAAW;YACP,aAAa;YACb,aAAa;QACjB,GAAG;IACP;IAEA,MAAM,aAAa,CAAC;QAChB,eAAe;QACf,cAAc;IAClB;IAEA,MAAM,cAAc;QAChB,cAAc;QACd,eAAe;IACnB;IAEA,qBACI,8OAAC,UAAU,QAAQ;QAAC,OAAO;YAAE;YAAa;YAAW;YAAW;YAAW;YAAY;YAAc;YAAa;YAAY;QAAY;kBACrI;;;;;;AAGb;AAEO,SAAS;IACZ,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX"}},
    {"offset": {"line": 1765, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/providers.tsx"],"sourcesContent":["'use client';\nimport { AppProvider } from '@/context/AppContext';\nimport { UIProvider } from '@/context/UIContext';\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n    return (\n        <AppProvider>\n            <UIProvider>\n                {children}\n            </UIProvider>\n        </AppProvider>\n    );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACjE,qBACI,8OAAC,qIAAW;kBACR,cAAA,8OAAC,mIAAU;sBACN;;;;;;;;;;;AAIjB"}},
    {"offset": {"line": 1795, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 1814, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 1819, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}},
    {"offset": {"line": 1824, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/%40swc/helpers/cjs/_interop_require_wildcard.cjs"],"sourcesContent":["\"use strict\";\n\nfunction _getRequireWildcardCache(nodeInterop) {\n    if (typeof WeakMap !== \"function\") return null;\n\n    var cacheBabelInterop = new WeakMap();\n    var cacheNodeInterop = new WeakMap();\n\n    return (_getRequireWildcardCache = function(nodeInterop) {\n        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n    })(nodeInterop);\n}\nfunction _interop_require_wildcard(obj, nodeInterop) {\n    if (!nodeInterop && obj && obj.__esModule) return obj;\n    if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") return { default: obj };\n\n    var cache = _getRequireWildcardCache(nodeInterop);\n\n    if (cache && cache.has(obj)) return cache.get(obj);\n\n    var newObj = { __proto__: null };\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n        if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n            if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);\n            else newObj[key] = obj[key];\n        }\n    }\n\n    newObj.default = obj;\n\n    if (cache) cache.set(obj, newObj);\n\n    return newObj;\n}\nexports._ = _interop_require_wildcard;\n"],"names":[],"mappings":"AAEA,SAAS,yBAAyB,WAAW;IACzC,IAAI,OAAO,YAAY,YAAY,OAAO;IAE1C,IAAI,oBAAoB,IAAI;IAC5B,IAAI,mBAAmB,IAAI;IAE3B,OAAO,CAAC,2BAA2B,SAAS,WAAW;QACnD,OAAO,cAAc,mBAAmB;IAC5C,CAAC,EAAE;AACP;AACA,SAAS,0BAA0B,GAAG,EAAE,WAAW;IAC/C,IAAI,CAAC,eAAe,OAAO,IAAI,UAAU,EAAE,OAAO;IAClD,IAAI,QAAQ,QAAQ,OAAO,QAAQ,YAAY,OAAO,QAAQ,YAAY,OAAO;QAAE,SAAS;IAAI;IAEhG,IAAI,QAAQ,yBAAyB;IAErC,IAAI,SAAS,MAAM,GAAG,CAAC,MAAM,OAAO,MAAM,GAAG,CAAC;IAE9C,IAAI,SAAS;QAAE,WAAW;IAAK;IAC/B,IAAI,wBAAwB,OAAO,cAAc,IAAI,OAAO,wBAAwB;IAEpF,IAAK,IAAI,OAAO,IAAK;QACjB,IAAI,QAAQ,aAAa,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,MAAM;YACrE,IAAI,OAAO,wBAAwB,OAAO,wBAAwB,CAAC,KAAK,OAAO;YAC/E,IAAI,QAAQ,CAAC,KAAK,GAAG,IAAI,KAAK,GAAG,GAAG,OAAO,cAAc,CAAC,QAAQ,KAAK;iBAClE,MAAM,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI;QAC/B;IACJ;IAEA,OAAO,OAAO,GAAG;IAEjB,IAAI,OAAO,MAAM,GAAG,CAAC,KAAK;IAE1B,OAAO;AACX;AACA,QAAQ,CAAC,GAAG","ignoreList":[0]}},
    {"offset": {"line": 1859, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n"],"names":["module","exports","require","vendored","AppRouterContext"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,WAAW,CAACC,gBAAgB","ignoreList":[0]}},
    {"offset": {"line": 1864, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n"],"names":["module","exports","require","vendored","HooksClientContext"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,WAAW,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 1869, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/shared/lib/segment.ts"],"sourcesContent":["import type { FlightRouterState, Segment } from './app-router-types'\n\nexport function getSegmentValue(segment: Segment) {\n  return Array.isArray(segment) ? segment[1] : segment\n}\n\nexport function isGroupSegment(segment: string) {\n  // Use array[0] for performant purpose\n  return segment[0] === '(' && segment.endsWith(')')\n}\n\nexport function isParallelRouteSegment(segment: string) {\n  return segment.startsWith('@') && segment !== '@children'\n}\n\nexport function addSearchParamsIfPageSegment(\n  segment: Segment,\n  searchParams: Record<string, string | string[] | undefined>\n) {\n  const isPageSegment = segment.includes(PAGE_SEGMENT_KEY)\n\n  if (isPageSegment) {\n    const stringifiedQuery = JSON.stringify(searchParams)\n    return stringifiedQuery !== '{}'\n      ? PAGE_SEGMENT_KEY + '?' + stringifiedQuery\n      : PAGE_SEGMENT_KEY\n  }\n\n  return segment\n}\n\nexport function computeSelectedLayoutSegment(\n  segments: string[] | null,\n  parallelRouteKey: string\n): string | null {\n  if (!segments || segments.length === 0) {\n    return null\n  }\n\n  // For 'children', use first segment; for other parallel routes, use last segment\n  const rawSegment =\n    parallelRouteKey === 'children'\n      ? segments[0]\n      : segments[segments.length - 1]\n\n  // If the default slot is showing, return null since it's not technically \"selected\" (it's a fallback)\n  // Returning an internal value like `__DEFAULT__` would be confusing\n  return rawSegment === DEFAULT_SEGMENT_KEY ? null : rawSegment\n}\n\n/** Get the canonical parameters from the current level to the leaf node. */\nexport function getSelectedLayoutSegmentPath(\n  tree: FlightRouterState,\n  parallelRouteKey: string,\n  first = true,\n  segmentPath: string[] = []\n): string[] {\n  let node: FlightRouterState\n  if (first) {\n    // Use the provided parallel route key on the first parallel route\n    node = tree[1][parallelRouteKey]\n  } else {\n    // After first parallel route prefer children, if there's no children pick the first parallel route.\n    const parallelRoutes = tree[1]\n    node = parallelRoutes.children ?? Object.values(parallelRoutes)[0]\n  }\n\n  if (!node) return segmentPath\n  const segment = node[0]\n\n  let segmentValue = getSegmentValue(segment)\n\n  if (!segmentValue || segmentValue.startsWith(PAGE_SEGMENT_KEY)) {\n    return segmentPath\n  }\n\n  segmentPath.push(segmentValue)\n\n  return getSelectedLayoutSegmentPath(\n    node,\n    parallelRouteKey,\n    false,\n    segmentPath\n  )\n}\n\nexport const PAGE_SEGMENT_KEY = '__PAGE__'\nexport const DEFAULT_SEGMENT_KEY = '__DEFAULT__'\n"],"names":["DEFAULT_SEGMENT_KEY","PAGE_SEGMENT_KEY","addSearchParamsIfPageSegment","computeSelectedLayoutSegment","getSegmentValue","getSelectedLayoutSegmentPath","isGroupSegment","isParallelRouteSegment","segment","Array","isArray","endsWith","startsWith","searchParams","isPageSegment","includes","stringifiedQuery","JSON","stringify","segments","parallelRouteKey","length","rawSegment","tree","first","segmentPath","node","parallelRoutes","children","Object","values","segmentValue","push"],"mappings":";;;;;;;;;;;;;;;;;;;;IAuFaA,mBAAmB,EAAA;eAAnBA;;IADAC,gBAAgB,EAAA;eAAhBA;;IAvEGC,4BAA4B,EAAA;eAA5BA;;IAgBAC,4BAA4B,EAAA;eAA5BA;;IA7BAC,eAAe,EAAA;eAAfA;;IAiDAC,4BAA4B,EAAA;eAA5BA;;IA7CAC,cAAc,EAAA;eAAdA;;IAKAC,sBAAsB,EAAA;eAAtBA;;;AATT,SAASH,gBAAgBI,OAAgB;IAC9C,OAAOC,MAAMC,OAAO,CAACF,WAAWA,OAAO,CAAC,EAAE,GAAGA;AAC/C;AAEO,SAASF,eAAeE,OAAe;IAC5C,sCAAsC;IACtC,OAAOA,OAAO,CAAC,EAAE,KAAK,OAAOA,QAAQG,QAAQ,CAAC;AAChD;AAEO,SAASJ,uBAAuBC,OAAe;IACpD,OAAOA,QAAQI,UAAU,CAAC,QAAQJ,YAAY;AAChD;AAEO,SAASN,6BACdM,OAAgB,EAChBK,YAA2D;IAE3D,MAAMC,gBAAgBN,QAAQO,QAAQ,CAACd;IAEvC,IAAIa,eAAe;QACjB,MAAME,mBAAmBC,KAAKC,SAAS,CAACL;QACxC,OAAOG,qBAAqB,OACxBf,mBAAmB,MAAMe,mBACzBf;IACN;IAEA,OAAOO;AACT;AAEO,SAASL,6BACdgB,QAAyB,EACzBC,gBAAwB;IAExB,IAAI,CAACD,YAAYA,SAASE,MAAM,KAAK,GAAG;QACtC,OAAO;IACT;IAEA,iFAAiF;IACjF,MAAMC,aACJF,qBAAqB,aACjBD,QAAQ,CAAC,EAAE,GACXA,QAAQ,CAACA,SAASE,MAAM,GAAG,EAAE;IAEnC,sGAAsG;IACtG,oEAAoE;IACpE,OAAOC,eAAetB,sBAAsB,OAAOsB;AACrD;AAGO,SAASjB,6BACdkB,IAAuB,EACvBH,gBAAwB,EACxBI,QAAQ,IAAI,EACZC,cAAwB,EAAE;IAE1B,IAAIC;IACJ,IAAIF,OAAO;QACT,kEAAkE;QAClEE,OAAOH,IAAI,CAAC,EAAE,CAACH,iBAAiB;IAClC,OAAO;QACL,oGAAoG;QACpG,MAAMO,iBAAiBJ,IAAI,CAAC,EAAE;QAC9BG,OAAOC,eAAeC,QAAQ,IAAIC,OAAOC,MAAM,CAACH,eAAe,CAAC,EAAE;IACpE;IAEA,IAAI,CAACD,MAAM,OAAOD;IAClB,MAAMjB,UAAUkB,IAAI,CAAC,EAAE;IAEvB,IAAIK,eAAe3B,gBAAgBI;IAEnC,IAAI,CAACuB,gBAAgBA,aAAanB,UAAU,CAACX,mBAAmB;QAC9D,OAAOwB;IACT;IAEAA,YAAYO,IAAI,CAACD;IAEjB,OAAO1B,6BACLqB,MACAN,kBACA,OACAK;AAEJ;AAEO,MAAMxB,mBAAmB;AACzB,MAAMD,sBAAsB","ignoreList":[0]}},
    {"offset": {"line": 1967, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/readonly-url-search-params.ts"],"sourcesContent":["/**\n * ReadonlyURLSearchParams implementation shared between client and server.\n * This file is intentionally not marked as 'use client' or 'use server'\n * so it can be imported by both environments.\n */\n\n/** @internal */\nclass ReadonlyURLSearchParamsError extends Error {\n  constructor() {\n    super(\n      'Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams'\n    )\n  }\n}\n\n/**\n * A read-only version of URLSearchParams that throws errors when mutation methods are called.\n * This ensures that the URLSearchParams returned by useSearchParams() cannot be mutated.\n */\nexport class ReadonlyURLSearchParams extends URLSearchParams {\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  append() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  delete() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  set() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  sort() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n}\n"],"names":["ReadonlyURLSearchParams","ReadonlyURLSearchParamsError","Error","constructor","URLSearchParams","append","delete","set","sort"],"mappings":"AAAA;;;;CAIC,GAED,cAAc;;;+BAaDA,2BAAAA;;;eAAAA;;;AAZb,MAAMC,qCAAqCC;IACzCC,aAAc;QACZ,KAAK,CACH;IAEJ;AACF;AAMO,MAAMH,gCAAgCI;IAC3C,wKAAwK,GACxKC,SAAS;QACP,MAAM,IAAIJ;IACZ;IACA,wKAAwK,GACxKK,SAAS;QACP,MAAM,IAAIL;IACZ;IACA,wKAAwK,GACxKM,MAAM;QACJ,MAAM,IAAIN;IACZ;IACA,wKAAwK,GACxKO,OAAO;QACL,MAAM,IAAIP;IACZ;AACF","ignoreList":[0]}},
    {"offset": {"line": 2010, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n"],"names":["module","exports","require","vendored","ServerInsertedHtml"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,WAAW,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 2015, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/unrecognized-action-error.ts"],"sourcesContent":["export class UnrecognizedActionError extends Error {\n  constructor(...args: ConstructorParameters<typeof Error>) {\n    super(...args)\n    this.name = 'UnrecognizedActionError'\n  }\n}\n\n/**\n * Check whether a server action call failed because the server action was not recognized by the server.\n * This can happen if the client and the server are not from the same deployment.\n *\n * Example usage:\n * ```ts\n * try {\n *   await myServerAction();\n * } catch (err) {\n *   if (unstable_isUnrecognizedActionError(err)) {\n *     // The client is from a different deployment than the server.\n *     // Reloading the page will fix this mismatch.\n *     window.alert(\"Please refresh the page and try again\");\n *     return;\n *   }\n * }\n * ```\n * */\nexport function unstable_isUnrecognizedActionError(\n  error: unknown\n): error is UnrecognizedActionError {\n  return !!(\n    error &&\n    typeof error === 'object' &&\n    error instanceof UnrecognizedActionError\n  )\n}\n"],"names":["UnrecognizedActionError","unstable_isUnrecognizedActionError","Error","constructor","args","name","error"],"mappings":";;;;;;;;;;;;;;IAAaA,uBAAuB,EAAA;eAAvBA;;IAyBGC,kCAAkC,EAAA;eAAlCA;;;AAzBT,MAAMD,gCAAgCE;IAC3CC,YAAY,GAAGC,IAAyC,CAAE;QACxD,KAAK,IAAIA;QACT,IAAI,CAACC,IAAI,GAAG;IACd;AACF;AAoBO,SAASJ,mCACdK,KAAc;IAEd,OAAO,CAAC,CACNA,CAAAA,SACA,OAAOA,UAAU,YACjBA,iBAAiBN,uBAAsB;AAE3C","ignoreList":[0]}},
    {"offset": {"line": 2056, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/redirect-status-code.ts"],"sourcesContent":["export enum RedirectStatusCode {\n  SeeOther = 303,\n  TemporaryRedirect = 307,\n  PermanentRedirect = 308,\n}\n"],"names":["RedirectStatusCode"],"mappings":";;;+BAAYA,sBAAAA;;;eAAAA;;;AAAL,IAAKA,qBAAAA,WAAAA,GAAAA,SAAAA,kBAAAA;;;;WAAAA","ignoreList":[0]}},
    {"offset": {"line": 2082, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/redirect-error.ts"],"sourcesContent":["import { RedirectStatusCode } from './redirect-status-code'\n\nexport const REDIRECT_ERROR_CODE = 'NEXT_REDIRECT'\n\nexport enum RedirectType {\n  push = 'push',\n  replace = 'replace',\n}\n\nexport type RedirectError = Error & {\n  digest: `${typeof REDIRECT_ERROR_CODE};${RedirectType};${string};${RedirectStatusCode};`\n}\n\n/**\n * Checks an error to determine if it's an error generated by the\n * `redirect(url)` helper.\n *\n * @param error the error that may reference a redirect error\n * @returns true if the error is a redirect error\n */\nexport function isRedirectError(error: unknown): error is RedirectError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n\n  const digest = error.digest.split(';')\n  const [errorCode, type] = digest\n  const destination = digest.slice(2, -2).join(';')\n  const status = digest.at(-2)\n\n  const statusCode = Number(status)\n\n  return (\n    errorCode === REDIRECT_ERROR_CODE &&\n    (type === 'replace' || type === 'push') &&\n    typeof destination === 'string' &&\n    !isNaN(statusCode) &&\n    statusCode in RedirectStatusCode\n  )\n}\n"],"names":["REDIRECT_ERROR_CODE","RedirectType","isRedirectError","error","digest","split","errorCode","type","destination","slice","join","status","at","statusCode","Number","isNaN","RedirectStatusCode"],"mappings":";;;;;;;;;;;;;;;IAEaA,mBAAmB,EAAA;eAAnBA;;IAEDC,YAAY,EAAA;eAAZA;;IAgBIC,eAAe,EAAA;eAAfA;;;oCApBmB;AAE5B,MAAMF,sBAAsB;AAE5B,IAAKC,eAAAA,WAAAA,GAAAA,SAAAA,YAAAA;;;WAAAA;;AAgBL,SAASC,gBAAgBC,KAAc;IAC5C,IACE,OAAOA,UAAU,YACjBA,UAAU,QACV,CAAE,CAAA,YAAYA,KAAI,KAClB,OAAOA,MAAMC,MAAM,KAAK,UACxB;QACA,OAAO;IACT;IAEA,MAAMA,SAASD,MAAMC,MAAM,CAACC,KAAK,CAAC;IAClC,MAAM,CAACC,WAAWC,KAAK,GAAGH;IAC1B,MAAMI,cAAcJ,OAAOK,KAAK,CAAC,GAAG,CAAC,GAAGC,IAAI,CAAC;IAC7C,MAAMC,SAASP,OAAOQ,EAAE,CAAC,CAAC;IAE1B,MAAMC,aAAaC,OAAOH;IAE1B,OACEL,cAAcN,uBACbO,CAAAA,SAAS,aAAaA,SAAS,MAAK,KACrC,OAAOC,gBAAgB,YACvB,CAACO,MAAMF,eACPA,cAAcG,oBAAAA,kBAAkB;AAEpC","ignoreList":[0]}},
    {"offset": {"line": 2136, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/redirect.ts"],"sourcesContent":["import { RedirectStatusCode } from './redirect-status-code'\nimport {\n  RedirectType,\n  type RedirectError,\n  isRedirectError,\n  REDIRECT_ERROR_CODE,\n} from './redirect-error'\n\nconst actionAsyncStorage =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/action-async-storage.external') as typeof import('../../server/app-render/action-async-storage.external')\n      ).actionAsyncStorage\n    : undefined\n\nexport function getRedirectError(\n  url: string,\n  type: RedirectType,\n  statusCode: RedirectStatusCode = RedirectStatusCode.TemporaryRedirect\n): RedirectError {\n  const error = new Error(REDIRECT_ERROR_CODE) as RedirectError\n  error.digest = `${REDIRECT_ERROR_CODE};${type};${url};${statusCode};`\n  return error\n}\n\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 307/303 to the caller.\n * - In a Server Action, type defaults to 'push' and 'replace' elsewhere.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */\nexport function redirect(\n  /** The URL to redirect to */\n  url: string,\n  type?: RedirectType\n): never {\n  type ??= actionAsyncStorage?.getStore()?.isAction\n    ? RedirectType.push\n    : RedirectType.replace\n\n  throw getRedirectError(url, type, RedirectStatusCode.TemporaryRedirect)\n}\n\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 308/303 to the caller.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */\nexport function permanentRedirect(\n  /** The URL to redirect to */\n  url: string,\n  type: RedirectType = RedirectType.replace\n): never {\n  throw getRedirectError(url, type, RedirectStatusCode.PermanentRedirect)\n}\n\n/**\n * Returns the encoded URL from the error if it's a RedirectError, null\n * otherwise. Note that this does not validate the URL returned.\n *\n * @param error the error that may be a redirect error\n * @return the url if the error was a redirect error\n */\nexport function getURLFromRedirectError(error: RedirectError): string\nexport function getURLFromRedirectError(error: unknown): string | null {\n  if (!isRedirectError(error)) return null\n\n  // Slices off the beginning of the digest that contains the code and the\n  // separating ';'.\n  return error.digest.split(';').slice(2, -2).join(';')\n}\n\nexport function getRedirectTypeFromError(error: RedirectError): RedirectType {\n  if (!isRedirectError(error)) {\n    throw new Error('Not a redirect error')\n  }\n\n  return error.digest.split(';', 2)[1] as RedirectType\n}\n\nexport function getRedirectStatusCodeFromError(error: RedirectError): number {\n  if (!isRedirectError(error)) {\n    throw new Error('Not a redirect error')\n  }\n\n  return Number(error.digest.split(';').at(-2))\n}\n"],"names":["getRedirectError","getRedirectStatusCodeFromError","getRedirectTypeFromError","getURLFromRedirectError","permanentRedirect","redirect","actionAsyncStorage","window","require","undefined","url","type","statusCode","RedirectStatusCode","TemporaryRedirect","error","Error","REDIRECT_ERROR_CODE","digest","getStore","isAction","RedirectType","push","replace","PermanentRedirect","isRedirectError","split","slice","join","Number","at"],"mappings":";;;;;;;;;;;;;;;;;;IAegBA,gBAAgB,EAAA;eAAhBA;;IA6EAC,8BAA8B,EAAA;eAA9BA;;IARAC,wBAAwB,EAAA;eAAxBA;;IARAC,uBAAuB,EAAA;eAAvBA;;IAhBAC,iBAAiB,EAAA;eAAjBA;;IAvBAC,QAAQ,EAAA;eAARA;;;oCArCmB;+BAM5B;AAEP,MAAMC,qBACJ,OAAOC,WAAW,qBAEZC,QAAQ,2KACRF,kBAAkB,GACpBG;AAEC,SAAST,iBACdU,GAAW,EACXC,IAAkB,EAClBC,aAAiCC,oBAAAA,kBAAkB,CAACC,iBAAiB;IAErE,MAAMC,QAAQ,OAAA,cAA8B,CAA9B,IAAIC,MAAMC,eAAAA,mBAAmB,GAA7B,qBAAA;eAAA;oBAAA;sBAAA;IAA6B;IAC3CF,MAAMG,MAAM,GAAG,GAAGD,eAAAA,mBAAmB,CAAC,CAAC,EAAEN,KAAK,CAAC,EAAED,IAAI,CAAC,EAAEE,WAAW,CAAC,CAAC;IACrE,OAAOG;AACT;AAcO,SAASV,SACd,2BAA2B,GAC3BK,GAAW,EACXC,IAAmB;IAEnBA,SAASL,oBAAoBa,YAAYC,WACrCC,eAAAA,YAAY,CAACC,IAAI,GACjBD,eAAAA,YAAY,CAACE,OAAO;IAExB,MAAMvB,iBAAiBU,KAAKC,MAAME,oBAAAA,kBAAkB,CAACC,iBAAiB;AACxE;AAaO,SAASV,kBACd,2BAA2B,GAC3BM,GAAW,EACXC,OAAqBU,eAAAA,YAAY,CAACE,OAAO;IAEzC,MAAMvB,iBAAiBU,KAAKC,MAAME,oBAAAA,kBAAkB,CAACW,iBAAiB;AACxE;AAUO,SAASrB,wBAAwBY,KAAc;IACpD,IAAI,CAACU,CAAAA,GAAAA,eAAAA,eAAe,EAACV,QAAQ,OAAO;IAEpC,wEAAwE;IACxE,kBAAkB;IAClB,OAAOA,MAAMG,MAAM,CAACQ,KAAK,CAAC,KAAKC,KAAK,CAAC,GAAG,CAAC,GAAGC,IAAI,CAAC;AACnD;AAEO,SAAS1B,yBAAyBa,KAAoB;IAC3D,IAAI,CAACU,CAAAA,GAAAA,eAAAA,eAAe,EAACV,QAAQ;QAC3B,MAAM,OAAA,cAAiC,CAAjC,IAAIC,MAAM,yBAAV,qBAAA;mBAAA;wBAAA;0BAAA;QAAgC;IACxC;IAEA,OAAOD,MAAMG,MAAM,CAACQ,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE;AACtC;AAEO,SAASzB,+BAA+Bc,KAAoB;IACjE,IAAI,CAACU,CAAAA,GAAAA,eAAAA,eAAe,EAACV,QAAQ;QAC3B,MAAM,OAAA,cAAiC,CAAjC,IAAIC,MAAM,yBAAV,qBAAA;mBAAA;wBAAA;0BAAA;QAAgC;IACxC;IAEA,OAAOa,OAAOd,MAAMG,MAAM,CAACQ,KAAK,CAAC,KAAKI,EAAE,CAAC,CAAC;AAC5C","ignoreList":[0]}},
    {"offset": {"line": 2229, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/http-access-fallback/http-access-fallback.ts"],"sourcesContent":["export const HTTPAccessErrorStatus = {\n  NOT_FOUND: 404,\n  FORBIDDEN: 403,\n  UNAUTHORIZED: 401,\n}\n\nconst ALLOWED_CODES = new Set(Object.values(HTTPAccessErrorStatus))\n\nexport const HTTP_ERROR_FALLBACK_ERROR_CODE = 'NEXT_HTTP_ERROR_FALLBACK'\n\nexport type HTTPAccessFallbackError = Error & {\n  digest: `${typeof HTTP_ERROR_FALLBACK_ERROR_CODE};${string}`\n}\n\n/**\n * Checks an error to determine if it's an error generated by\n * the HTTP navigation APIs `notFound()`, `forbidden()` or `unauthorized()`.\n *\n * @param error the error that may reference a HTTP access error\n * @returns true if the error is a HTTP access error\n */\nexport function isHTTPAccessFallbackError(\n  error: unknown\n): error is HTTPAccessFallbackError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n  const [prefix, httpStatus] = error.digest.split(';')\n\n  return (\n    prefix === HTTP_ERROR_FALLBACK_ERROR_CODE &&\n    ALLOWED_CODES.has(Number(httpStatus))\n  )\n}\n\nexport function getAccessFallbackHTTPStatus(\n  error: HTTPAccessFallbackError\n): number {\n  const httpStatus = error.digest.split(';')[1]\n  return Number(httpStatus)\n}\n\nexport function getAccessFallbackErrorTypeByStatus(\n  status: number\n): 'not-found' | 'forbidden' | 'unauthorized' | undefined {\n  switch (status) {\n    case 401:\n      return 'unauthorized'\n    case 403:\n      return 'forbidden'\n    case 404:\n      return 'not-found'\n    default:\n      return\n  }\n}\n"],"names":["HTTPAccessErrorStatus","HTTP_ERROR_FALLBACK_ERROR_CODE","getAccessFallbackErrorTypeByStatus","getAccessFallbackHTTPStatus","isHTTPAccessFallbackError","NOT_FOUND","FORBIDDEN","UNAUTHORIZED","ALLOWED_CODES","Set","Object","values","error","digest","prefix","httpStatus","split","has","Number","status"],"mappings":";;;;;;;;;;;;;;;;;IAAaA,qBAAqB,EAAA;eAArBA;;IAQAC,8BAA8B,EAAA;eAA9BA;;IAuCGC,kCAAkC,EAAA;eAAlCA;;IAPAC,2BAA2B,EAAA;eAA3BA;;IAnBAC,yBAAyB,EAAA;eAAzBA;;;AArBT,MAAMJ,wBAAwB;IACnCK,WAAW;IACXC,WAAW;IACXC,cAAc;AAChB;AAEA,MAAMC,gBAAgB,IAAIC,IAAIC,OAAOC,MAAM,CAACX;AAErC,MAAMC,iCAAiC;AAavC,SAASG,0BACdQ,KAAc;IAEd,IACE,OAAOA,UAAU,YACjBA,UAAU,QACV,CAAE,CAAA,YAAYA,KAAI,KAClB,OAAOA,MAAMC,MAAM,KAAK,UACxB;QACA,OAAO;IACT;IACA,MAAM,CAACC,QAAQC,WAAW,GAAGH,MAAMC,MAAM,CAACG,KAAK,CAAC;IAEhD,OACEF,WAAWb,kCACXO,cAAcS,GAAG,CAACC,OAAOH;AAE7B;AAEO,SAASZ,4BACdS,KAA8B;IAE9B,MAAMG,aAAaH,MAAMC,MAAM,CAACG,KAAK,CAAC,IAAI,CAAC,EAAE;IAC7C,OAAOE,OAAOH;AAChB;AAEO,SAASb,mCACdiB,MAAc;IAEd,OAAQA;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE;IACJ;AACF","ignoreList":[0]}},
    {"offset": {"line": 2303, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/not-found.ts"],"sourcesContent":["import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n/**\n * This function allows you to render the [not-found.js file](https://nextjs.org/docs/app/api-reference/file-conventions/not-found)\n * within a route segment as well as inject a tag.\n *\n * `notFound()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a `<meta name=\"robots\" content=\"noindex\" />` meta tag and set the status code to 404.\n * - In a Route Handler or Server Action, it will serve a 404 to the caller.\n *\n * Read more: [Next.js Docs: `notFound`](https://nextjs.org/docs/app/api-reference/functions/not-found)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};404`\n\nexport function notFound(): never {\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n\n  throw error\n}\n"],"names":["notFound","DIGEST","HTTP_ERROR_FALLBACK_ERROR_CODE","error","Error","digest"],"mappings":";;;+BAsBgBA,YAAAA;;;eAAAA;;;oCAnBT;AAEP;;;;;;;;;;;;;CAaC,GAED,MAAMC,SAAS,GAAGC,oBAAAA,8BAA8B,CAAC,IAAI,CAAC;AAE/C,SAASF;IACd,MAAMG,QAAQ,OAAA,cAAiB,CAAjB,IAAIC,MAAMH,SAAV,qBAAA;eAAA;oBAAA;sBAAA;IAAgB;IAC5BE,MAAkCE,MAAM,GAAGJ;IAE7C,MAAME;AACR","ignoreList":[0]}},
    {"offset": {"line": 2347, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/forbidden.ts"],"sourcesContent":["import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n// TODO: Add `forbidden` docs\n/**\n * @experimental\n * This function allows you to render the [forbidden.js file](https://nextjs.org/docs/app/api-reference/file-conventions/forbidden)\n * within a route segment as well as inject a tag.\n *\n * `forbidden()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * Read more: [Next.js Docs: `forbidden`](https://nextjs.org/docs/app/api-reference/functions/forbidden)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};403`\n\nexport function forbidden(): never {\n  if (!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS) {\n    throw new Error(\n      `\\`forbidden()\\` is experimental and only allowed to be enabled when \\`experimental.authInterrupts\\` is enabled.`\n    )\n  }\n\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n  throw error\n}\n"],"names":["forbidden","DIGEST","HTTP_ERROR_FALLBACK_ERROR_CODE","process","env","__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS","Error","error","digest"],"mappings":";;;+BAqBgBA,aAAAA;;;eAAAA;;;oCAlBT;AAEP,6BAA6B;AAC7B;;;;;;;;;;;CAWC,GAED,MAAMC,SAAS,GAAGC,oBAAAA,8BAA8B,CAAC,IAAI,CAAC;AAE/C,SAASF;IACd,IAAI,CAACG,QAAQC,GAAG,CAACC,uBAAqC,YAAF;QAClD,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,+GAA+G,CAAC,GAD7G,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;IAEA,MAAMC,QAAQ,OAAA,cAAiB,CAAjB,IAAID,MAAML,SAAV,qBAAA;eAAA;oBAAA;sBAAA;IAAgB;IAC5BM,MAAkCC,MAAM,GAAGP;IAC7C,MAAMM;AACR","ignoreList":[0]}},
    {"offset": {"line": 2397, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/unauthorized.ts"],"sourcesContent":["import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n// TODO: Add `unauthorized` docs\n/**\n * @experimental\n * This function allows you to render the [unauthorized.js file](https://nextjs.org/docs/app/api-reference/file-conventions/unauthorized)\n * within a route segment as well as inject a tag.\n *\n * `unauthorized()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n *\n * Read more: [Next.js Docs: `unauthorized`](https://nextjs.org/docs/app/api-reference/functions/unauthorized)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};401`\n\nexport function unauthorized(): never {\n  if (!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS) {\n    throw new Error(\n      `\\`unauthorized()\\` is experimental and only allowed to be used when \\`experimental.authInterrupts\\` is enabled.`\n    )\n  }\n\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n  throw error\n}\n"],"names":["unauthorized","DIGEST","HTTP_ERROR_FALLBACK_ERROR_CODE","process","env","__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS","Error","error","digest"],"mappings":";;;+BAsBgBA,gBAAAA;;;eAAAA;;;oCAnBT;AAEP,gCAAgC;AAChC;;;;;;;;;;;;CAYC,GAED,MAAMC,SAAS,GAAGC,oBAAAA,8BAA8B,CAAC,IAAI,CAAC;AAE/C,SAASF;IACd,IAAI,CAACG,QAAQC,GAAG,CAACC,uBAAqC,YAAF;QAClD,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,+GAA+G,CAAC,GAD7G,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;IAEA,MAAMC,QAAQ,OAAA,cAAiB,CAAjB,IAAID,MAAML,SAAV,qBAAA;eAAA;oBAAA;sBAAA;IAAgB;IAC5BM,MAAkCC,MAAM,GAAGP;IAC7C,MAAMM;AACR","ignoreList":[0]}},
    {"offset": {"line": 2448, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/server/dynamic-rendering-utils.ts"],"sourcesContent":["import type { NonStaticRenderStage } from './app-render/staged-rendering'\nimport type { RequestStore } from './app-render/work-unit-async-storage.external'\n\nexport function isHangingPromiseRejectionError(\n  err: unknown\n): err is HangingPromiseRejectionError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === HANGING_PROMISE_REJECTION\n}\n\nconst HANGING_PROMISE_REJECTION = 'HANGING_PROMISE_REJECTION'\n\nclass HangingPromiseRejectionError extends Error {\n  public readonly digest = HANGING_PROMISE_REJECTION\n\n  constructor(\n    public readonly route: string,\n    public readonly expression: string\n  ) {\n    super(\n      `During prerendering, ${expression} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${expression} to a different context by using \\`setTimeout\\`, \\`after\\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route \"${route}\".`\n    )\n  }\n}\n\ntype AbortListeners = Array<(err: unknown) => void>\nconst abortListenersBySignal = new WeakMap<AbortSignal, AbortListeners>()\n\n/**\n * This function constructs a promise that will never resolve. This is primarily\n * useful for cacheComponents where we use promise resolution timing to determine which\n * parts of a render can be included in a prerender.\n *\n * @internal\n */\nexport function makeHangingPromise<T>(\n  signal: AbortSignal,\n  route: string,\n  expression: string\n): Promise<T> {\n  if (signal.aborted) {\n    return Promise.reject(new HangingPromiseRejectionError(route, expression))\n  } else {\n    const hangingPromise = new Promise<T>((_, reject) => {\n      const boundRejection = reject.bind(\n        null,\n        new HangingPromiseRejectionError(route, expression)\n      )\n      let currentListeners = abortListenersBySignal.get(signal)\n      if (currentListeners) {\n        currentListeners.push(boundRejection)\n      } else {\n        const listeners = [boundRejection]\n        abortListenersBySignal.set(signal, listeners)\n        signal.addEventListener(\n          'abort',\n          () => {\n            for (let i = 0; i < listeners.length; i++) {\n              listeners[i]()\n            }\n          },\n          { once: true }\n        )\n      }\n    })\n    // We are fine if no one actually awaits this promise. We shouldn't consider this an unhandled rejection so\n    // we attach a noop catch handler here to suppress this warning. If you actually await somewhere or construct\n    // your own promise out of it you'll need to ensure you handle the error when it rejects.\n    hangingPromise.catch(ignoreReject)\n    return hangingPromise\n  }\n}\n\nfunction ignoreReject() {}\n\nexport function makeDevtoolsIOAwarePromise<T>(\n  underlying: T,\n  requestStore: RequestStore,\n  stage: NonStaticRenderStage\n): Promise<T> {\n  if (requestStore.stagedRendering) {\n    // We resolve each stage in a timeout, so React DevTools will pick this up as IO.\n    return requestStore.stagedRendering.delayUntilStage(\n      stage,\n      undefined,\n      underlying\n    )\n  }\n  // in React DevTools if we resolve in a setTimeout we will observe\n  // the promise resolution as something that can suspend a boundary or root.\n  return new Promise<T>((resolve) => {\n    // Must use setTimeout to be considered IO React DevTools. setImmediate will not work.\n    setTimeout(() => {\n      resolve(underlying)\n    }, 0)\n  })\n}\n"],"names":["isHangingPromiseRejectionError","makeDevtoolsIOAwarePromise","makeHangingPromise","err","digest","HANGING_PROMISE_REJECTION","HangingPromiseRejectionError","Error","constructor","route","expression","abortListenersBySignal","WeakMap","signal","aborted","Promise","reject","hangingPromise","_","boundRejection","bind","currentListeners","get","push","listeners","set","addEventListener","i","length","once","catch","ignoreReject","underlying","requestStore","stage","stagedRendering","delayUntilStage","undefined","resolve","setTimeout"],"mappings":";;;;;;;;;;;;;;;IAGgBA,8BAA8B,EAAA;eAA9BA;;IA2EAC,0BAA0B,EAAA;eAA1BA;;IAxCAC,kBAAkB,EAAA;eAAlBA;;;AAnCT,SAASF,+BACdG,GAAY;IAEZ,IAAI,OAAOA,QAAQ,YAAYA,QAAQ,QAAQ,CAAE,CAAA,YAAYA,GAAE,GAAI;QACjE,OAAO;IACT;IAEA,OAAOA,IAAIC,MAAM,KAAKC;AACxB;AAEA,MAAMA,4BAA4B;AAElC,MAAMC,qCAAqCC;IAGzCC,YACkBC,KAAa,EACbC,UAAkB,CAClC;QACA,KAAK,CACH,CAAC,qBAAqB,EAAEA,WAAW,qGAAqG,EAAEA,WAAW,8KAA8K,EAAED,MAAM,EAAE,CAAC,GAAA,IAAA,CAJhUA,KAAAA,GAAAA,OAAAA,IAAAA,CACAC,UAAAA,GAAAA,YAAAA,IAAAA,CAJFN,MAAAA,GAASC;IASzB;AACF;AAGA,MAAMM,yBAAyB,IAAIC;AAS5B,SAASV,mBACdW,MAAmB,EACnBJ,KAAa,EACbC,UAAkB;IAElB,IAAIG,OAAOC,OAAO,EAAE;QAClB,OAAOC,QAAQC,MAAM,CAAC,IAAIV,6BAA6BG,OAAOC;IAChE,OAAO;QACL,MAAMO,iBAAiB,IAAIF,QAAW,CAACG,GAAGF;YACxC,MAAMG,iBAAiBH,OAAOI,IAAI,CAChC,MACA,IAAId,6BAA6BG,OAAOC;YAE1C,IAAIW,mBAAmBV,uBAAuBW,GAAG,CAACT;YAClD,IAAIQ,kBAAkB;gBACpBA,iBAAiBE,IAAI,CAACJ;YACxB,OAAO;gBACL,MAAMK,YAAY;oBAACL;iBAAe;gBAClCR,uBAAuBc,GAAG,CAACZ,QAAQW;gBACnCX,OAAOa,gBAAgB,CACrB,SACA;oBACE,IAAK,IAAIC,IAAI,GAAGA,IAAIH,UAAUI,MAAM,EAAED,IAAK;wBACzCH,SAAS,CAACG,EAAE;oBACd;gBACF,GACA;oBAAEE,MAAM;gBAAK;YAEjB;QACF;QACA,2GAA2G;QAC3G,6GAA6G;QAC7G,yFAAyF;QACzFZ,eAAea,KAAK,CAACC;QACrB,OAAOd;IACT;AACF;AAEA,SAASc,gBAAgB;AAElB,SAAS9B,2BACd+B,UAAa,EACbC,YAA0B,EAC1BC,KAA2B;IAE3B,IAAID,aAAaE,eAAe,EAAE;QAChC,iFAAiF;QACjF,OAAOF,aAAaE,eAAe,CAACC,eAAe,CACjDF,OACAG,WACAL;IAEJ;IACA,kEAAkE;IAClE,2EAA2E;IAC3E,OAAO,IAAIjB,QAAW,CAACuB;QACrB,sFAAsF;QACtFC,WAAW;YACTD,QAAQN;QACV,GAAG;IACL;AACF","ignoreList":[0]}},
    {"offset": {"line": 2535, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/server/lib/router-utils/is-postpone.ts"],"sourcesContent":["const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone')\n\nexport function isPostpone(error: any): boolean {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    error.$$typeof === REACT_POSTPONE_TYPE\n  )\n}\n"],"names":["isPostpone","REACT_POSTPONE_TYPE","Symbol","for","error","$$typeof"],"mappings":";;;+BAEgBA,cAAAA;;;eAAAA;;;AAFhB,MAAMC,sBAA8BC,OAAOC,GAAG,CAAC;AAExC,SAASH,WAAWI,KAAU;IACnC,OACE,OAAOA,UAAU,YACjBA,UAAU,QACVA,MAAMC,QAAQ,KAAKJ;AAEvB","ignoreList":[0]}},
    {"offset": {"line": 2552, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/shared/lib/lazy-dynamic/bailout-to-csr.ts"],"sourcesContent":["// This has to be a shared module which is shared between client component error boundary and dynamic component\nconst BAILOUT_TO_CSR = 'BAILOUT_TO_CLIENT_SIDE_RENDERING'\n\n/** An error that should be thrown when we want to bail out to client-side rendering. */\nexport class BailoutToCSRError extends Error {\n  public readonly digest = BAILOUT_TO_CSR\n\n  constructor(public readonly reason: string) {\n    super(`Bail out to client-side rendering: ${reason}`)\n  }\n}\n\n/** Checks if a passed argument is an error that is thrown if we want to bail out to client-side rendering. */\nexport function isBailoutToCSRError(err: unknown): err is BailoutToCSRError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === BAILOUT_TO_CSR\n}\n"],"names":["BailoutToCSRError","isBailoutToCSRError","BAILOUT_TO_CSR","Error","constructor","reason","digest","err"],"mappings":"AAAA,+GAA+G;;;;;;;;;;;;;;;IAIlGA,iBAAiB,EAAA;eAAjBA;;IASGC,mBAAmB,EAAA;eAAnBA;;;AAZhB,MAAMC,iBAAiB;AAGhB,MAAMF,0BAA0BG;IAGrCC,YAA4BC,MAAc,CAAE;QAC1C,KAAK,CAAC,CAAC,mCAAmC,EAAEA,QAAQ,GAAA,IAAA,CAD1BA,MAAAA,GAAAA,QAAAA,IAAAA,CAFZC,MAAAA,GAASJ;IAIzB;AACF;AAGO,SAASD,oBAAoBM,GAAY;IAC9C,IAAI,OAAOA,QAAQ,YAAYA,QAAQ,QAAQ,CAAE,CAAA,YAAYA,GAAE,GAAI;QACjE,OAAO;IACT;IAEA,OAAOA,IAAID,MAAM,KAAKJ;AACxB","ignoreList":[0]}},
    {"offset": {"line": 2590, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/is-next-router-error.ts"],"sourcesContent":["import {\n  isHTTPAccessFallbackError,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\nimport { isRedirectError, type RedirectError } from './redirect-error'\n\n/**\n * Returns true if the error is a navigation signal error. These errors are\n * thrown by user code to perform navigation operations and interrupt the React\n * render.\n */\nexport function isNextRouterError(\n  error: unknown\n): error is RedirectError | HTTPAccessFallbackError {\n  return isRedirectError(error) || isHTTPAccessFallbackError(error)\n}\n"],"names":["isNextRouterError","error","isRedirectError","isHTTPAccessFallbackError"],"mappings":";;;+BAWgBA,qBAAAA;;;eAAAA;;;oCART;+BAC6C;AAO7C,SAASA,kBACdC,KAAc;IAEd,OAAOC,CAAAA,GAAAA,eAAAA,eAAe,EAACD,UAAUE,CAAAA,GAAAA,oBAAAA,yBAAyB,EAACF;AAC7D","ignoreList":[0]}},
    {"offset": {"line": 2615, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/hooks-server-context.ts"],"sourcesContent":["const DYNAMIC_ERROR_CODE = 'DYNAMIC_SERVER_USAGE'\n\nexport class DynamicServerError extends Error {\n  digest: typeof DYNAMIC_ERROR_CODE = DYNAMIC_ERROR_CODE\n\n  constructor(public readonly description: string) {\n    super(`Dynamic server usage: ${description}`)\n  }\n}\n\nexport function isDynamicServerError(err: unknown): err is DynamicServerError {\n  if (\n    typeof err !== 'object' ||\n    err === null ||\n    !('digest' in err) ||\n    typeof err.digest !== 'string'\n  ) {\n    return false\n  }\n\n  return err.digest === DYNAMIC_ERROR_CODE\n}\n"],"names":["DynamicServerError","isDynamicServerError","DYNAMIC_ERROR_CODE","Error","constructor","description","digest","err"],"mappings":";;;;;;;;;;;;;;IAEaA,kBAAkB,EAAA;eAAlBA;;IAQGC,oBAAoB,EAAA;eAApBA;;;AAVhB,MAAMC,qBAAqB;AAEpB,MAAMF,2BAA2BG;IAGtCC,YAA4BC,WAAmB,CAAE;QAC/C,KAAK,CAAC,CAAC,sBAAsB,EAAEA,aAAa,GAAA,IAAA,CADlBA,WAAAA,GAAAA,aAAAA,IAAAA,CAF5BC,MAAAA,GAAoCJ;IAIpC;AACF;AAEO,SAASD,qBAAqBM,GAAY;IAC/C,IACE,OAAOA,QAAQ,YACfA,QAAQ,QACR,CAAE,CAAA,YAAYA,GAAE,KAChB,OAAOA,IAAID,MAAM,KAAK,UACtB;QACA,OAAO;IACT;IAEA,OAAOC,IAAID,MAAM,KAAKJ;AACxB","ignoreList":[0]}},
    {"offset": {"line": 2659, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/static-generation-bailout.ts"],"sourcesContent":["const NEXT_STATIC_GEN_BAILOUT = 'NEXT_STATIC_GEN_BAILOUT'\n\nexport class StaticGenBailoutError extends Error {\n  public readonly code = NEXT_STATIC_GEN_BAILOUT\n}\n\nexport function isStaticGenBailoutError(\n  error: unknown\n): error is StaticGenBailoutError {\n  if (typeof error !== 'object' || error === null || !('code' in error)) {\n    return false\n  }\n\n  return error.code === NEXT_STATIC_GEN_BAILOUT\n}\n"],"names":["StaticGenBailoutError","isStaticGenBailoutError","NEXT_STATIC_GEN_BAILOUT","Error","code","error"],"mappings":";;;;;;;;;;;;;;IAEaA,qBAAqB,EAAA;eAArBA;;IAIGC,uBAAuB,EAAA;eAAvBA;;;AANhB,MAAMC,0BAA0B;AAEzB,MAAMF,8BAA8BG;;QAApC,KAAA,IAAA,OAAA,IAAA,CACWC,IAAAA,GAAOF;;AACzB;AAEO,SAASD,wBACdI,KAAc;IAEd,IAAI,OAAOA,UAAU,YAAYA,UAAU,QAAQ,CAAE,CAAA,UAAUA,KAAI,GAAI;QACrE,OAAO;IACT;IAEA,OAAOA,MAAMD,IAAI,KAAKF;AACxB","ignoreList":[0]}},
    {"offset": {"line": 2703, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/lib/framework/boundary-constants.tsx"],"sourcesContent":["export const METADATA_BOUNDARY_NAME = '__next_metadata_boundary__'\nexport const VIEWPORT_BOUNDARY_NAME = '__next_viewport_boundary__'\nexport const OUTLET_BOUNDARY_NAME = '__next_outlet_boundary__'\nexport const ROOT_LAYOUT_BOUNDARY_NAME = '__next_root_layout_boundary__'\n"],"names":["METADATA_BOUNDARY_NAME","OUTLET_BOUNDARY_NAME","ROOT_LAYOUT_BOUNDARY_NAME","VIEWPORT_BOUNDARY_NAME"],"mappings":";;;;;;;;;;;;;;;;IAAaA,sBAAsB,EAAA;eAAtBA;;IAEAC,oBAAoB,EAAA;eAApBA;;IACAC,yBAAyB,EAAA;eAAzBA;;IAFAC,sBAAsB,EAAA;eAAtBA;;;AADN,MAAMH,yBAAyB;AAC/B,MAAMG,yBAAyB;AAC/B,MAAMF,uBAAuB;AAC7B,MAAMC,4BAA4B","ignoreList":[0]}},
    {"offset": {"line": 2740, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/lib/scheduler.ts"],"sourcesContent":["export type ScheduledFn<T = void> = () => T | PromiseLike<T>\nexport type SchedulerFn<T = void> = (cb: ScheduledFn<T>) => void\n\n/**\n * Schedules a function to be called on the next tick after the other promises\n * have been resolved.\n *\n * @param cb the function to schedule\n */\nexport const scheduleOnNextTick = (cb: ScheduledFn<void>) => {\n  // We use Promise.resolve().then() here so that the operation is scheduled at\n  // the end of the promise job queue, we then add it to the next process tick\n  // to ensure it's evaluated afterwards.\n  //\n  // This was inspired by the implementation of the DataLoader interface: https://github.com/graphql/dataloader/blob/d336bd15282664e0be4b4a657cb796f09bafbc6b/src/index.js#L213-L255\n  //\n  Promise.resolve().then(() => {\n    if (process.env.NEXT_RUNTIME === 'edge') {\n      setTimeout(cb, 0)\n    } else {\n      process.nextTick(cb)\n    }\n  })\n}\n\n/**\n * Schedules a function to be called using `setImmediate` or `setTimeout` if\n * `setImmediate` is not available (like in the Edge runtime).\n *\n * @param cb the function to schedule\n */\nexport const scheduleImmediate = (cb: ScheduledFn<void>): void => {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    setTimeout(cb, 0)\n  } else {\n    setImmediate(cb)\n  }\n}\n\n/**\n * returns a promise than resolves in a future task. There is no guarantee that the task it resolves in\n * will be the next task but if you await it you can at least be sure that the current task is over and\n * most usefully that the entire microtask queue of the current task has been emptied.\n */\nexport function atLeastOneTask() {\n  return new Promise<void>((resolve) => scheduleImmediate(resolve))\n}\n\n/**\n * This utility function is extracted to make it easier to find places where we are doing\n * specific timing tricks to try to schedule work after React has rendered. This is especially\n * important at the moment because Next.js uses the edge builds of React which use setTimeout to\n * schedule work when you might expect that something like setImmediate would do the trick.\n *\n * Long term we should switch to the node versions of React rendering when possible and then\n * update this to use setImmediate rather than setTimeout\n */\nexport function waitAtLeastOneReactRenderTask(): Promise<void> {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    return new Promise((r) => setTimeout(r, 0))\n  } else {\n    return new Promise((r) => setImmediate(r))\n  }\n}\n"],"names":["atLeastOneTask","scheduleImmediate","scheduleOnNextTick","waitAtLeastOneReactRenderTask","cb","Promise","resolve","then","process","env","NEXT_RUNTIME","setTimeout","nextTick","setImmediate","r"],"mappings":";;;;;;;;;;;;;;;;IA4CgBA,cAAc,EAAA;eAAdA;;IAbHC,iBAAiB,EAAA;eAAjBA;;IAtBAC,kBAAkB,EAAA;eAAlBA;;IAgDGC,6BAA6B,EAAA;eAA7BA;;;AAhDT,MAAMD,qBAAqB,CAACE;IACjC,6EAA6E;IAC7E,4EAA4E;IAC5E,uCAAuC;IACvC,EAAE;IACF,kLAAkL;IAClL,EAAE;IACFC,QAAQC,OAAO,GAAGC,IAAI,CAAC;QACrB,IAAIC,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;aAElC;YACLF,QAAQI,QAAQ,CAACR;QACnB;IACF;AACF;AAQO,MAAMH,oBAAoB,CAACG;IAChC,IAAII,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;SAElC;QACLG,aAAaT;IACf;AACF;AAOO,SAASJ;IACd,OAAO,IAAIK,QAAc,CAACC,UAAYL,kBAAkBK;AAC1D;AAWO,SAASH;IACd,IAAIK,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;SAElC;QACL,OAAO,IAAIL,QAAQ,CAACS,IAAMD,aAAaC;IACzC;AACF","ignoreList":[0]}},
    {"offset": {"line": 2805, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/shared/lib/invariant-error.ts"],"sourcesContent":["export class InvariantError extends Error {\n  constructor(message: string, options?: ErrorOptions) {\n    super(\n      `Invariant: ${message.endsWith('.') ? message : message + '.'} This is a bug in Next.js.`,\n      options\n    )\n    this.name = 'InvariantError'\n  }\n}\n"],"names":["InvariantError","Error","constructor","message","options","endsWith","name"],"mappings":";;;+BAAaA,kBAAAA;;;eAAAA;;;AAAN,MAAMA,uBAAuBC;IAClCC,YAAYC,OAAe,EAAEC,OAAsB,CAAE;QACnD,KAAK,CACH,CAAC,WAAW,EAAED,QAAQE,QAAQ,CAAC,OAAOF,UAAUA,UAAU,IAAI,0BAA0B,CAAC,EACzFC;QAEF,IAAI,CAACE,IAAI,GAAG;IACd;AACF","ignoreList":[0]}},
    {"offset": {"line": 2824, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/shared/lib/promise-with-resolvers.ts"],"sourcesContent":["export function createPromiseWithResolvers<T>(): PromiseWithResolvers<T> {\n  // Shim of Stage 4 Promise.withResolvers proposal\n  let resolve: (value: T | PromiseLike<T>) => void\n  let reject: (reason: any) => void\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res\n    reject = rej\n  })\n  return { resolve: resolve!, reject: reject!, promise }\n}\n"],"names":["createPromiseWithResolvers","resolve","reject","promise","Promise","res","rej"],"mappings":";;;+BAAgBA,8BAAAA;;;eAAAA;;;AAAT,SAASA;IACd,iDAAiD;IACjD,IAAIC;IACJ,IAAIC;IACJ,MAAMC,UAAU,IAAIC,QAAW,CAACC,KAAKC;QACnCL,UAAUI;QACVH,SAASI;IACX;IACA,OAAO;QAAEL,SAASA;QAAUC,QAAQA;QAASC;IAAQ;AACvD","ignoreList":[0]}},
    {"offset": {"line": 2851, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/server/app-render/staged-rendering.ts"],"sourcesContent":["import { InvariantError } from '../../shared/lib/invariant-error'\nimport { createPromiseWithResolvers } from '../../shared/lib/promise-with-resolvers'\n\nexport enum RenderStage {\n  Static = 1,\n  Runtime = 2,\n  Dynamic = 3,\n}\n\nexport type NonStaticRenderStage = RenderStage.Runtime | RenderStage.Dynamic\n\nexport class StagedRenderingController {\n  currentStage: RenderStage = RenderStage.Static\n\n  private runtimeStagePromise = createPromiseWithResolvers<void>()\n  private dynamicStagePromise = createPromiseWithResolvers<void>()\n\n  constructor(private abortSignal: AbortSignal | null = null) {\n    if (abortSignal) {\n      abortSignal.addEventListener(\n        'abort',\n        () => {\n          const { reason } = abortSignal\n          if (this.currentStage < RenderStage.Runtime) {\n            this.runtimeStagePromise.promise.catch(ignoreReject) // avoid unhandled rejections\n            this.runtimeStagePromise.reject(reason)\n          }\n          if (this.currentStage < RenderStage.Dynamic) {\n            this.dynamicStagePromise.promise.catch(ignoreReject) // avoid unhandled rejections\n            this.dynamicStagePromise.reject(reason)\n          }\n        },\n        { once: true }\n      )\n    }\n  }\n\n  advanceStage(stage: NonStaticRenderStage) {\n    // If we're already at the target stage or beyond, do nothing.\n    // (this can happen e.g. if sync IO advanced us to the dynamic stage)\n    if (this.currentStage >= stage) {\n      return\n    }\n    this.currentStage = stage\n    // Note that we might be going directly from Static to Dynamic,\n    // so we need to resolve the runtime stage as well.\n    if (stage >= RenderStage.Runtime) {\n      this.runtimeStagePromise.resolve()\n    }\n    if (stage >= RenderStage.Dynamic) {\n      this.dynamicStagePromise.resolve()\n    }\n  }\n\n  private getStagePromise(stage: NonStaticRenderStage): Promise<void> {\n    switch (stage) {\n      case RenderStage.Runtime: {\n        return this.runtimeStagePromise.promise\n      }\n      case RenderStage.Dynamic: {\n        return this.dynamicStagePromise.promise\n      }\n      default: {\n        stage satisfies never\n        throw new InvariantError(`Invalid render stage: ${stage}`)\n      }\n    }\n  }\n\n  waitForStage(stage: NonStaticRenderStage) {\n    return this.getStagePromise(stage)\n  }\n\n  delayUntilStage<T>(\n    stage: NonStaticRenderStage,\n    displayName: string | undefined,\n    resolvedValue: T\n  ) {\n    const ioTriggerPromise = this.getStagePromise(stage)\n\n    const promise = makeDevtoolsIOPromiseFromIOTrigger(\n      ioTriggerPromise,\n      displayName,\n      resolvedValue\n    )\n\n    // Analogously to `makeHangingPromise`, we might reject this promise if the signal is invoked.\n    // (e.g. in the case where we don't want want the render to proceed to the dynamic stage and abort it).\n    // We shouldn't consider this an unhandled rejection, so we attach a noop catch handler here to suppress this warning.\n    if (this.abortSignal) {\n      promise.catch(ignoreReject)\n    }\n    return promise\n  }\n}\n\nfunction ignoreReject() {}\n\n// TODO(restart-on-cache-miss): the layering of `delayUntilStage`,\n// `makeDevtoolsIOPromiseFromIOTrigger` and and `makeDevtoolsIOAwarePromise`\n// is confusing, we should clean it up.\nfunction makeDevtoolsIOPromiseFromIOTrigger<T>(\n  ioTrigger: Promise<any>,\n  displayName: string | undefined,\n  resolvedValue: T\n): Promise<T> {\n  // If we create a `new Promise` and give it a displayName\n  // (with no userspace code above us in the stack)\n  // React Devtools will use it as the IO cause when determining \"suspended by\".\n  // In particular, it should shadow any inner IO that resolved/rejected the promise\n  // (in case of staged rendering, this will be the `setTimeout` that triggers the relevant stage)\n  const promise = new Promise<T>((resolve, reject) => {\n    ioTrigger.then(resolve.bind(null, resolvedValue), reject)\n  })\n  if (displayName !== undefined) {\n    // @ts-expect-error\n    promise.displayName = displayName\n  }\n  return promise\n}\n"],"names":["RenderStage","StagedRenderingController","constructor","abortSignal","currentStage","runtimeStagePromise","createPromiseWithResolvers","dynamicStagePromise","addEventListener","reason","promise","catch","ignoreReject","reject","once","advanceStage","stage","resolve","getStagePromise","InvariantError","waitForStage","delayUntilStage","displayName","resolvedValue","ioTriggerPromise","makeDevtoolsIOPromiseFromIOTrigger","ioTrigger","Promise","then","bind","undefined"],"mappings":";;;;;;;;;;;;;;IAGYA,WAAW,EAAA;eAAXA;;IAQCC,yBAAyB,EAAA;eAAzBA;;;gCAXkB;sCACY;AAEpC,IAAKD,cAAAA,WAAAA,GAAAA,SAAAA,WAAAA;;;;WAAAA;;AAQL,MAAMC;IAMXC,YAAoBC,cAAkC,IAAI,CAAE;aAAxCA,WAAAA,GAAAA;aALpBC,YAAAA,GAAAA;aAEQC,mBAAAA,GAAsBC,CAAAA,GAAAA,sBAAAA,0BAA0B;aAChDC,mBAAAA,GAAsBD,CAAAA,GAAAA,sBAAAA,0BAA0B;QAGtD,IAAIH,aAAa;YACfA,YAAYK,gBAAgB,CAC1B,SACA;gBACE,MAAM,EAAEC,MAAM,EAAE,GAAGN;gBACnB,IAAI,IAAI,CAACC,YAAY,GAAA,GAAwB;oBAC3C,IAAI,CAACC,mBAAmB,CAACK,OAAO,CAACC,KAAK,CAACC,cAAc,6BAA6B;;oBAClF,IAAI,CAACP,mBAAmB,CAACQ,MAAM,CAACJ;gBAClC;gBACA,IAAI,IAAI,CAACL,YAAY,GAAA,GAAwB;oBAC3C,IAAI,CAACG,mBAAmB,CAACG,OAAO,CAACC,KAAK,CAACC,cAAc,6BAA6B;;oBAClF,IAAI,CAACL,mBAAmB,CAACM,MAAM,CAACJ;gBAClC;YACF,GACA;gBAAEK,MAAM;YAAK;QAEjB;IACF;IAEAC,aAAaC,KAA2B,EAAE;QACxC,8DAA8D;QAC9D,qEAAqE;QACrE,IAAI,IAAI,CAACZ,YAAY,IAAIY,OAAO;YAC9B;QACF;QACA,IAAI,CAACZ,YAAY,GAAGY;QACpB,+DAA+D;QAC/D,mDAAmD;QACnD,IAAIA,SAAAA,GAA8B;YAChC,IAAI,CAACX,mBAAmB,CAACY,OAAO;QAClC;QACA,IAAID,SAAAA,GAA8B;YAChC,IAAI,CAACT,mBAAmB,CAACU,OAAO;QAClC;IACF;IAEQC,gBAAgBF,KAA2B,EAAiB;QAClE,OAAQA;YACN,KAAA;gBAA0B;oBACxB,OAAO,IAAI,CAACX,mBAAmB,CAACK,OAAO;gBACzC;YACA,KAAA;gBAA0B;oBACxB,OAAO,IAAI,CAACH,mBAAmB,CAACG,OAAO;gBACzC;YACA;gBAAS;oBACPM;oBACA,MAAM,OAAA,cAAoD,CAApD,IAAIG,gBAAAA,cAAc,CAAC,CAAC,sBAAsB,EAAEH,OAAO,GAAnD,qBAAA;+BAAA;oCAAA;sCAAA;oBAAmD;gBAC3D;QACF;IACF;IAEAI,aAAaJ,KAA2B,EAAE;QACxC,OAAO,IAAI,CAACE,eAAe,CAACF;IAC9B;IAEAK,gBACEL,KAA2B,EAC3BM,WAA+B,EAC/BC,aAAgB,EAChB;QACA,MAAMC,mBAAmB,IAAI,CAACN,eAAe,CAACF;QAE9C,MAAMN,UAAUe,mCACdD,kBACAF,aACAC;QAGF,8FAA8F;QAC9F,uGAAuG;QACvG,sHAAsH;QACtH,IAAI,IAAI,CAACpB,WAAW,EAAE;YACpBO,QAAQC,KAAK,CAACC;QAChB;QACA,OAAOF;IACT;AACF;AAEA,SAASE,gBAAgB;AAEzB,kEAAkE;AAClE,4EAA4E;AAC5E,uCAAuC;AACvC,SAASa,mCACPC,SAAuB,EACvBJ,WAA+B,EAC/BC,aAAgB;IAEhB,yDAAyD;IACzD,iDAAiD;IACjD,8EAA8E;IAC9E,kFAAkF;IAClF,gGAAgG;IAChG,MAAMb,UAAU,IAAIiB,QAAW,CAACV,SAASJ;QACvCa,UAAUE,IAAI,CAACX,QAAQY,IAAI,CAAC,MAAMN,gBAAgBV;IACpD;IACA,IAAIS,gBAAgBQ,WAAW;QAC7B,mBAAmB;QACnBpB,QAAQY,WAAW,GAAGA;IACxB;IACA,OAAOZ;AACT","ignoreList":[0]}},
    {"offset": {"line": 2979, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/server/app-render/dynamic-rendering.ts"],"sourcesContent":["/**\n * The functions provided by this module are used to communicate certain properties\n * about the currently running code so that Next.js can make decisions on how to handle\n * the current execution in different rendering modes such as pre-rendering, resuming, and SSR.\n *\n * Today Next.js treats all code as potentially static. Certain APIs may only make sense when dynamically rendering.\n * Traditionally this meant deopting the entire render to dynamic however with PPR we can now deopt parts\n * of a React tree as dynamic while still keeping other parts static. There are really two different kinds of\n * Dynamic indications.\n *\n * The first is simply an intention to be dynamic. unstable_noStore is an example of this where\n * the currently executing code simply declares that the current scope is dynamic but if you use it\n * inside unstable_cache it can still be cached. This type of indication can be removed if we ever\n * make the default dynamic to begin with because the only way you would ever be static is inside\n * a cache scope which this indication does not affect.\n *\n * The second is an indication that a dynamic data source was read. This is a stronger form of dynamic\n * because it means that it is inappropriate to cache this at all. using a dynamic data source inside\n * unstable_cache should error. If you want to use some dynamic data inside unstable_cache you should\n * read that data outside the cache and pass it in as an argument to the cached function.\n */\n\nimport type { WorkStore } from '../app-render/work-async-storage.external'\nimport type {\n  WorkUnitStore,\n  RequestStore,\n  PrerenderStoreLegacy,\n  PrerenderStoreModern,\n  PrerenderStoreModernRuntime,\n} from '../app-render/work-unit-async-storage.external'\n\n// Once postpone is in stable we should switch to importing the postpone export directly\nimport React from 'react'\n\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  getRuntimeStagePromise,\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n} from './work-unit-async-storage.external'\nimport { workAsyncStorage } from '../app-render/work-async-storage.external'\nimport { makeHangingPromise } from '../dynamic-rendering-utils'\nimport {\n  METADATA_BOUNDARY_NAME,\n  VIEWPORT_BOUNDARY_NAME,\n  OUTLET_BOUNDARY_NAME,\n  ROOT_LAYOUT_BOUNDARY_NAME,\n} from '../../lib/framework/boundary-constants'\nimport { scheduleOnNextTick } from '../../lib/scheduler'\nimport { BailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from './staged-rendering'\n\nconst hasPostpone = typeof React.unstable_postpone === 'function'\n\nexport type DynamicAccess = {\n  /**\n   * If debugging, this will contain the stack trace of where the dynamic access\n   * occurred. This is used to provide more information to the user about why\n   * their page is being rendered dynamically.\n   */\n  stack?: string\n\n  /**\n   * The expression that was accessed dynamically.\n   */\n  expression: string\n}\n\n// Stores dynamic reasons used during an RSC render.\nexport type DynamicTrackingState = {\n  /**\n   * When true, stack information will also be tracked during dynamic access.\n   */\n  readonly isDebugDynamicAccesses: boolean | undefined\n\n  /**\n   * The dynamic accesses that occurred during the render.\n   */\n  readonly dynamicAccesses: Array<DynamicAccess>\n\n  syncDynamicErrorWithStack: null | Error\n}\n\n// Stores dynamic reasons used during an SSR render.\nexport type DynamicValidationState = {\n  hasSuspenseAboveBody: boolean\n  hasDynamicMetadata: boolean\n  hasDynamicViewport: boolean\n  hasAllowedDynamic: boolean\n  dynamicErrors: Array<Error>\n}\n\nexport function createDynamicTrackingState(\n  isDebugDynamicAccesses: boolean | undefined\n): DynamicTrackingState {\n  return {\n    isDebugDynamicAccesses,\n    dynamicAccesses: [],\n    syncDynamicErrorWithStack: null,\n  }\n}\n\nexport function createDynamicValidationState(): DynamicValidationState {\n  return {\n    hasSuspenseAboveBody: false,\n    hasDynamicMetadata: false,\n    hasDynamicViewport: false,\n    hasAllowedDynamic: false,\n    dynamicErrors: [],\n  }\n}\n\nexport function getFirstDynamicReason(\n  trackingState: DynamicTrackingState\n): undefined | string {\n  return trackingState.dynamicAccesses[0]?.expression\n}\n\n/**\n * This function communicates that the current scope should be treated as dynamic.\n *\n * In most cases this function is a no-op but if called during\n * a PPR prerender it will postpone the current sub-tree and calling\n * it during a normal prerender will cause the entire prerender to abort\n */\nexport function markCurrentScopeAsDynamic(\n  store: WorkStore,\n  workUnitStore: undefined | Exclude<WorkUnitStore, PrerenderStoreModern>,\n  expression: string\n): void {\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'cache':\n      case 'unstable-cache':\n        // Inside cache scopes, marking a scope as dynamic has no effect,\n        // because the outer cache scope creates a cache boundary. This is\n        // subtly different from reading a dynamic data source, which is\n        // forbidden inside a cache scope.\n        return\n      case 'private-cache':\n        // A private cache scope is already dynamic by definition.\n        return\n      case 'prerender-legacy':\n      case 'prerender-ppr':\n      case 'request':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n\n  // If we're forcing dynamic rendering or we're forcing static rendering, we\n  // don't need to do anything here because the entire page is already dynamic\n  // or it's static and it should not throw or postpone here.\n  if (store.forceDynamic || store.forceStatic) return\n\n  if (store.dynamicShouldError) {\n    throw new StaticGenBailoutError(\n      `Route ${store.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n    )\n  }\n\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-ppr':\n        return postponeWithTracking(\n          store.route,\n          expression,\n          workUnitStore.dynamicTracking\n        )\n      case 'prerender-legacy':\n        workUnitStore.revalidate = 0\n\n        // We aren't prerendering, but we are generating a static page. We need\n        // to bail out of static generation.\n        const err = new DynamicServerError(\n          `Route ${store.route} couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n        )\n        store.dynamicUsageDescription = expression\n        store.dynamicUsageStack = err.stack\n\n        throw err\n      case 'request':\n        if (process.env.NODE_ENV !== 'production') {\n          workUnitStore.usedDynamic = true\n        }\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\n/**\n * This function is meant to be used when prerendering without cacheComponents or PPR.\n * When called during a build it will cause Next.js to consider the route as dynamic.\n *\n * @internal\n */\nexport function throwToInterruptStaticGeneration(\n  expression: string,\n  store: WorkStore,\n  prerenderStore: PrerenderStoreLegacy\n): never {\n  // We aren't prerendering but we are generating a static page. We need to bail out of static generation\n  const err = new DynamicServerError(\n    `Route ${store.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n  )\n\n  prerenderStore.revalidate = 0\n\n  store.dynamicUsageDescription = expression\n  store.dynamicUsageStack = err.stack\n\n  throw err\n}\n\n/**\n * This function should be used to track whether something dynamic happened even when\n * we are in a dynamic render. This is useful for Dev where all renders are dynamic but\n * we still track whether dynamic APIs were accessed for helpful messaging\n *\n * @internal\n */\nexport function trackDynamicDataInDynamicRender(workUnitStore: WorkUnitStore) {\n  switch (workUnitStore.type) {\n    case 'cache':\n    case 'unstable-cache':\n      // Inside cache scopes, marking a scope as dynamic has no effect,\n      // because the outer cache scope creates a cache boundary. This is\n      // subtly different from reading a dynamic data source, which is\n      // forbidden inside a cache scope.\n      return\n    case 'private-cache':\n      // A private cache scope is already dynamic by definition.\n      return\n    case 'prerender':\n    case 'prerender-runtime':\n    case 'prerender-legacy':\n    case 'prerender-ppr':\n    case 'prerender-client':\n      break\n    case 'request':\n      if (process.env.NODE_ENV !== 'production') {\n        workUnitStore.usedDynamic = true\n      }\n      break\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nfunction abortOnSynchronousDynamicDataAccess(\n  route: string,\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const reason = `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n\n  const error = createPrerenderInterruptedError(reason)\n\n  prerenderStore.controller.abort(error)\n\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function abortOnSynchronousPlatformIOAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n  // It is important that we set this tracking value after aborting. Aborts are executed\n  // synchronously except for the case where you abort during render itself. By setting this\n  // value late we can use it to determine if any of the aborted tasks are the task that\n  // called the sync IO expression in the first place.\n  if (dynamicTracking) {\n    if (dynamicTracking.syncDynamicErrorWithStack === null) {\n      dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n    }\n  }\n}\n\nexport function trackSynchronousPlatformIOAccessInDev(\n  requestStore: RequestStore\n): void {\n  // We don't actually have a controller to abort but we do the semantic equivalent by\n  // advancing the request store out of the prerender stage\n  if (requestStore.stagedRendering) {\n    // TODO: error for sync IO in the runtime stage\n    // (which is not currently covered by the validation render in `spawnDynamicValidationInDev`)\n    requestStore.stagedRendering.advanceStage(RenderStage.Dynamic)\n  }\n}\n\n/**\n * use this function when prerendering with cacheComponents. If we are doing a\n * prospective prerender we don't actually abort because we want to discover\n * all caches for the shell. If this is the actual prerender we do abort.\n *\n * This function accepts a prerenderStore but the caller should ensure we're\n * actually running in cacheComponents mode.\n *\n * @internal\n */\nexport function abortAndThrowOnSynchronousRequestDataAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): never {\n  const prerenderSignal = prerenderStore.controller.signal\n  if (prerenderSignal.aborted === false) {\n    // TODO it would be better to move this aborted check into the callsite so we can avoid making\n    // the error object when it isn't relevant to the aborting of the prerender however\n    // since we need the throw semantics regardless of whether we abort it is easier to land\n    // this way. See how this was handled with `abortOnSynchronousPlatformIOAccess` for a closer\n    // to ideal implementation\n    abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n    // It is important that we set this tracking value after aborting. Aborts are executed\n    // synchronously except for the case where you abort during render itself. By setting this\n    // value late we can use it to determine if any of the aborted tasks are the task that\n    // called the sync IO expression in the first place.\n    const dynamicTracking = prerenderStore.dynamicTracking\n    if (dynamicTracking) {\n      if (dynamicTracking.syncDynamicErrorWithStack === null) {\n        dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n      }\n    }\n  }\n  throw createPrerenderInterruptedError(\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n  )\n}\n\n/**\n * This component will call `React.postpone` that throws the postponed error.\n */\ntype PostponeProps = {\n  reason: string\n  route: string\n}\nexport function Postpone({ reason, route }: PostponeProps): never {\n  const prerenderStore = workUnitAsyncStorage.getStore()\n  const dynamicTracking =\n    prerenderStore && prerenderStore.type === 'prerender-ppr'\n      ? prerenderStore.dynamicTracking\n      : null\n  postponeWithTracking(route, reason, dynamicTracking)\n}\n\nexport function postponeWithTracking(\n  route: string,\n  expression: string,\n  dynamicTracking: null | DynamicTrackingState\n): never {\n  assertPostpone()\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n\n  React.unstable_postpone(createPostponeReason(route, expression))\n}\n\nfunction createPostponeReason(route: string, expression: string) {\n  return (\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}. ` +\n    `React throws this special object to indicate where. It should not be caught by ` +\n    `your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`\n  )\n}\n\nexport function isDynamicPostpone(err: unknown) {\n  if (\n    typeof err === 'object' &&\n    err !== null &&\n    typeof (err as any).message === 'string'\n  ) {\n    return isDynamicPostponeReason((err as any).message)\n  }\n  return false\n}\n\nfunction isDynamicPostponeReason(reason: string) {\n  return (\n    reason.includes(\n      'needs to bail out of prerendering at this point because it used'\n    ) &&\n    reason.includes(\n      'Learn more: https://nextjs.org/docs/messages/ppr-caught-error'\n    )\n  )\n}\n\nif (isDynamicPostponeReason(createPostponeReason('%%%', '^^^')) === false) {\n  throw new Error(\n    'Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js'\n  )\n}\n\nconst NEXT_PRERENDER_INTERRUPTED = 'NEXT_PRERENDER_INTERRUPTED'\n\nfunction createPrerenderInterruptedError(message: string): Error {\n  const error = new Error(message)\n  ;(error as any).digest = NEXT_PRERENDER_INTERRUPTED\n  return error\n}\n\ntype DigestError = Error & {\n  digest: string\n}\n\nexport function isPrerenderInterruptedError(\n  error: unknown\n): error is DigestError {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    (error as any).digest === NEXT_PRERENDER_INTERRUPTED &&\n    'name' in error &&\n    'message' in error &&\n    error instanceof Error\n  )\n}\n\nexport function accessedDynamicData(\n  dynamicAccesses: Array<DynamicAccess>\n): boolean {\n  return dynamicAccesses.length > 0\n}\n\nexport function consumeDynamicAccess(\n  serverDynamic: DynamicTrackingState,\n  clientDynamic: DynamicTrackingState\n): DynamicTrackingState['dynamicAccesses'] {\n  // We mutate because we only call this once we are no longer writing\n  // to the dynamicTrackingState and it's more efficient than creating a new\n  // array.\n  serverDynamic.dynamicAccesses.push(...clientDynamic.dynamicAccesses)\n  return serverDynamic.dynamicAccesses\n}\n\nexport function formatDynamicAPIAccesses(\n  dynamicAccesses: Array<DynamicAccess>\n): string[] {\n  return dynamicAccesses\n    .filter(\n      (access): access is Required<DynamicAccess> =>\n        typeof access.stack === 'string' && access.stack.length > 0\n    )\n    .map(({ expression, stack }) => {\n      stack = stack\n        .split('\\n')\n        // Remove the \"Error: \" prefix from the first line of the stack trace as\n        // well as the first 4 lines of the stack trace which is the distance\n        // from the user code and the `new Error().stack` call.\n        .slice(4)\n        .filter((line) => {\n          // Exclude Next.js internals from the stack trace.\n          if (line.includes('node_modules/next/')) {\n            return false\n          }\n\n          // Exclude anonymous functions from the stack trace.\n          if (line.includes(' (<anonymous>)')) {\n            return false\n          }\n\n          // Exclude Node.js internals from the stack trace.\n          if (line.includes(' (node:')) {\n            return false\n          }\n\n          return true\n        })\n        .join('\\n')\n      return `Dynamic API Usage Debug - ${expression}:\\n${stack}`\n    })\n}\n\nfunction assertPostpone() {\n  if (!hasPostpone) {\n    throw new Error(\n      `Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js`\n    )\n  }\n}\n\n/**\n * This is a bit of a hack to allow us to abort a render using a Postpone instance instead of an Error which changes React's\n * abort semantics slightly.\n */\nexport function createRenderInBrowserAbortSignal(): AbortSignal {\n  const controller = new AbortController()\n  controller.abort(new BailoutToCSRError('Render in Browser'))\n  return controller.signal\n}\n\n/**\n * In a prerender, we may end up with hanging Promises as inputs due them\n * stalling on connection() or because they're loading dynamic data. In that\n * case we need to abort the encoding of arguments since they'll never complete.\n */\nexport function createHangingInputAbortSignal(\n  workUnitStore: WorkUnitStore\n): AbortSignal | undefined {\n  switch (workUnitStore.type) {\n    case 'prerender':\n    case 'prerender-runtime':\n      const controller = new AbortController()\n\n      if (workUnitStore.cacheSignal) {\n        // If we have a cacheSignal it means we're in a prospective render. If\n        // the input we're waiting on is coming from another cache, we do want\n        // to wait for it so that we can resolve this cache entry too.\n        workUnitStore.cacheSignal.inputReady().then(() => {\n          controller.abort()\n        })\n      } else {\n        // Otherwise we're in the final render and we should already have all\n        // our caches filled.\n        // If the prerender uses stages, we have wait until the runtime stage,\n        // at which point all runtime inputs will be resolved.\n        // (otherwise, a runtime prerender might consider `cookies()` hanging\n        //  even though they'd resolve in the next task.)\n        //\n        // We might still be waiting on some microtasks so we\n        // wait one tick before giving up. When we give up, we still want to\n        // render the content of this cache as deeply as we can so that we can\n        // suspend as deeply as possible in the tree or not at all if we don't\n        // end up waiting for the input.\n        const runtimeStagePromise = getRuntimeStagePromise(workUnitStore)\n        if (runtimeStagePromise) {\n          runtimeStagePromise.then(() =>\n            scheduleOnNextTick(() => controller.abort())\n          )\n        } else {\n          scheduleOnNextTick(() => controller.abort())\n        }\n      }\n\n      return controller.signal\n    case 'prerender-client':\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n    case 'request':\n    case 'cache':\n    case 'private-cache':\n    case 'unstable-cache':\n      return undefined\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nexport function annotateDynamicAccess(\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n) {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function useDynamicRouteParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workStore && workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-client':\n      case 'prerender': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n\n        if (fallbackParams && fallbackParams.size > 0) {\n          // We are in a prerender with cacheComponents semantics. We are going to\n          // hang here and never resolve. This will cause the currently\n          // rendering component to effectively be a dynamic hole.\n          React.use(\n            makeHangingPromise(\n              workUnitStore.renderSignal,\n              workStore.route,\n              expression\n            )\n          )\n        }\n        break\n      }\n      case 'prerender-ppr': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n        if (fallbackParams && fallbackParams.size > 0) {\n          return postponeWithTracking(\n            workStore.route,\n            expression,\n            workUnitStore.dynamicTracking\n          )\n        }\n        break\n      }\n      case 'prerender-runtime':\n        throw new InvariantError(\n          `\\`${expression}\\` was called during a runtime prerender. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'cache':\n      case 'private-cache':\n        throw new InvariantError(\n          `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'prerender-legacy':\n      case 'request':\n      case 'unstable-cache':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\nexport function useDynamicSearchParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (!workStore) {\n    // We assume pages router context and just return\n    return\n  }\n\n  if (!workUnitStore) {\n    throwForMissingRequestStore(expression)\n  }\n\n  switch (workUnitStore.type) {\n    case 'prerender-client': {\n      React.use(\n        makeHangingPromise(\n          workUnitStore.renderSignal,\n          workStore.route,\n          expression\n        )\n      )\n      break\n    }\n    case 'prerender-legacy':\n    case 'prerender-ppr': {\n      if (workStore.forceStatic) {\n        return\n      }\n      throw new BailoutToCSRError(expression)\n    }\n    case 'prerender':\n    case 'prerender-runtime':\n      throw new InvariantError(\n        `\\`${expression}\\` was called from a Server Component. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n      )\n    case 'cache':\n    case 'unstable-cache':\n    case 'private-cache':\n      throw new InvariantError(\n        `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n      )\n    case 'request':\n      return\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nconst hasSuspenseRegex = /\\n\\s+at Suspense \\(<anonymous>\\)/\n\n// Common implicit body tags that React will treat as body when placed directly in html\nconst bodyAndImplicitTags =\n  'body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6'\n\n// Detects when RootLayoutBoundary (our framework marker component) appears\n// after Suspense in the component stack, indicating the root layout is wrapped\n// within a Suspense boundary. Ensures no body/html/implicit-body components are in between.\n//\n// Example matches:\n//   at Suspense (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\n//\n// Or with other components in between (but not body/html/implicit-body):\n//   at Suspense (<anonymous>)\n//   at SomeComponent (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\nconst hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex = new RegExp(\n  `\\\\n\\\\s+at Suspense \\\\(<anonymous>\\\\)(?:(?!\\\\n\\\\s+at (?:${bodyAndImplicitTags}) \\\\(<anonymous>\\\\))[\\\\s\\\\S])*?\\\\n\\\\s+at ${ROOT_LAYOUT_BOUNDARY_NAME} \\\\([^\\\\n]*\\\\)`\n)\n\nconst hasMetadataRegex = new RegExp(\n  `\\\\n\\\\s+at ${METADATA_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasViewportRegex = new RegExp(\n  `\\\\n\\\\s+at ${VIEWPORT_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasOutletRegex = new RegExp(`\\\\n\\\\s+at ${OUTLET_BOUNDARY_NAME}[\\\\n\\\\s]`)\n\nexport function trackAllowedDynamicAccess(\n  workStore: WorkStore,\n  componentStack: string,\n  dynamicValidation: DynamicValidationState,\n  clientDynamic: DynamicTrackingState\n) {\n  if (hasOutletRegex.test(componentStack)) {\n    // We don't need to track that this is dynamic. It is only so when something else is also dynamic.\n    return\n  } else if (hasMetadataRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicMetadata = true\n    return\n  } else if (hasViewportRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicViewport = true\n    return\n  } else if (\n    hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex.test(\n      componentStack\n    )\n  ) {\n    // For Suspense within body, the prelude wouldn't be empty so it wouldn't violate the empty static shells rule.\n    // But if you have Suspense above body, the prelude is empty but we allow that because having Suspense\n    // is an explicit signal from the user that they acknowledge the empty shell and want dynamic rendering.\n    dynamicValidation.hasAllowedDynamic = true\n    dynamicValidation.hasSuspenseAboveBody = true\n    return\n  } else if (hasSuspenseRegex.test(componentStack)) {\n    // this error had a Suspense boundary above it so we don't need to report it as a source\n    // of disallowed\n    dynamicValidation.hasAllowedDynamic = true\n    return\n  } else if (clientDynamic.syncDynamicErrorWithStack) {\n    // This task was the task that called the sync error.\n    dynamicValidation.dynamicErrors.push(\n      clientDynamic.syncDynamicErrorWithStack\n    )\n    return\n  } else {\n    const message =\n      `Route \"${workStore.route}\": Uncached data was accessed outside of ` +\n      '<Suspense>. This delays the entire page from rendering, resulting in a ' +\n      'slow user experience. Learn more: ' +\n      'https://nextjs.org/docs/messages/blocking-route'\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicErrors.push(error)\n    return\n  }\n}\n\n/**\n * In dev mode, we prefer using the owner stack, otherwise the provided\n * component stack is used.\n */\nfunction createErrorWithComponentOrOwnerStack(\n  message: string,\n  componentStack: string\n) {\n  const ownerStack =\n    process.env.NODE_ENV !== 'production' && React.captureOwnerStack\n      ? React.captureOwnerStack()\n      : null\n\n  const error = new Error(message)\n  error.stack = error.name + ': ' + message + (ownerStack ?? componentStack)\n  return error\n}\n\nexport enum PreludeState {\n  Full = 0,\n  Empty = 1,\n  Errored = 2,\n}\n\nexport function logDisallowedDynamicError(\n  workStore: WorkStore,\n  error: Error\n): void {\n  console.error(error)\n\n  if (!workStore.dev) {\n    if (workStore.hasReadableErrorStacks) {\n      console.error(\n        `To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.`\n      )\n    } else {\n      console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:\n  - Start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.\n  - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.`)\n    }\n  }\n}\n\nexport function throwIfDisallowedDynamic(\n  workStore: WorkStore,\n  prelude: PreludeState,\n  dynamicValidation: DynamicValidationState,\n  serverDynamic: DynamicTrackingState\n): void {\n  if (serverDynamic.syncDynamicErrorWithStack) {\n    logDisallowedDynamicError(\n      workStore,\n      serverDynamic.syncDynamicErrorWithStack\n    )\n    throw new StaticGenBailoutError()\n  }\n\n  if (prelude !== PreludeState.Full) {\n    if (dynamicValidation.hasSuspenseAboveBody) {\n      // This route has opted into allowing fully dynamic rendering\n      // by including a Suspense boundary above the body. In this case\n      // a lack of a shell is not considered disallowed so we simply return\n      return\n    }\n\n    // We didn't have any sync bailouts but there may be user code which\n    // blocked the root. We would have captured these during the prerender\n    // and can log them here and then terminate the build/validating render\n    const dynamicErrors = dynamicValidation.dynamicErrors\n    if (dynamicErrors.length > 0) {\n      for (let i = 0; i < dynamicErrors.length; i++) {\n        logDisallowedDynamicError(workStore, dynamicErrors[i])\n      }\n\n      throw new StaticGenBailoutError()\n    }\n\n    // If we got this far then the only other thing that could be blocking\n    // the root is dynamic Viewport. If this is dynamic then\n    // you need to opt into that by adding a Suspense boundary above the body\n    // to indicate your are ok with fully dynamic rendering.\n    if (dynamicValidation.hasDynamicViewport) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateViewport\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`\n      )\n      throw new StaticGenBailoutError()\n    }\n\n    if (prelude === PreludeState.Empty) {\n      // If we ever get this far then we messed up the tracking of invalid dynamic.\n      // We still adhere to the constraint that you must produce a shell but invite the\n      // user to report this as a bug in Next.js.\n      console.error(\n        `Route \"${workStore.route}\" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`\n      )\n      throw new StaticGenBailoutError()\n    }\n  } else {\n    if (\n      dynamicValidation.hasAllowedDynamic === false &&\n      dynamicValidation.hasDynamicMetadata\n    ) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateMetadata\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`\n      )\n      throw new StaticGenBailoutError()\n    }\n  }\n}\n\nexport function delayUntilRuntimeStage<T>(\n  prerenderStore: PrerenderStoreModernRuntime,\n  result: Promise<T>\n): Promise<T> {\n  if (prerenderStore.runtimeStagePromise) {\n    return prerenderStore.runtimeStagePromise.then(() => result)\n  }\n  return result\n}\n"],"names":["Postpone","PreludeState","abortAndThrowOnSynchronousRequestDataAccess","abortOnSynchronousPlatformIOAccess","accessedDynamicData","annotateDynamicAccess","consumeDynamicAccess","createDynamicTrackingState","createDynamicValidationState","createHangingInputAbortSignal","createRenderInBrowserAbortSignal","delayUntilRuntimeStage","formatDynamicAPIAccesses","getFirstDynamicReason","isDynamicPostpone","isPrerenderInterruptedError","logDisallowedDynamicError","markCurrentScopeAsDynamic","postponeWithTracking","throwIfDisallowedDynamic","throwToInterruptStaticGeneration","trackAllowedDynamicAccess","trackDynamicDataInDynamicRender","trackSynchronousPlatformIOAccessInDev","useDynamicRouteParams","useDynamicSearchParams","hasPostpone","React","unstable_postpone","isDebugDynamicAccesses","dynamicAccesses","syncDynamicErrorWithStack","hasSuspenseAboveBody","hasDynamicMetadata","hasDynamicViewport","hasAllowedDynamic","dynamicErrors","trackingState","expression","store","workUnitStore","type","forceDynamic","forceStatic","dynamicShouldError","StaticGenBailoutError","route","dynamicTracking","revalidate","err","DynamicServerError","dynamicUsageDescription","dynamicUsageStack","stack","process","env","NODE_ENV","usedDynamic","prerenderStore","abortOnSynchronousDynamicDataAccess","reason","error","createPrerenderInterruptedError","controller","abort","push","Error","undefined","errorWithStack","requestStore","stagedRendering","advanceStage","RenderStage","Dynamic","prerenderSignal","signal","aborted","workUnitAsyncStorage","getStore","assertPostpone","createPostponeReason","message","isDynamicPostponeReason","includes","NEXT_PRERENDER_INTERRUPTED","digest","length","serverDynamic","clientDynamic","filter","access","map","split","slice","line","join","AbortController","BailoutToCSRError","cacheSignal","inputReady","then","runtimeStagePromise","getRuntimeStagePromise","scheduleOnNextTick","workStore","workAsyncStorage","fallbackParams","fallbackRouteParams","size","use","makeHangingPromise","renderSignal","InvariantError","throwForMissingRequestStore","hasSuspenseRegex","bodyAndImplicitTags","hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex","RegExp","ROOT_LAYOUT_BOUNDARY_NAME","hasMetadataRegex","METADATA_BOUNDARY_NAME","hasViewportRegex","VIEWPORT_BOUNDARY_NAME","hasOutletRegex","OUTLET_BOUNDARY_NAME","componentStack","dynamicValidation","test","createErrorWithComponentOrOwnerStack","ownerStack","captureOwnerStack","name","console","dev","hasReadableErrorStacks","prelude","i","result"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3695, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/unstable-rethrow.server.ts"],"sourcesContent":["import { isHangingPromiseRejectionError } from '../../server/dynamic-rendering-utils'\nimport { isPostpone } from '../../server/lib/router-utils/is-postpone'\nimport { isBailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { isNextRouterError } from './is-next-router-error'\nimport {\n  isDynamicPostpone,\n  isPrerenderInterruptedError,\n} from '../../server/app-render/dynamic-rendering'\nimport { isDynamicServerError } from './hooks-server-context'\n\nexport function unstable_rethrow(error: unknown): void {\n  if (\n    isNextRouterError(error) ||\n    isBailoutToCSRError(error) ||\n    isDynamicServerError(error) ||\n    isDynamicPostpone(error) ||\n    isPostpone(error) ||\n    isHangingPromiseRejectionError(error) ||\n    isPrerenderInterruptedError(error)\n  ) {\n    throw error\n  }\n\n  if (error instanceof Error && 'cause' in error) {\n    unstable_rethrow(error.cause)\n  }\n}\n"],"names":["unstable_rethrow","error","isNextRouterError","isBailoutToCSRError","isDynamicServerError","isDynamicPostpone","isPostpone","isHangingPromiseRejectionError","isPrerenderInterruptedError","Error","cause"],"mappings":";;;+BAUgBA,oBAAAA;;;eAAAA;;;uCAV+B;4BACpB;8BACS;mCACF;kCAI3B;oCAC8B;AAE9B,SAASA,iBAAiBC,KAAc;IAC7C,IACEC,CAAAA,GAAAA,mBAAAA,iBAAiB,EAACD,UAClBE,CAAAA,GAAAA,cAAAA,mBAAmB,EAACF,UACpBG,CAAAA,GAAAA,oBAAAA,oBAAoB,EAACH,UACrBI,CAAAA,GAAAA,kBAAAA,iBAAiB,EAACJ,UAClBK,CAAAA,GAAAA,YAAAA,UAAU,EAACL,UACXM,CAAAA,GAAAA,uBAAAA,8BAA8B,EAACN,UAC/BO,CAAAA,GAAAA,kBAAAA,2BAA2B,EAACP,QAC5B;QACA,MAAMA;IACR;IAEA,IAAIA,iBAAiBQ,SAAS,WAAWR,OAAO;QAC9CD,iBAAiBC,MAAMS,KAAK;IAC9B;AACF","ignoreList":[0]}},
    {"offset": {"line": 3729, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/unstable-rethrow.ts"],"sourcesContent":["/**\n * This function should be used to rethrow internal Next.js errors so that they can be handled by the framework.\n * When wrapping an API that uses errors to interrupt control flow, you should use this function before you do any error handling.\n * This function will rethrow the error if it is a Next.js error so it can be handled, otherwise it will do nothing.\n *\n * Read more: [Next.js Docs: `unstable_rethrow`](https://nextjs.org/docs/app/api-reference/functions/unstable_rethrow)\n */\nexport const unstable_rethrow =\n  typeof window === 'undefined'\n    ? (\n        require('./unstable-rethrow.server') as typeof import('./unstable-rethrow.server')\n      ).unstable_rethrow\n    : (\n        require('./unstable-rethrow.browser') as typeof import('./unstable-rethrow.browser')\n      ).unstable_rethrow\n"],"names":["unstable_rethrow","window","require"],"mappings":"AAAA;;;;;;CAMC;;;+BACYA,oBAAAA;;;eAAAA;;;AAAN,MAAMA,mBACX,OAAOC,WAAW,qBAEZC,QAAQ,wHACRF,gBAAgB,GAEhBE,QAAQ,8BACRF,gBAAgB","ignoreList":[0]}},
    {"offset": {"line": 3756, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/navigation.react-server.ts"],"sourcesContent":["import { ReadonlyURLSearchParams } from './readonly-url-search-params'\n\nexport function unstable_isUnrecognizedActionError(): boolean {\n  throw new Error(\n    '`unstable_isUnrecognizedActionError` can only be used on the client.'\n  )\n}\n\nexport { redirect, permanentRedirect } from './redirect'\nexport { RedirectType } from './redirect-error'\nexport { notFound } from './not-found'\nexport { forbidden } from './forbidden'\nexport { unauthorized } from './unauthorized'\nexport { unstable_rethrow } from './unstable-rethrow'\nexport { ReadonlyURLSearchParams }\n"],"names":["ReadonlyURLSearchParams","RedirectType","forbidden","notFound","permanentRedirect","redirect","unauthorized","unstable_isUnrecognizedActionError","unstable_rethrow","Error"],"mappings":";;;;;;;;;;;;;;;;;;;;;IAcSA,uBAAuB,EAAA;eAAvBA,yBAAAA,uBAAuB;;IALvBC,YAAY,EAAA;eAAZA,eAAAA,YAAY;;IAEZC,SAAS,EAAA;eAATA,WAAAA,SAAS;;IADTC,QAAQ,EAAA;eAARA,UAAAA,QAAQ;;IAFEC,iBAAiB,EAAA;eAAjBA,UAAAA,iBAAiB;;IAA3BC,QAAQ,EAAA;eAARA,UAAAA,QAAQ;;IAIRC,YAAY,EAAA;eAAZA,cAAAA,YAAY;;IAVLC,kCAAkC,EAAA;eAAlCA;;IAWPC,gBAAgB,EAAA;eAAhBA,iBAAAA,gBAAgB;;;yCAbe;0BAQI;+BACf;0BACJ;2BACC;8BACG;iCACI;AAX1B,SAASD;IACd,MAAM,OAAA,cAEL,CAFK,IAAIE,MACR,yEADI,qBAAA;eAAA;oBAAA;sBAAA;IAEN;AACF","ignoreList":[0]}},
    {"offset": {"line": 3830, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/src/client/components/navigation.ts"],"sourcesContent":["import type { Params } from '../../server/request/params'\n\nimport React, { useContext, useMemo, use } from 'react'\nimport {\n  AppRouterContext,\n  LayoutRouterContext,\n  type AppRouterInstance,\n} from '../../shared/lib/app-router-context.shared-runtime'\nimport {\n  SearchParamsContext,\n  PathnameContext,\n  PathParamsContext,\n  NavigationPromisesContext,\n} from '../../shared/lib/hooks-client-context.shared-runtime'\nimport {\n  computeSelectedLayoutSegment,\n  getSelectedLayoutSegmentPath,\n} from '../../shared/lib/segment'\nimport { ReadonlyURLSearchParams } from './readonly-url-search-params'\n\nconst useDynamicRouteParams =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/dynamic-rendering') as typeof import('../../server/app-render/dynamic-rendering')\n      ).useDynamicRouteParams\n    : undefined\n\nconst useDynamicSearchParams =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/dynamic-rendering') as typeof import('../../server/app-render/dynamic-rendering')\n      ).useDynamicSearchParams\n    : undefined\n\n/**\n * A [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components) hook\n * that lets you *read* the current URL's search parameters.\n *\n * Learn more about [`URLSearchParams` on MDN](https://developer.mozilla.org/docs/Web/API/URLSearchParams)\n *\n * @example\n * ```ts\n * \"use client\"\n * import { useSearchParams } from 'next/navigation'\n *\n * export default function Page() {\n *   const searchParams = useSearchParams()\n *   searchParams.get('foo') // returns 'bar' when ?foo=bar\n *   // ...\n * }\n * ```\n *\n * Read more: [Next.js Docs: `useSearchParams`](https://nextjs.org/docs/app/api-reference/functions/use-search-params)\n */\n// Client components API\nexport function useSearchParams(): ReadonlyURLSearchParams {\n  useDynamicSearchParams?.('useSearchParams()')\n\n  const searchParams = useContext(SearchParamsContext)\n\n  // In the case where this is `null`, the compat types added in\n  // `next-env.d.ts` will add a new overload that changes the return type to\n  // include `null`.\n  const readonlySearchParams = useMemo(() => {\n    if (!searchParams) {\n      // When the router is not ready in pages, we won't have the search params\n      // available.\n      return null\n    }\n\n    return new ReadonlyURLSearchParams(searchParams)\n  }, [searchParams]) as ReadonlyURLSearchParams\n\n  // Instrument with Suspense DevTools (dev-only)\n  if (process.env.NODE_ENV !== 'production' && 'use' in React) {\n    const navigationPromises = use(NavigationPromisesContext)\n    if (navigationPromises) {\n      return use(navigationPromises.searchParams)\n    }\n  }\n\n  return readonlySearchParams\n}\n\n/**\n * A [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components) hook\n * that lets you read the current URL's pathname.\n *\n * @example\n * ```ts\n * \"use client\"\n * import { usePathname } from 'next/navigation'\n *\n * export default function Page() {\n *  const pathname = usePathname() // returns \"/dashboard\" on /dashboard?foo=bar\n *  // ...\n * }\n * ```\n *\n * Read more: [Next.js Docs: `usePathname`](https://nextjs.org/docs/app/api-reference/functions/use-pathname)\n */\n// Client components API\nexport function usePathname(): string {\n  useDynamicRouteParams?.('usePathname()')\n\n  // In the case where this is `null`, the compat types added in `next-env.d.ts`\n  // will add a new overload that changes the return type to include `null`.\n  const pathname = useContext(PathnameContext) as string\n\n  // Instrument with Suspense DevTools (dev-only)\n  if (process.env.NODE_ENV !== 'production' && 'use' in React) {\n    const navigationPromises = use(NavigationPromisesContext)\n    if (navigationPromises) {\n      return use(navigationPromises.pathname)\n    }\n  }\n\n  return pathname\n}\n\n// Client components API\nexport {\n  ServerInsertedHTMLContext,\n  useServerInsertedHTML,\n} from '../../shared/lib/server-inserted-html.shared-runtime'\n\n/**\n *\n * This hook allows you to programmatically change routes inside [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components).\n *\n * @example\n * ```ts\n * \"use client\"\n * import { useRouter } from 'next/navigation'\n *\n * export default function Page() {\n *  const router = useRouter()\n *  // ...\n *  router.push('/dashboard') // Navigate to /dashboard\n * }\n * ```\n *\n * Read more: [Next.js Docs: `useRouter`](https://nextjs.org/docs/app/api-reference/functions/use-router)\n */\n// Client components API\nexport function useRouter(): AppRouterInstance {\n  const router = useContext(AppRouterContext)\n  if (router === null) {\n    throw new Error('invariant expected app router to be mounted')\n  }\n\n  return router\n}\n\n/**\n * A [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components) hook\n * that lets you read a route's dynamic params filled in by the current URL.\n *\n * @example\n * ```ts\n * \"use client\"\n * import { useParams } from 'next/navigation'\n *\n * export default function Page() {\n *   // on /dashboard/[team] where pathname is /dashboard/nextjs\n *   const { team } = useParams() // team === \"nextjs\"\n * }\n * ```\n *\n * Read more: [Next.js Docs: `useParams`](https://nextjs.org/docs/app/api-reference/functions/use-params)\n */\n// Client components API\nexport function useParams<T extends Params = Params>(): T {\n  useDynamicRouteParams?.('useParams()')\n\n  const params = useContext(PathParamsContext) as T\n\n  // Instrument with Suspense DevTools (dev-only)\n  if (process.env.NODE_ENV !== 'production' && 'use' in React) {\n    const navigationPromises = use(NavigationPromisesContext)\n    if (navigationPromises) {\n      return use(navigationPromises.params) as T\n    }\n  }\n\n  return params\n}\n\n/**\n * A [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components) hook\n * that lets you read the active route segments **below** the Layout it is called from.\n *\n * @example\n * ```ts\n * 'use client'\n *\n * import { useSelectedLayoutSegments } from 'next/navigation'\n *\n * export default function ExampleClientComponent() {\n *   const segments = useSelectedLayoutSegments()\n *\n *   return (\n *     <ul>\n *       {segments.map((segment, index) => (\n *         <li key={index}>{segment}</li>\n *       ))}\n *     </ul>\n *   )\n * }\n * ```\n *\n * Read more: [Next.js Docs: `useSelectedLayoutSegments`](https://nextjs.org/docs/app/api-reference/functions/use-selected-layout-segments)\n */\n// Client components API\nexport function useSelectedLayoutSegments(\n  parallelRouteKey: string = 'children'\n): string[] {\n  useDynamicRouteParams?.('useSelectedLayoutSegments()')\n\n  const context = useContext(LayoutRouterContext)\n  // @ts-expect-error This only happens in `pages`. Type is overwritten in navigation.d.ts\n  if (!context) return null\n\n  // Instrument with Suspense DevTools (dev-only)\n  if (process.env.NODE_ENV !== 'production' && 'use' in React) {\n    const navigationPromises = use(NavigationPromisesContext)\n    if (navigationPromises) {\n      const promise =\n        navigationPromises.selectedLayoutSegmentsPromises?.get(parallelRouteKey)\n      if (promise) {\n        // We should always have a promise here, but if we don't, it's not worth erroring over.\n        // We just won't be able to instrument it, but can still provide the value.\n        return use(promise)\n      }\n    }\n  }\n\n  return getSelectedLayoutSegmentPath(context.parentTree, parallelRouteKey)\n}\n\n/**\n * A [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components) hook\n * that lets you read the active route segment **one level below** the Layout it is called from.\n *\n * @example\n * ```ts\n * 'use client'\n * import { useSelectedLayoutSegment } from 'next/navigation'\n *\n * export default function ExampleClientComponent() {\n *   const segment = useSelectedLayoutSegment()\n *\n *   return <p>Active segment: {segment}</p>\n * }\n * ```\n *\n * Read more: [Next.js Docs: `useSelectedLayoutSegment`](https://nextjs.org/docs/app/api-reference/functions/use-selected-layout-segment)\n */\n// Client components API\nexport function useSelectedLayoutSegment(\n  parallelRouteKey: string = 'children'\n): string | null {\n  useDynamicRouteParams?.('useSelectedLayoutSegment()')\n  const navigationPromises = useContext(NavigationPromisesContext)\n  const selectedLayoutSegments = useSelectedLayoutSegments(parallelRouteKey)\n\n  // Instrument with Suspense DevTools (dev-only)\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    navigationPromises &&\n    'use' in React\n  ) {\n    const promise =\n      navigationPromises.selectedLayoutSegmentPromises?.get(parallelRouteKey)\n    if (promise) {\n      // We should always have a promise here, but if we don't, it's not worth erroring over.\n      // We just won't be able to instrument it, but can still provide the value.\n      return use(promise)\n    }\n  }\n\n  return computeSelectedLayoutSegment(selectedLayoutSegments, parallelRouteKey)\n}\n\nexport { unstable_isUnrecognizedActionError } from './unrecognized-action-error'\n\n// Shared components APIs\nexport {\n  notFound,\n  forbidden,\n  unauthorized,\n  redirect,\n  permanentRedirect,\n  RedirectType,\n  ReadonlyURLSearchParams,\n  unstable_rethrow,\n} from './navigation.react-server'\n"],"names":["ReadonlyURLSearchParams","RedirectType","ServerInsertedHTMLContext","forbidden","notFound","permanentRedirect","redirect","unauthorized","unstable_isUnrecognizedActionError","unstable_rethrow","useParams","usePathname","useRouter","useSearchParams","useSelectedLayoutSegment","useSelectedLayoutSegments","useServerInsertedHTML","useDynamicRouteParams","window","require","undefined","useDynamicSearchParams","searchParams","useContext","SearchParamsContext","readonlySearchParams","useMemo","process","env","NODE_ENV","React","navigationPromises","use","NavigationPromisesContext","pathname","PathnameContext","router","AppRouterContext","Error","params","PathParamsContext","parallelRouteKey","context","LayoutRouterContext","promise","selectedLayoutSegmentsPromises","get","getSelectedLayoutSegmentPath","parentTree","selectedLayoutSegments","selectedLayoutSegmentPromises","computeSelectedLayoutSegment"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4028, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}