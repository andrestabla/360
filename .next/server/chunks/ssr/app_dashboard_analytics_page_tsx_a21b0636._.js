module.exports=[17372,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(9524),e=a.i(10158),f=a.i(64714),g=a.i(60917),h=a.i(46727),i=a.i(3043),j=a.i(86743),k=a.i(78407),l=a.i(8798),m=a.i(39321),n=a.i(31815),o=a.i(60217);let p=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M199,125.31l-49.88-18.39L130.69,57a19.92,19.92,0,0,0-37.38,0L74.92,106.92,25,125.31a19.92,19.92,0,0,0,0,37.38l49.88,18.39L93.31,231a19.92,19.92,0,0,0,37.38,0l18.39-49.88L199,162.69a19.92,19.92,0,0,0,0-37.38Zm-63.38,35.16a12,12,0,0,0-7.11,7.11L112,212.28l-16.47-44.7a12,12,0,0,0-7.11-7.11L43.72,144l44.7-16.47a12,12,0,0,0,7.11-7.11L112,75.72l16.47,44.7a12,12,0,0,0,7.11,7.11L180.28,144ZM140,40a12,12,0,0,1,12-12h12V16a12,12,0,0,1,24,0V28h12a12,12,0,0,1,0,24H188V64a12,12,0,0,1-24,0V52H152A12,12,0,0,1,140,40ZM252,88a12,12,0,0,1-12,12h-4v4a12,12,0,0,1-24,0v-4h-4a12,12,0,0,1,0-24h4V72a12,12,0,0,1,24,0v4h4A12,12,0,0,1,252,88Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M194.82,151.43l-55.09,20.3-20.3,55.09a7.92,7.92,0,0,1-14.86,0l-20.3-55.09-55.09-20.3a7.92,7.92,0,0,1,0-14.86l55.09-20.3,20.3-55.09a7.92,7.92,0,0,1,14.86,0l20.3,55.09,55.09,20.3A7.92,7.92,0,0,1,194.82,151.43Z",opacity:"0.2"}),c.createElement("path",{d:"M197.58,129.06,146,110l-19-51.62a15.92,15.92,0,0,0-29.88,0L78,110l-51.62,19a15.92,15.92,0,0,0,0,29.88L78,178l19,51.62a15.92,15.92,0,0,0,29.88,0L146,178l51.62-19a15.92,15.92,0,0,0,0-29.88ZM137,164.22a8,8,0,0,0-4.74,4.74L112,223.85,91.78,169A8,8,0,0,0,87,164.22L32.15,144,87,123.78A8,8,0,0,0,91.78,119L112,64.15,132.22,119a8,8,0,0,0,4.74,4.74L191.85,144ZM144,40a8,8,0,0,1,8-8h16V16a8,8,0,0,1,16,0V32h16a8,8,0,0,1,0,16H184V64a8,8,0,0,1-16,0V48H152A8,8,0,0,1,144,40ZM248,88a8,8,0,0,1-8,8h-8v8a8,8,0,0,1-16,0V96h-8a8,8,0,0,1,0-16h8V72a8,8,0,0,1,16,0v8h8A8,8,0,0,1,248,88Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M208,144a15.78,15.78,0,0,1-10.42,14.94L146,178l-19,51.62a15.92,15.92,0,0,1-29.88,0L78,178l-51.62-19a15.92,15.92,0,0,1,0-29.88L78,110l19-51.62a15.92,15.92,0,0,1,29.88,0L146,110l51.62,19A15.78,15.78,0,0,1,208,144ZM152,48h16V64a8,8,0,0,0,16,0V48h16a8,8,0,0,0,0-16H184V16a8,8,0,0,0-16,0V32H152a8,8,0,0,0,0,16Zm88,32h-8V72a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0V96h8a8,8,0,0,0,0-16Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M196.89,130.94,144.4,111.6,125.06,59.11a13.92,13.92,0,0,0-26.12,0L79.6,111.6,27.11,130.94a13.92,13.92,0,0,0,0,26.12L79.6,176.4l19.34,52.49a13.92,13.92,0,0,0,26.12,0L144.4,176.4l52.49-19.34a13.92,13.92,0,0,0,0-26.12Zm-4.15,14.86-55.08,20.3a6,6,0,0,0-3.56,3.56l-20.3,55.08a1.92,1.92,0,0,1-3.6,0L89.9,169.66a6,6,0,0,0-3.56-3.56L31.26,145.8a1.92,1.92,0,0,1,0-3.6l55.08-20.3a6,6,0,0,0,3.56-3.56l20.3-55.08a1.92,1.92,0,0,1,3.6,0l20.3,55.08a6,6,0,0,0,3.56,3.56l55.08,20.3a1.92,1.92,0,0,1,0,3.6ZM146,40a6,6,0,0,1,6-6h18V16a6,6,0,0,1,12,0V34h18a6,6,0,0,1,0,12H182V64a6,6,0,0,1-12,0V46H152A6,6,0,0,1,146,40ZM246,88a6,6,0,0,1-6,6H230v10a6,6,0,0,1-12,0V94H208a6,6,0,0,1,0-12h10V72a6,6,0,0,1,12,0V82h10A6,6,0,0,1,246,88Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M197.58,129.06,146,110l-19-51.62a15.92,15.92,0,0,0-29.88,0L78,110l-51.62,19a15.92,15.92,0,0,0,0,29.88L78,178l19,51.62a15.92,15.92,0,0,0,29.88,0L146,178l51.62-19a15.92,15.92,0,0,0,0-29.88ZM137,164.22a8,8,0,0,0-4.74,4.74L112,223.85,91.78,169A8,8,0,0,0,87,164.22L32.15,144,87,123.78A8,8,0,0,0,91.78,119L112,64.15,132.22,119a8,8,0,0,0,4.74,4.74L191.85,144ZM144,40a8,8,0,0,1,8-8h16V16a8,8,0,0,1,16,0V32h16a8,8,0,0,1,0,16H184V64a8,8,0,0,1-16,0V48H152A8,8,0,0,1,144,40ZM248,88a8,8,0,0,1-8,8h-8v8a8,8,0,0,1-16,0V96h-8a8,8,0,0,1,0-16h8V72a8,8,0,0,1,16,0v8h8A8,8,0,0,1,248,88Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M196.2,132.81l-53.36-19.65L123.19,59.8a11.93,11.93,0,0,0-22.38,0L81.16,113.16,27.8,132.81a11.93,11.93,0,0,0,0,22.38l53.36,19.65,19.65,53.36a11.93,11.93,0,0,0,22.38,0l19.65-53.36,53.36-19.65a11.93,11.93,0,0,0,0-22.38Zm-2.77,14.87L138.35,168a4,4,0,0,0-2.37,2.37l-20.3,55.08a3.92,3.92,0,0,1-7.36,0L88,170.35A4,4,0,0,0,85.65,168l-55.08-20.3a3.92,3.92,0,0,1,0-7.36L85.65,120A4,4,0,0,0,88,117.65l20.3-55.08a3.92,3.92,0,0,1,7.36,0L136,117.65a4,4,0,0,0,2.37,2.37l55.08,20.3a3.92,3.92,0,0,1,0,7.36ZM148,40a4,4,0,0,1,4-4h20V16a4,4,0,0,1,8,0V36h20a4,4,0,0,1,0,8H180V64a4,4,0,0,1-8,0V44H152A4,4,0,0,1,148,40Zm96,48a4,4,0,0,1-4,4H228v12a4,4,0,0,1-8,0V92H208a4,4,0,0,1,0-8h12V72a4,4,0,0,1,8,0V84h12A4,4,0,0,1,244,88Z"}))]]),q=c.forwardRef((a,b)=>c.createElement(o.default,{ref:b,...a,weights:p}));q.displayName="SparkleIcon";var r=a.i(82770),s=a.i(62676),t=a.i(54106),u=a.i(52657),v=a.i(69478),w=a.i(39577),x=a.i(4971);let y=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M214.67,68H204V40a12,12,0,0,0-12-12H64A12,12,0,0,0,52,40V68H41.33C25.16,68,12,80.56,12,96v80a12,12,0,0,0,12,12H52v28a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V188h28a12,12,0,0,0,12-12V96C244,80.56,230.84,68,214.67,68ZM76,52H180V68H76ZM180,204H76V172H180Zm40-40H204v-4a12,12,0,0,0-12-12H64a12,12,0,0,0-12,12v4H36V96c0-2.17,2.44-4,5.33-4H214.67c2.89,0,5.33,1.83,5.33,4Zm-16-44a16,16,0,1,1-16-16A16,16,0,0,1,204,120Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M232,96v80H192V152H64v24H24V96c0-8.84,7.76-16,17.33-16H214.67C224.24,80,232,87.16,232,96Z",opacity:"0.2"}),c.createElement("path",{d:"M214.67,72H200V40a8,8,0,0,0-8-8H64a8,8,0,0,0-8,8V72H41.33C27.36,72,16,82.77,16,96v80a8,8,0,0,0,8,8H56v32a8,8,0,0,0,8,8H192a8,8,0,0,0,8-8V184h32a8,8,0,0,0,8-8V96C240,82.77,228.64,72,214.67,72ZM72,48H184V72H72ZM184,208H72V160H184Zm40-40H200V152a8,8,0,0,0-8-8H64a8,8,0,0,0-8,8v16H32V96c0-4.41,4.19-8,9.33-8H214.67c5.14,0,9.33,3.59,9.33,8Zm-24-52a12,12,0,1,1-12-12A12,12,0,0,1,200,116Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M240,96v80a8,8,0,0,1-8,8H200v32a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V184H24a8,8,0,0,1-8-8V96c0-13.23,11.36-24,25.33-24H56V40a8,8,0,0,1,8-8H192a8,8,0,0,1,8,8V72h14.67C228.64,72,240,82.77,240,96ZM72,72H184V48H72Zm112,88H72v48H184Zm16-44a12,12,0,1,0-12,12A12,12,0,0,0,200,116Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M214.67,74H198V40a6,6,0,0,0-6-6H64a6,6,0,0,0-6,6V74H41.33C28.47,74,18,83.87,18,96v80a6,6,0,0,0,6,6H58v34a6,6,0,0,0,6,6H192a6,6,0,0,0,6-6V182h34a6,6,0,0,0,6-6V96C238,83.87,227.53,74,214.67,74ZM70,46H186V74H70ZM186,210H70V158H186Zm40-40H198V152a6,6,0,0,0-6-6H64a6,6,0,0,0-6,6v18H30V96c0-5.51,5.08-10,11.33-10H214.67C220.92,86,226,90.49,226,96Zm-28-54a10,10,0,1,1-10-10A10,10,0,0,1,198,116Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M214.67,72H200V40a8,8,0,0,0-8-8H64a8,8,0,0,0-8,8V72H41.33C27.36,72,16,82.77,16,96v80a8,8,0,0,0,8,8H56v32a8,8,0,0,0,8,8H192a8,8,0,0,0,8-8V184h32a8,8,0,0,0,8-8V96C240,82.77,228.64,72,214.67,72ZM72,48H184V72H72ZM184,208H72V160H184Zm40-40H200V152a8,8,0,0,0-8-8H64a8,8,0,0,0-8,8v16H32V96c0-4.41,4.19-8,9.33-8H214.67c5.14,0,9.33,3.59,9.33,8Zm-24-52a12,12,0,1,1-12-12A12,12,0,0,1,200,116Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M214.67,76H196V40a4,4,0,0,0-4-4H64a4,4,0,0,0-4,4V76H41.33C29.57,76,20,85,20,96v80a4,4,0,0,0,4,4H60v36a4,4,0,0,0,4,4H192a4,4,0,0,0,4-4V180h36a4,4,0,0,0,4-4V96C236,85,226.43,76,214.67,76ZM68,44H188V76H68ZM188,212H68V156H188Zm40-40H196V152a4,4,0,0,0-4-4H64a4,4,0,0,0-4,4v20H28V96c0-6.62,6-12,13.33-12H214.67C222,84,228,89.38,228,96Zm-32-56a8,8,0,1,1-8-8A8,8,0,0,1,196,116Z"}))]]),z=c.forwardRef((a,b)=>c.createElement(o.default,{ref:b,...a,weights:y}));z.displayName="PrinterIcon";var A=a.i(58533);let B=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M108,60A16,16,0,1,1,92,44,16,16,0,0,1,108,60Zm56,16a16,16,0,1,0-16-16A16,16,0,0,0,164,76ZM92,112a16,16,0,1,0,16,16A16,16,0,0,0,92,112Zm72,0a16,16,0,1,0,16,16A16,16,0,0,0,164,112ZM92,180a16,16,0,1,0,16,16A16,16,0,0,0,92,180Zm72,0a16,16,0,1,0,16,16A16,16,0,0,0,164,180Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M208,32V224a16,16,0,0,1-16,16H64a16,16,0,0,1-16-16V32A16,16,0,0,1,64,16H192A16,16,0,0,1,208,32Z",opacity:"0.2"}),c.createElement("path",{d:"M104,60A12,12,0,1,1,92,48,12,12,0,0,1,104,60Zm60,12a12,12,0,1,0-12-12A12,12,0,0,0,164,72ZM92,116a12,12,0,1,0,12,12A12,12,0,0,0,92,116Zm72,0a12,12,0,1,0,12,12A12,12,0,0,0,164,116ZM92,184a12,12,0,1,0,12,12A12,12,0,0,0,92,184Zm72,0a12,12,0,1,0,12,12A12,12,0,0,0,164,184Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M192,16H64A16,16,0,0,0,48,32V224a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V32A16,16,0,0,0,192,16ZM100,200a12,12,0,1,1,12-12A12,12,0,0,1,100,200Zm0-60a12,12,0,1,1,12-12A12,12,0,0,1,100,140Zm0-60a12,12,0,1,1,12-12A12,12,0,0,1,100,80Zm56,120a12,12,0,1,1,12-12A12,12,0,0,1,156,200Zm0-60a12,12,0,1,1,12-12A12,12,0,0,1,156,140Zm0-60a12,12,0,1,1,12-12A12,12,0,0,1,156,80Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M102,60A10,10,0,1,1,92,50,10,10,0,0,1,102,60Zm62,10a10,10,0,1,0-10-10A10,10,0,0,0,164,70ZM92,118a10,10,0,1,0,10,10A10,10,0,0,0,92,118Zm72,0a10,10,0,1,0,10,10A10,10,0,0,0,164,118ZM92,186a10,10,0,1,0,10,10A10,10,0,0,0,92,186Zm72,0a10,10,0,1,0,10,10A10,10,0,0,0,164,186Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M104,60A12,12,0,1,1,92,48,12,12,0,0,1,104,60Zm60,12a12,12,0,1,0-12-12A12,12,0,0,0,164,72ZM92,116a12,12,0,1,0,12,12A12,12,0,0,0,92,116Zm72,0a12,12,0,1,0,12,12A12,12,0,0,0,164,116ZM92,184a12,12,0,1,0,12,12A12,12,0,0,0,92,184Zm72,0a12,12,0,1,0,12,12A12,12,0,0,0,164,184Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M100,60a8,8,0,1,1-8-8A8,8,0,0,1,100,60Zm64,8a8,8,0,1,0-8-8A8,8,0,0,0,164,68ZM92,120a8,8,0,1,0,8,8A8,8,0,0,0,92,120Zm72,0a8,8,0,1,0,8,8A8,8,0,0,0,164,120ZM92,188a8,8,0,1,0,8,8A8,8,0,0,0,92,188Zm72,0a8,8,0,1,0,8,8A8,8,0,0,0,164,188Z"}))]]),C=c.forwardRef((a,b)=>c.createElement(o.default,{ref:b,...a,weights:B}));C.displayName="DotsSixVerticalIcon";let D=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M220,48V96a12,12,0,0,1-24,0V77l-35.51,35.52a12,12,0,0,1-17-17L179,60H160a12,12,0,0,1,0-24h48A12,12,0,0,1,220,48ZM95.51,143.51,60,179V160a12,12,0,0,0-24,0v48a12,12,0,0,0,12,12H96a12,12,0,0,0,0-24H77l35.52-35.51a12,12,0,0,0-17-17ZM208,148a12,12,0,0,0-12,12v19l-35.51-35.52a12,12,0,0,0-17,17L179,196H160a12,12,0,0,0,0,24h48a12,12,0,0,0,12-12V160A12,12,0,0,0,208,148ZM77,60H96a12,12,0,0,0,0-24H48A12,12,0,0,0,36,48V96a12,12,0,0,0,24,0V77l35.51,35.52a12,12,0,0,0,17-17Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M208,48V208H48V48Z",opacity:"0.2"}),c.createElement("path",{d:"M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M109.66,146.34a8,8,0,0,1,0,11.32L83.31,184l18.35,18.34A8,8,0,0,1,96,216H48a8,8,0,0,1-8-8V160a8,8,0,0,1,13.66-5.66L72,172.69l26.34-26.35A8,8,0,0,1,109.66,146.34ZM83.31,72l18.35-18.34A8,8,0,0,0,96,40H48a8,8,0,0,0-8,8V96a8,8,0,0,0,13.66,5.66L72,83.31l26.34,26.35a8,8,0,0,0,11.32-11.32ZM208,40H160a8,8,0,0,0-5.66,13.66L172.69,72,146.34,98.34a8,8,0,0,0,11.32,11.32L184,83.31l18.34,18.35A8,8,0,0,0,216,96V48A8,8,0,0,0,208,40Zm3.06,112.61a8,8,0,0,0-8.72,1.73L184,172.69l-26.34-26.35a8,8,0,0,0-11.32,11.32L172.69,184l-18.35,18.34A8,8,0,0,0,160,216h48a8,8,0,0,0,8-8V160A8,8,0,0,0,211.06,152.61Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M214,48V96a6,6,0,0,1-12,0V62.48l-45.76,45.76a6,6,0,0,1-8.48-8.48L193.52,54H160a6,6,0,0,1,0-12h48A6,6,0,0,1,214,48ZM99.76,147.76,54,193.52V160a6,6,0,0,0-12,0v48a6,6,0,0,0,6,6H96a6,6,0,0,0,0-12H62.48l45.76-45.76a6,6,0,0,0-8.48-8.48ZM208,154a6,6,0,0,0-6,6v33.52l-45.76-45.76a6,6,0,0,0-8.48,8.48L193.52,202H160a6,6,0,0,0,0,12h48a6,6,0,0,0,6-6V160A6,6,0,0,0,208,154ZM62.48,54H96a6,6,0,0,0,0-12H48a6,6,0,0,0-6,6V96a6,6,0,0,0,12,0V62.48l45.76,45.76a6,6,0,0,0,8.48-8.48Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M212,48V96a4,4,0,0,1-8,0V57.66l-49.17,49.17a4,4,0,0,1-5.66-5.66L198.34,52H160a4,4,0,0,1,0-8h48A4,4,0,0,1,212,48ZM101.17,149.17,52,198.34V160a4,4,0,0,0-8,0v48a4,4,0,0,0,4,4H96a4,4,0,0,0,0-8H57.66l49.17-49.17a4,4,0,0,0-5.66-5.66ZM208,156a4,4,0,0,0-4,4v38.34l-49.17-49.17a4,4,0,0,0-5.66,5.66L198.34,204H160a4,4,0,0,0,0,8h48a4,4,0,0,0,4-4V160A4,4,0,0,0,208,156ZM57.66,52H96a4,4,0,0,0,0-8H48a4,4,0,0,0-4,4V96a4,4,0,0,0,8,0V57.66l49.17,49.17a4,4,0,0,0,5.66-5.66Z"}))]]),E=c.forwardRef((a,b)=>c.createElement(o.default,{ref:b,...a,weights:D}));E.displayName="ArrowsOutIcon";let F=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M140,104V64a12,12,0,0,1,24,0V75l35.51-35.52a12,12,0,0,1,17,17L181,92h11a12,12,0,0,1,0,24H152A12,12,0,0,1,140,104Zm-36,36H64a12,12,0,0,0,0,24H75L39.51,199.51a12,12,0,0,0,17,17L92,181v11a12,12,0,0,0,24,0V152A12,12,0,0,0,104,140Zm77,24h11a12,12,0,0,0,0-24H152a12,12,0,0,0-12,12v40a12,12,0,0,0,24,0V181l35.51,35.52a12,12,0,0,0,17-17ZM104,52A12,12,0,0,0,92,64V75L56.49,39.51a12,12,0,0,0-17,17L75,92H64a12,12,0,0,0,0,24h40a12,12,0,0,0,12-12V64A12,12,0,0,0,104,52Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M224,48V208a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48Z",opacity:"0.2"}),c.createElement("path",{d:"M144,104V64a8,8,0,0,1,16,0V84.69l42.34-42.35a8,8,0,0,1,11.32,11.32L171.31,96H192a8,8,0,0,1,0,16H152A8,8,0,0,1,144,104Zm-40,40H64a8,8,0,0,0,0,16H84.69L42.34,202.34a8,8,0,0,0,11.32,11.32L96,171.31V192a8,8,0,0,0,16,0V152A8,8,0,0,0,104,144Zm67.31,16H192a8,8,0,0,0,0-16H152a8,8,0,0,0-8,8v40a8,8,0,0,0,16,0V171.31l42.34,42.35a8,8,0,0,0,11.32-11.32ZM104,56a8,8,0,0,0-8,8V84.69L53.66,42.34A8,8,0,0,0,42.34,53.66L84.69,96H64a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V64A8,8,0,0,0,104,56Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M144,104V64a8,8,0,0,1,13.66-5.66L172,72.69l30.34-30.35a8,8,0,0,1,11.32,11.32L183.31,84l14.35,14.34A8,8,0,0,1,192,112H152A8,8,0,0,1,144,104Zm-40,40H64a8,8,0,0,0-5.66,13.66L72.69,172,42.34,202.34a8,8,0,0,0,11.32,11.32L84,183.31l14.34,14.35A8,8,0,0,0,112,192V152A8,8,0,0,0,104,144Zm3.06-87.39a8,8,0,0,0-8.72,1.73L84,72.69,53.66,42.34A8,8,0,0,0,42.34,53.66L72.69,84,58.34,98.34A8,8,0,0,0,64,112h40a8,8,0,0,0,8-8V64A8,8,0,0,0,107.06,56.61ZM183.31,172l14.35-14.34A8,8,0,0,0,192,144H152a8,8,0,0,0-8,8v40a8,8,0,0,0,13.66,5.66L172,183.31l30.34,30.35a8,8,0,0,0,11.32-11.32Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M146,104V64a6,6,0,0,1,12,0V89.51l45.76-45.75a6,6,0,0,1,8.48,8.48L166.48,98H192a6,6,0,0,1,0,12H152A6,6,0,0,1,146,104Zm-42,42H64a6,6,0,0,0,0,12H89.52L43.76,203.76a6,6,0,1,0,8.48,8.48L98,166.48V192a6,6,0,0,0,12,0V152A6,6,0,0,0,104,146Zm62.48,12H192a6,6,0,0,0,0-12H152a6,6,0,0,0-6,6v40a6,6,0,0,0,12,0V166.48l45.76,45.76a6,6,0,0,0,8.48-8.48ZM104,58a6,6,0,0,0-6,6V89.51L52.24,43.76a6,6,0,0,0-8.48,8.48L89.52,98H64a6,6,0,0,0,0,12h40a6,6,0,0,0,6-6V64A6,6,0,0,0,104,58Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M144,104V64a8,8,0,0,1,16,0V84.69l42.34-42.35a8,8,0,0,1,11.32,11.32L171.31,96H192a8,8,0,0,1,0,16H152A8,8,0,0,1,144,104Zm-40,40H64a8,8,0,0,0,0,16H84.69L42.34,202.34a8,8,0,0,0,11.32,11.32L96,171.31V192a8,8,0,0,0,16,0V152A8,8,0,0,0,104,144Zm67.31,16H192a8,8,0,0,0,0-16H152a8,8,0,0,0-8,8v40a8,8,0,0,0,16,0V171.31l42.34,42.35a8,8,0,0,0,11.32-11.32ZM104,56a8,8,0,0,0-8,8V84.69L53.66,42.34A8,8,0,0,0,42.34,53.66L84.69,96H64a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V64A8,8,0,0,0,104,56Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M148,104V64a4,4,0,0,1,8,0V94.34l49.17-49.17a4,4,0,1,1,5.66,5.66L161.66,100H192a4,4,0,0,1,0,8H152A4,4,0,0,1,148,104Zm-44,44H64a4,4,0,0,0,0,8H94.34L45.17,205.17a4,4,0,0,0,5.66,5.66L100,161.66V192a4,4,0,0,0,8,0V152A4,4,0,0,0,104,148Zm57.66,8H192a4,4,0,0,0,0-8H152a4,4,0,0,0-4,4v40a4,4,0,0,0,8,0V161.66l49.17,49.17a4,4,0,0,0,5.66-5.66ZM104,60a4,4,0,0,0-4,4V94.34L50.83,45.17a4,4,0,0,0-5.66,5.66L94.34,100H64a4,4,0,0,0,0,8h40a4,4,0,0,0,4-4V64A4,4,0,0,0,104,60Z"}))]]),G=c.forwardRef((a,b)=>c.createElement(o.default,{ref:b,...a,weights:F}));G.displayName="ArrowsInIcon";var H=a.i(24382),I=a.i(87754),J=a.i(47384),K=a.i(71174),L=a.i(98874),M=a.i(49704),N=a.i(63144),O=a.i(27964),P=a.i(60144),Q=a.i(82665),R=a.i(98263);let S=a=>a.activities&&0!==a.activities.length?Math.round(a.activities.reduce((a,b)=>a+(a=>{switch(a){case"VALIDATED":return 100;case"DELIVERED":return 90;case"IN_REVIEW":return 80;case"COMPLETED":return 60;case"IN_PROGRESS":return 20;default:return 0}})(b.status),0)/a.activities.length):0,T=a=>a.phases&&0!==a.phases.length?Math.round(a.phases.reduce((a,b)=>a+S(b),0)/a.phases.length):0,U={"Resumen & Tablas":["KPI","TABLE","MATRIX"],Comparación:["BAR","BAR_STACKED","LOLLIPOP"],Tendencia:["LINE","AREA"],Composición:["PIE","DONUT","TREEMAP"],Relación:["SCATTER","BUBBLE"],Especiales:["RADAR","FUNNEL","GAUGE"],"Gestión de Proyectos":["GANTT","THERMOMETER","HEATMAP"]},V=[{id:"DS-WF",title:"Workflows: Casos T1-2025",sourceType:"WORKFLOWS",rows:1250,size:"450KB",updatedAt:"2025-06-15",access:"PUBLIC_ORG",ownerId:"u1",columns:[{name:"ID Caso",type:"STRING"},{name:"Estado",type:"STRING"},{name:"Unidad",type:"STRING"},{name:"Tiempo Resolución (h)",type:"NUMBER"}]},{id:"DS-PROJ",title:"Gestión de Proyectos (En Vivo)",sourceType:"PROJECTS",rows:0,size:"Dynamic",updatedAt:"Ahora",access:"PUBLIC_ORG",ownerId:"sys",columns:[{name:"Proyecto",type:"STRING"},{name:"Carpeta (Unidad)",type:"STRING"},{name:"Estado",type:"STRING"},{name:"Progreso (%)",type:"NUMBER"},{name:"Fases",type:"NUMBER"},{name:"Fase",type:"STRING"},{name:"Estado Fase",type:"STRING"},{name:"Actividad",type:"STRING"},{name:"Estado Actividad",type:"STRING"},{name:"Responsable",type:"STRING"}]},{id:"DS-REPO",title:"Repositorio: Metadatos",sourceType:"REPOSITORY",rows:8400,size:"2.1MB",updatedAt:"2025-06-14",access:"PRIVATE",ownerId:"u1",columns:[{name:"Nombre Archivo",type:"STRING"},{name:"Tipo MIME",type:"STRING"},{name:"Autor",type:"STRING"},{name:"Tamaño (MB)",type:"NUMBER"}]},{id:"DS-UPLOAD",title:"Presupuesto Marketing.xlsx",sourceType:"UPLOAD",rows:120,size:"25KB",updatedAt:"2025-06-10",access:"PRIVATE",ownerId:"u1",columns:[{name:"Mes",type:"STRING"},{name:"Canal",type:"STRING"},{name:"Inversión",type:"NUMBER"},{name:"Leads",type:"NUMBER"}]}],W=[{id:"DB-1",title:"Resumen Operativo",description:"KPIs principales de la operación",updatedAt:"Hace 2h",access:"PUBLIC_ORG",ownerId:"sys",views:340,sections:[{id:"sec-1",title:"Indicadores Globales",widgets:[{id:"w1",title:"Casos Totales",layout:{x:0,y:0,w:1,h:1},config:{datasetId:"DS-WF",chartType:"KPI",aggregation:"COUNT",valueColumn:"ID Caso"}},{id:"w2",title:"Casos por Estado",layout:{x:0,y:0,w:2,h:2},config:{datasetId:"DS-WF",chartType:"BAR",aggregation:"COUNT",valueColumn:"ID Caso",groupColumn:"Estado"}}]}]},{id:"DB-2",title:"Métricas de Desarrollo",description:"Indicadores del área de desarrollo de software",updatedAt:"Hace 1d",access:"PUBLIC_ORG",ownerId:"sys",views:125,unit:"Desarrollo de Software",process:"DevOps",sections:[{id:"sec-dev-1",title:"Métricas DevOps",widgets:[]}]},{id:"DB-3",title:"Dashboard de RRHH",description:"Métricas de gestión de candidatos",updatedAt:"Hace 3h",access:"PRIVATE",ownerId:"sys",views:89,unit:"Reclutamiento y Selección",process:"Gestión de Candidatos",sections:[{id:"sec-rrhh-1",title:"Reclutamiento",widgets:[]}]},{id:"DB-4",title:"Análisis Financiero",description:"Reportes de contabilidad y cierre mensual",updatedAt:"Hace 5h",access:"PUBLIC_ORG",ownerId:"sys",views:234,unit:"Contabilidad",process:"Cierre Mensual",sections:[{id:"sec-fin-1",title:"Cierre Contable",widgets:[]}]}],X=(a,b,c,d)=>{if(!b)return null;let e=[];if("UPLOAD"===b.sourceType||"WORKFLOWS"===b.sourceType||"REPOSITORY"===b.sourceType)0===(e=b._data||[]).length&&b.rows>0&&(e=Array.from({length:10}).map((a,b)=>({id:b,Estado:["Abierto","Cerrado","En Proceso"][b%3],Unidad:["Ventas","HR","IT"][b%3],"Progreso (%)":Math.floor(100*Math.random())})));else if("PROJECTS"===b.sourceType){let d=c.projects;b._filterFolderId&&(d=d.filter(a=>a.folderId===b._filterFolderId));let f=["Actividad","Estado Actividad","Responsable","Duración (Días)"].includes(a.groupColumn||"")||["Actividad","Responsable","Duración (Días)"].includes(a.valueColumn)||"BAR_STACKED"===a.chartType,g=["Fase","Estado Fase"].includes(a.groupColumn||"")||["Fase"].includes(a.valueColumn);f?d.forEach(a=>{a.phases.forEach(b=>{b.activities.forEach(d=>{let f={COMPLETED:"Completado",IN_PROGRESS:"En Proceso",NOT_STARTED:"Sin Iniciar"},g={Proyecto:a.title,"Carpeta (Unidad)":c.folders.find(b=>b.id===a.folderId)?.name||"Sin Carpeta",Estado:f[a.status]||a.status,"Progreso (%)":T(a),Fase:b.name,"Estado Fase":f[b.status]||b.status,Actividad:d.name,"Estado Actividad":f[d.status]||d.status,Responsable:"Sin Asignar","Duración (Días)":[15,20,30,45,60][Math.floor(5*Math.random())]};d.participants&&d.participants.length>0?d.participants.forEach(a=>{let b="string"==typeof a?a:a.userId,d=c.users.find(a=>a.id===b);e.push({...g,Responsable:d?d.name:"Desconocido"})}):e.push(g)})})}):g?d.forEach(a=>{a.phases.forEach(b=>{e.push({Proyecto:a.title,"Carpeta (Unidad)":c.folders.find(b=>b.id===a.folderId)?.name||"Sin Carpeta",Estado:a.status,"Progreso (%)":T(a),Fase:b.name,"Estado Fase":b.status,Fases:a.phases.length})})}):e=d.map(a=>({Proyecto:a.title,"Carpeta (Unidad)":c.folders.find(b=>b.id===a.folderId)?.name||"Sin Carpeta",Estado:a.status,"Progreso (%)":T(a),Fases:a.phases.length}))}if(d&&Object.entries(d).forEach(([a,c])=>{if("all"!==c){let d=parseInt(a.replace("filter_","")),f=b.columns.filter(a=>"STRING"===a.type)[d];f&&(e=e.filter(a=>String(a[f.name])===c))}}),"MATRIX"===a.chartType){let a=c.projects.filter(a=>!b._filterFolderId||a.folderId===b._filterFolderId).map(a=>({id:a.id,project:a.title,progress:T(a),phases:a.phases.map(a=>{var b;let d;return{name:a.name,progress:S(a),team:(b=c.users,d=new Set,a.activities?.forEach(a=>{a.participants?.forEach(a=>{let c="string"==typeof a?a:a.userId,e=b.find(a=>a.id===c);e&&d.add(e.name)})}),Array.from(d).join(", "))}})}));return{type:"MATRIX",rows:a,maxPhases:Math.max(...a.map(a=>a.phases.length),0)}}if("GANTT"===a.chartType)return{type:"GANTT",tasks:c.projects.filter(a=>!b._filterFolderId||a.folderId===b._filterFolderId).flatMap(a=>a.phases.flatMap(b=>b.activities.map(b=>({id:b.id,project:a.title,name:b.name,progress:"COMPLETED"===b.status?100:50*("IN_PROGRESS"===b.status),status:b.status})))).slice(0,5)};let f=a.valueColumn,g=a.groupColumn,h=a.aggregation||"COUNT";if("KPI"===a.chartType){let a=0;if("COUNT"===h)a=e.length;else{let b=e.map(a=>{let b=a[f];return"number"==typeof b?b:"string"==typeof b&&parseFloat(b.replace("%",""))||0});if(0===b.length)a=0;else{let c=b.reduce((a,b)=>a+b,0);a="SUM"===h?c:Math.round(c/b.length)}}return{value:f.includes("%")||e.length>0&&String(e[0][f]).includes("%")?`${a}%`:a.toLocaleString(),label:"COUNT"===h?`Total ${f}`:`${h} de ${f}`}}if(g){if("BAR_STACKED"===a.chartType){let a={},b=new Set;return e.forEach(c=>{let d=String(c[g]||"Sin Valor"),e=String(c["Estado Actividad"]||"Sin Estado");b.add(e),a[d]||(a[d]={}),a[d][e]=(a[d][e]||0)+1}),{type:"STACKED",labels:Object.keys(a),series:Array.from(b).map(b=>({name:b,data:Object.keys(a).map(c=>a[c][b]||0)}))}}let b={};e.forEach(a=>{let c=String(a[g]||"Sin Valor");b[c]||(b[c]={sum:0,count:0});let d=0;if("COUNT"!==h){let b=a[f];"number"==typeof b?d=b:"string"==typeof b&&(d=parseFloat(b.replace("%",""))||0)}else d=1;b[c].sum+=d,b[c].count+=1});let c=Object.keys(b),d=c.map(a=>"COUNT"===h?b[a].count:"SUM"===h?b[a].sum:"AVG"===h?Math.round(b[a].sum/b[a].count):b[a].sum);return{labels:c,data:d}}return null};function Y(){let a,{currentTenantId:e,version:f}=(0,R.useApp)(),[g,h]=(0,c.useState)("HUB"),[i,l]=(0,c.useState)("DASHBOARDS"),m=(0,c.useMemo)(()=>({projects:Q.DB.projects.filter(a=>a.tenantId===e),folders:Q.DB.projectFolders.filter(a=>a.tenantId===e),users:Q.DB.users,tenantId:e||""}),[e,f]),n=(0,c.useMemo)(()=>m.folders.map(a=>({id:`DS-FLDR-${a.id}`,title:`Carpeta: ${a.name}`,sourceType:"PROJECTS",rows:m.projects.filter(b=>b.folderId===a.id).length,size:"Dynamic",updatedAt:"Ahora",access:"PUBLIC_ORG",ownerId:"sys",columns:[{name:"Proyecto",type:"STRING"},{name:"Estado",type:"STRING"},{name:"Progreso (%)",type:"NUMBER"},{name:"Fase",type:"STRING"},{name:"Actividad",type:"STRING"},{name:"Estado Actividad",type:"STRING"},{name:"Responsable",type:"STRING"},{name:"Fecha Fin",type:"DATE"}],_filterFolderId:a.id})),[m]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=localStorage.getItem("m360_dashboards_version"),b=localStorage.getItem("m360_dashboards");if("2.0"===a&&b)try{p(JSON.parse(b))}catch(a){p(W)}else console.log("Loading new dashboard structure version:","2.0"),p(W),localStorage.setItem("m360_dashboards_version","2.0"),localStorage.setItem("m360_dashboards",JSON.stringify(W))},[]),(0,c.useEffect)(()=>{o.length>0&&localStorage.setItem("m360_dashboards",JSON.stringify(o))},[o]);let[s,t]=(0,c.useState)(V),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(null),A=(0,c.useMemo)(()=>[...s,...n],[s,n]),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)({dateRange:"all",folder:"all",status:"all"}),[H,I]=(0,c.useState)("ALL"),[J,K]=(0,c.useState)("ALL"),[L,M]=(0,c.useState)(""),N=(0,c.useMemo)(()=>Q.DB.units.filter(a=>a.tenantId===e&&"UNIT"===a.type).map(a=>a.name),[e]),O=(0,c.useMemo)(()=>{let a=Q.DB.projects.filter(a=>a.tenantId===e),b=Q.DB.projectFolders.filter(a=>a.tenantId===e),c=new Set;return a.forEach(a=>{a.process&&("ALL"===H||a.unit===H)&&c.add(a.process)}),b.forEach(a=>{a.process&&("ALL"===H||a.unit===H)&&c.add(a.process)}),Array.from(c).sort()},[e,H]);(0,c.useEffect)(()=>{K("ALL")},[H]);let P=(0,c.useMemo)(()=>o.filter(a=>{let b=!L||a.title.toLowerCase().includes(L.toLowerCase())||a.description.toLowerCase().includes(L.toLowerCase()),c="ALL"===H||"GLOBAL"===H&&!a.unit||a.unit===H,d="ALL"===J||a.process===J;return b&&c&&d}),[o,L,H,J]),S=a=>{p(b=>b.filter(b=>b.id!==a))};return"EDITOR"===g&&u?(0,b.jsx)(Z,{dashboard:u,datasets:A,contextData:m,onSave:a=>{p(b=>b.map(b=>b.id===a.id?a:b))},onBack:()=>{h("HUB"),v(null)},filters:F,setFilters:G}):(0,b.jsxs)("div",{className:"p-8 h-full bg-slate-50 flex flex-col overflow-hidden",children:[(0,b.jsx)("style",{dangerouslySetInnerHTML:{__html:`
                @media print {
                    #sidebar, .topbar, .no-print, aside, header {
                        display: none !important;
                    }
                    body, html, main, .content, #__next {
                        background: white !important;
                        height: auto !important;
                        overflow: visible !important;
                        padding: 0 !important;
                        margin: 0 !important;
                    }
                    .canvas-print-area {
                        position: absolute !important;
                        left: 0 !important;
                        top: 0 !important;
                        width: 100% !important;
                        height: auto !important;
                        padding: 0 !important;
                        margin: 0 !important;
                        overflow: visible !important;
                        background: white !important;
                    }
                    .max-w-7xl {
                        max-width: 100% !important;
                    }
                    .flex-1 {
                        overflow: visible !important;
                    }
                }
            `}}),(0,b.jsxs)("div",{className:"flex justify-between items-end mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[(0,b.jsx)(d.ChartPieSlice,{className:"text-purple-600",weight:"duotone"}),"Analytics Studio"]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Plataforma de Datos e Inteligencia de Negocios."})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>E(!0),className:"btn bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 shadow-sm",children:[(0,b.jsx)(j.Database,{size:18})," Crear Dataset"]}),(0,b.jsxs)("button",{onClick:()=>C(!0),className:"btn bg-purple-600 text-white hover:bg-purple-700 shadow-lg shadow-purple-500/20",children:[(0,b.jsx)(k.PresentationChart,{size:18,weight:"bold"})," Crear Tablero"]})]})]}),(0,b.jsxs)("div",{className:"flex border-b border-slate-200 mb-6",children:[(0,b.jsxs)("button",{onClick:()=>l("DASHBOARDS"),className:`px-4 py-3 text-sm font-semibold border-b-2 transition-colors flex items-center gap-2 ${"DASHBOARDS"===i?"border-purple-600 text-purple-700":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[(0,b.jsx)(k.PresentationChart,{size:18})," Mis Tableros"]}),(0,b.jsxs)("button",{onClick:()=>l("DATASETS"),className:`px-4 py-3 text-sm font-semibold border-b-2 transition-colors flex items-center gap-2 ${"DATASETS"===i?"border-purple-600 text-purple-700":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[(0,b.jsx)(j.Database,{size:18})," Catálogo de Datos"]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",children:"DASHBOARDS"===i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("input",{type:"text",placeholder:"Buscar tablero...",className:"w-full pl-3 pr-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 outline-none",value:L,onChange:a=>M(a.target.value)})}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsxs)("select",{className:"w-full pl-3 pr-8 py-2 bg-white border border-slate-200 rounded-lg text-sm appearance-none outline-none focus:ring-2 focus:ring-purple-500 text-slate-600",value:H,onChange:a=>I(a.target.value),children:[(0,b.jsx)("option",{value:"ALL",children:"Todas las Unidades"}),(0,b.jsx)("option",{value:"GLOBAL",children:"Globales"}),N.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsxs)("select",{className:"w-full pl-3 pr-8 py-2 bg-white border border-slate-200 rounded-lg text-sm appearance-none outline-none focus:ring-2 focus:ring-purple-500 text-slate-600",value:J,onChange:a=>K(a.target.value),children:[(0,b.jsx)("option",{value:"ALL",children:"Todos los Procesos"}),O.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:P.map(a=>(0,b.jsx)(_,{dashboard:a,onClick:()=>{v(a),h("EDITOR")},onDelete:S,onEdit:()=>z(a.id),onShare:()=>x(a)},a.id))})]}):(0,b.jsx)($,{datasets:A,onNormalize:r})}),B&&(0,b.jsx)(ab,{onClose:()=>C(!1),onCreate:(a,b,c,d,e,f)=>{if(d){let i=n.find(a=>a.id===d);if(i){var g;let d,j;g={title:a,description:b,access:c?"PUBLIC_ORG":"PRIVATE",unit:e,process:f},d=i.title.replace("Carpeta: ",""),j={id:`DB-AUTO-${Date.now()}`,title:g.title||`Reporte ${d}`,description:g.description||`An\xe1lisis autom\xe1tico de proyectos en la carpeta ${d}`,updatedAt:"Ahora",access:g.access,ownerId:"me",views:0,unit:g.unit,process:g.process,isAuto:!0,sections:[{id:"sec-level-1",title:"Nivel 1: Resumen Ejecutivo",columns:2,widgets:[{id:`w-cnt-${Date.now()}`,title:"Actividades por Estado",layout:{x:0,y:0,w:1,h:2},config:{datasetId:i.id,chartType:"BAR",aggregation:"COUNT",valueColumn:"Actividad",groupColumn:"Estado Actividad"}},{id:`w-dist-${Date.now()}`,title:"Distribución Porcentual",layout:{x:1,y:0,w:1,h:2},config:{datasetId:i.id,chartType:"PIE",aggregation:"COUNT",valueColumn:"Actividad",groupColumn:"Estado Actividad"}}]},{id:"sec-level-2",title:"Nivel 2: Comparativas",columns:3,widgets:[{id:`w-stk-${Date.now()}`,title:"Estado por Proyecto",layout:{x:0,y:0,w:1,h:2},config:{datasetId:i.id,chartType:"BAR_STACKED",aggregation:"COUNT",valueColumn:"Actividad",groupColumn:"Proyecto"}},{id:`w-vol-${Date.now()}`,title:"Volumen por Fase",layout:{x:1,y:0,w:1,h:2},config:{datasetId:i.id,chartType:"BAR",aggregation:"COUNT",valueColumn:"Actividad",groupColumn:"Fase"}},{id:`w-chg-${Date.now()}`,title:"Carga por Participante",layout:{x:2,y:0,w:1,h:2},config:{datasetId:i.id,chartType:"BAR",aggregation:"COUNT",valueColumn:"Actividad",groupColumn:"Responsable"}}]},{id:"sec-level-3",title:"Nivel 3: Detalle y Tiempo",columns:1,widgets:[{id:`w-map-${Date.now()}`,title:"Mapa de Calor de Fases",layout:{x:0,y:0,w:1,h:3},config:{datasetId:i.id,chartType:"MATRIX",aggregation:"MATRIX",valueColumn:"Proyecto",groupColumn:"Fase"}},{id:`w-gnt-${Date.now()}`,title:"Cronograma de Actividades (Gantt)",layout:{x:0,y:3,w:1,h:3},config:{datasetId:i.id,chartType:"GANTT",aggregation:"COUNT",valueColumn:"Actividad",groupColumn:"Proyecto"}},{id:`w-hst-${Date.now()}`,title:"Histograma de Duración (Días)",layout:{x:0,y:6,w:1,h:2},config:{datasetId:i.id,chartType:"BAR",aggregation:"COUNT",valueColumn:"Actividad",groupColumn:"Duración (Días)"}}]}]},p(a=>[j,...a]),v(j),h("EDITOR"),C(!1);return}}let i={id:`DB-${Date.now()}`,title:a,description:b,updatedAt:"Ahora",access:c?"PUBLIC_ORG":"PRIVATE",ownerId:"me",views:0,unit:"GLOBAL"===e?void 0:e,process:f||void 0,sections:[{id:"sec-1",title:"Principal",widgets:[]},{id:"sec-standard-analysis",title:"Análisis de Estructura (Global)",columns:1,widgets:[{id:`w-std-1-${Date.now()}`,title:"Distribución de Proyectos por Carpeta",layout:{x:0,y:0,w:1,h:2},config:{datasetId:"DS-PROJ",chartType:"BAR",aggregation:"COUNT",valueColumn:"Proyecto",groupColumn:"Carpeta (Unidad)"}},{id:`w-std-2-${Date.now()}`,title:"Estado de Fases (%) - Promedio Global",layout:{x:0,y:2,w:1,h:2},config:{datasetId:"DS-PROJ",chartType:"MATRIX",aggregation:"MATRIX",valueColumn:"Progreso (%)",groupColumn:"Fase"}}]}]};p(a=>[i,...a]),v(i),h("EDITOR"),C(!1)},folderDatasets:n}),D&&(0,b.jsx)(ac,{onClose:()=>E(!1),onCreate:(a,b,c)=>{if("FILE"===b&&c instanceof File){let b=new FileReader;b.onload=b=>{let d=b.target?.result,e=[],f=[],g=0;if(d.includes("<table")){let a=new DOMParser().parseFromString(d,"text/html").querySelector("table");if(a){let b=Array.from(a.querySelectorAll("thead th")).map(a=>a.textContent?.trim()||"Col"),c=Array.from(a.querySelectorAll("tbody tr")),d=c[0]?.querySelectorAll("td");e=b.map((a,b)=>({name:a,type:isNaN(parseFloat(d?.[b]?.textContent?.trim()||"a"))?"STRING":"NUMBER"})),g=(f=c.map(a=>{let c=Array.from(a.querySelectorAll("td")),d={};return b.forEach((a,b)=>{d[a]=c[b]?.textContent?.trim()||""}),d})).length}}else{let a=d.split("\n").filter(a=>a.trim());if(a.length>0){let b=a[0].split(",").map(a=>a.replace(/"/g,"").trim());e=b.map(a=>({name:a,type:"STRING"})),g=(f=a.slice(1).map(a=>{let c=a.split(","),d={};return b.forEach((a,b)=>d[a]=c[b]?.replace(/"/g,"").trim()),d})).length}}t([{id:`DS-${Date.now()}`,title:a||c.name,sourceType:"UPLOAD",rows:g,size:`${Math.round(c.size/1024)}KB`,updatedAt:"Ahora",access:"PRIVATE",ownerId:"me",columns:e,_data:f},...s]),E(!1)},b.readAsText(c)}else{let c=[{name:"ID",type:"STRING"}],d=Math.floor(500*Math.random())+50;"PROJECTS"===b?c=[{name:"Fase",type:"STRING"},{name:"Actividad",type:"STRING"},{name:"Responsable",type:"STRING"},{name:"Progreso (%)",type:"NUMBER"},{name:"Días Estimados",type:"NUMBER"},{name:"Estado",type:"STRING"}]:"REPOSITORY"===b?c=[{name:"Archivo",type:"STRING"},{name:"Tipo",type:"STRING"},{name:"Tamaño (MB)",type:"NUMBER"},{name:"Fecha Lectura",type:"DATE"},{name:"Contenido Extraído",type:"STRING"}]:"STORAGE"===b&&(c=[{name:"Archivo Externo",type:"STRING"},{name:"Folder Path",type:"STRING"},{name:"Metadata Tag",type:"STRING"},{name:"Size",type:"NUMBER"}]),t([{id:`DS-${Date.now()}`,title:a,sourceType:b,rows:d,size:"120KB",updatedAt:"Ahora",access:"PRIVATE",ownerId:"me",columns:c},...s]),E(!1)}}}),y&&((a=o.find(a=>a.id===y))?(0,b.jsx)(aa,{dashboard:a,onClose:()=>z(null),onSave:b=>{var c;c=a.id,p(o.map(a=>a.id===c?{...a,...b,updatedAt:"Ahora"}:a)),u?.id===c&&v({...u,...b}),z(null)}}):null),w&&(0,b.jsx)(ad,{dashboard:w,onClose:()=>x(null),users:m.users}),q&&(0,b.jsx)(ae,{dataset:q,onClose:()=>r(null),onSave:a=>{t(b=>b.map(b=>b.id===a.id?a:b)),r(null)}})]})}function Z({dashboard:a,datasets:d,contextData:f,onSave:i,onBack:j,filters:l,setFilters:o}){let[p,q]=(0,c.useState)(a),[r,s]=(0,c.useState)(null),[y,B]=(0,c.useState)(null),[D,F]=(0,c.useState)(null),[I,J]=(0,c.useState)(null),[L,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(!1),T=a=>{let b={id:`W-${Date.now()}`,title:"Nueva Visualización",layout:{x:0,y:0,w:1,h:2},config:{datasetId:d[0].id,chartType:"MATRIX",aggregation:"MATRIX",valueColumn:d[0].columns[0].name,groupColumn:d[0].columns[1]?.name}};q({...p,sections:p.sections.map(c=>c.id===a?{...c,widgets:[...c.widgets,b]}:c)}),s(b.id)},V=(a,b)=>{q({...p,sections:p.sections.map(c=>({...c,widgets:c.widgets.map(c=>c.id!==a?c:"datasetId"in b||"chartType"in b||"aggregation"in b||"valueColumn"in b||"groupColumn"in b?{...c,config:{...c.config,...b}}:{...c,...b})}))})},W=a=>{q({...p,sections:p.sections.map(b=>({...b,widgets:b.widgets.filter(b=>b.id!==a)}))}),r===a&&s(null)},Y=()=>{F(null)},Z=(a,b,c)=>{if(a.preventDefault(),!y){B(null),F(null);return}let d=null,e=null;if(p.sections.forEach(a=>{let b=a.widgets.find(a=>a.id===y);b&&(d=b,e=a.id)}),!d)return;let f=p.sections.map(a=>{let f=[...a.widgets],g=a.id===e,h=c?a.id===c:a.widgets.some(a=>a.id===b);if(g&&(f=f.filter(a=>a.id!==y)),h)if(b&&!c){let a=f.findIndex(a=>a.id===b);f.splice(a,0,d)}else f.push(d);return{...a,widgets:f}});q({...p,sections:f}),B(null),F(null)},$=p.sections.flatMap(a=>a.widgets).find(a=>a.id===r);return(0,b.jsxs)("div",{className:"flex h-full bg-slate-100 overflow-hidden print:bg-white print:overflow-visible relative",children:[(0,b.jsxs)("div",{className:`bg-white border-r border-slate-200 flex flex-col shadow-xl z-20 no-print print:hidden transition-all duration-300 ${P?"w-0 overflow-hidden border-none":"w-80"}`,children:[(0,b.jsxs)("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between whitespace-nowrap",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:j,className:"text-slate-400 hover:text-slate-600 p-1 hover:bg-slate-50 rounded",title:"Volver",children:(0,b.jsx)(m.X,{size:20})}),(0,b.jsx)("span",{className:"font-bold text-slate-700",children:"Editor"})]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("button",{onClick:()=>O(!0),className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded",title:"Compartir Tablero",children:(0,b.jsx)(g.ShareNetwork,{size:18})}),(0,b.jsx)("button",{onClick:()=>{Q(!0),setTimeout(()=>window.print(),300)},className:"text-slate-500 hover:bg-slate-50 p-1.5 rounded",title:"Imprimir / PDF",children:(0,b.jsx)(z,{size:18})}),(0,b.jsxs)("button",{onClick:()=>{i(p),S(!0),setTimeout(()=>S(!1),3e3)},className:`${R?"text-green-600 bg-green-50":"text-purple-600 hover:bg-purple-50"} p-1.5 rounded transition-all flex items-center gap-1`,title:"Guardar",children:[R?(0,b.jsx)(K.Check,{size:18,weight:"bold"}):(0,b.jsx)(n.FloppyDisk,{size:18}),R&&(0,b.jsx)("span",{className:"text-[10px] font-bold",children:"GUARDADO"})]}),(0,b.jsx)("button",{onClick:()=>Q(!0),className:"text-slate-400 hover:bg-slate-50 p-1.5 rounded ml-1",title:"Contraer Editor",children:(0,b.jsx)(M.CaretLeft,{size:18,weight:"bold"})})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:$?(0,b.jsxs)("div",{className:"space-y-4 animate-fadeIn",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"font-bold text-slate-800 text-sm",children:"Configurar Visual"}),(0,b.jsx)("button",{onClick:()=>W($.id),className:"text-red-500 text-xs hover:underline",children:"Eliminar"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Título"}),(0,b.jsx)("input",{className:"input",value:$.title,onChange:a=>V($.id,{title:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Tipo de Gráfico"}),(0,b.jsx)("div",{className:"space-y-3 h-64 overflow-y-auto pr-1 custom-scrollbar",children:Object.entries(U).map(([a,c])=>(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1.5",children:a}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2",children:c.map(a=>(0,b.jsx)("button",{onClick:()=>V($.id,{chartType:a}),className:`p-1.5 rounded border text-center text-[10px] font-bold truncate transition-all ${$.config.chartType===a?"bg-purple-100 border-purple-500 text-purple-700 shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-purple-300"}`,title:a,children:a},a))})]},a))})]}),(0,b.jsx)("hr",{className:"border-slate-100"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Fuente de Datos"}),(0,b.jsx)("select",{className:"select",value:$.config.datasetId,onChange:a=>V($.id,{datasetId:a.target.value}),children:d.map(a=>(0,b.jsx)("option",{value:a.id,children:a.title},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Agregación (Operación)"}),(0,b.jsx)("div",{className:"flex rounded-md shadow-sm",children:["COUNT","SUM","AVG"].map(a=>(0,b.jsx)("button",{onClick:()=>V($.id,{aggregation:a}),className:`flex-1 py-1 text-xs border ${$.config.aggregation===a?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-slate-200 text-slate-600"}`,children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Columna Valor"}),(0,b.jsx)("select",{className:"select",value:$.config.valueColumn,onChange:a=>{let b=d.find(a=>a.id===$.config.datasetId)?.columns.find(b=>b.name===a.target.value),c=$.config.aggregation;b?.type==="STRING"&&(c="COUNT"),V($.id,{valueColumn:a.target.value,aggregation:c})},children:d.find(a=>a.id===$.config.datasetId)?.columns.map(a=>(0,b.jsxs)("option",{value:a.name,children:[a.name," (",a.type,")"]},a.name))})]}),"KPI"!==$.config.chartType&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Agrupar Por (Eje X)"}),(0,b.jsx)("select",{className:"select",value:$.config.groupColumn,onChange:a=>V($.id,{groupColumn:a.target.value}),children:d.find(a=>a.id===$.config.datasetId)?.columns.map(a=>(0,b.jsx)("option",{value:a.name,children:a.name},a.name))})]})]}):(0,b.jsxs)("div",{className:"text-center text-slate-400 py-10",children:[(0,b.jsx)("p",{className:"text-sm",children:"Selecciona un componente del canvas para editar sus propiedades."}),(0,b.jsxs)("button",{onClick:()=>T(p.sections[0]?.id||"sec-1"),className:"mt-4 btn btn-primary w-full justify-center",children:[(0,b.jsx)(e.Plus,{weight:"bold"})," Añadir Componente"]})]})})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-br from-slate-50 to-slate-100 canvas-print-area print:p-0 print:bg-white relative",onClick:()=>s(null),children:[P&&(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),Q(!1)},className:"fixed left-4 top-20 z-30 bg-white border border-slate-200 shadow-xl p-2 rounded-full text-purple-600 hover:bg-purple-50 transition-all animate-bounceIn no-print",title:"Expandir Editor",children:(0,b.jsx)(N.CaretRight,{size:20,weight:"bold"})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:p.title}),p.description&&(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:p.description})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)("span",{className:"badge flex gap-1 items-center bg-white border border-slate-200 shadow-sm",children:["PRIVATE"===p.access?(0,b.jsx)(t.Lock,{size:12}):"SHARED"===p.access?(0,b.jsx)(v.Users,{size:12}):(0,b.jsx)(u.Globe,{size:12}),p.access]})})]}),(()=>{let a=p.sections[0]?.widgets[0]?.config?.datasetId,c=d.find(b=>b.id===a);if(!c)return null;let e=c.columns.filter(a=>"STRING"===a.type).slice(0,3);return(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4 mb-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700",children:[(0,b.jsx)(A.Funnel,{size:16,className:"text-purple-600"}),"Filtros:"]}),e.map((a,d)=>{let e=(a=>{if("PROJECTS"===c.sourceType&&f.projects){let b=new Set,d={COMPLETED:"Completado",IN_PROGRESS:"En Proceso",NOT_STARTED:"Sin Iniciar"};return(c._filterFolderId?f.projects.filter(a=>a.folderId===c._filterFolderId):f.projects).forEach(c=>{"Proyecto"===a&&b.add(c.title),"Estado"===a&&b.add(d[c.status]||c.status),"Folder"===a&&b.add(c.folderId),c.phases?.forEach(c=>{"Fase"===a&&b.add(c.name),"Estado Fase"===a&&b.add(d[c.status]||c.status),c.activities?.forEach(c=>{"Actividad"===a&&b.add(c.name),"Estado Actividad"===a&&b.add(d[c.status]||c.status),"Responsable"===a&&c.participants?.forEach(a=>{let c="string"==typeof a?a:a.userId||a.id,d=f.users.find(a=>a.id===c);b.add(d?d.name:c)})})})}),Array.from(b).filter(Boolean)}if("UPLOAD"===c.sourceType&&c._data){let b=new Set;return c._data.forEach(c=>{c[a]&&b.add(String(c[a]))}),Array.from(b).filter(Boolean)}return[]})(a.name),g=`filter_${d}`;return(0,b.jsxs)("select",{value:l[g]||"all",onChange:a=>o({...l,[g]:a.target.value}),className:"text-xs px-3 py-1.5 rounded-lg border border-slate-200 bg-white hover:border-purple-300 focus:ring-2 focus:ring-purple-500 outline-none transition-all",children:[(0,b.jsxs)("option",{value:"all",children:["Todos (",a.name,")"]}),e.map((a,c)=>(0,b.jsx)("option",{value:String(a),children:String(a)},`${a}-${c}`))]},a.name)}),Object.values(l).some(a=>"all"!==a)&&(0,b.jsxs)("button",{onClick:()=>o({}),className:"text-xs text-purple-600 hover:text-purple-700 font-medium ml-auto flex items-center gap-1",children:[(0,b.jsx)(m.X,{size:14})," Limpiar filtros"]})]})})})(),(0,b.jsxs)("div",{className:"space-y-12 pb-20 mt-8",children:[p.sections.map(a=>(0,b.jsxs)("div",{className:"space-y-4",onDragOver:b=>0===a.widgets.length&&b.preventDefault(),onDrop:b=>0===a.widgets.length&&Z(b,"",a.id),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-1.5 h-6 bg-purple-600 rounded-full shadow-sm shadow-purple-200"}),(0,b.jsx)("input",{value:a.title,onChange:b=>{var c,d;return c=a.id,d=b.target.value,void q({...p,sections:p.sections.map(a=>a.id===c?{...a,title:d}:a)})},className:"text-lg font-bold text-slate-800 bg-transparent border-none focus:ring-0 p-0 w-64 placeholder:text-slate-300",placeholder:"Título de la Sección"}),(0,b.jsx)("div",{className:"flex items-center bg-slate-100 p-0.5 rounded-lg ml-2",children:[1,2,3].map(c=>(0,b.jsxs)("button",{onClick:()=>{var b;return b=a.id,void q({...p,sections:p.sections.map(a=>a.id===b?{...a,columns:c}:a)})},className:`px-2 py-0.5 text-[10px] font-bold rounded-md transition-all ${(a.columns||3)===c?"bg-white text-purple-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[c," ",1===c?"Col":"Cols"]},c))}),(0,b.jsx)("button",{onClick:()=>{var b;return b=a.id,void q({...p,sections:p.sections.filter(a=>a.id!==b)})},className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg opacity-0 group-hover:opacity-100 transition-all focus:opacity-100",title:"Eliminar Sección",children:(0,b.jsx)(w.Trash,{size:18})})]}),(0,b.jsxs)("button",{onClick:()=>T(a.id),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-purple-600 hover:bg-purple-50 rounded-lg transition-colors border border-transparent hover:border-purple-100",children:[(0,b.jsx)(e.Plus,{size:16,weight:"bold"})," Añadir Visualización"]})]}),(0,b.jsxs)("div",{className:`grid gap-6 ${1===(a.columns||3)?"grid-cols-1":2===(a.columns||3)?"grid-cols-1 md:grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:[a.widgets.map(a=>{let c,e,g,i,j,k,m=d.find(b=>b.id===a.config.datasetId),n=m?X(a.config,m,f,l):null;return(0,b.jsxs)("div",{draggable:!0,onDragStart:b=>{var c;B(c=a.id),b.dataTransfer.effectAllowed="move",b.dataTransfer.setData("text/html",c)},onDragOver:b=>{var c;return c=a.id,void(b.preventDefault(),b.dataTransfer.dropEffect="move",F(c))},onDragLeave:Y,onDrop:b=>Z(b,a.id),onClick:b=>{b.stopPropagation(),s(a.id)},className:`bg-white rounded-2xl shadow-sm border-2 transition-all relative group flex flex-col overflow-hidden h-[380px] ${r===a.id?"border-purple-500 ring-4 ring-purple-50 shadow-md":"border-transparent hover:border-slate-200"} ${y===a.id?"opacity-40 grayscale scale-95":""} ${D===a.id?"border-purple-400 border-dashed scale-[1.03] bg-purple-50/50":""}`,children:[(0,b.jsxs)("div",{className:"p-4 border-b border-slate-50 flex items-center justify-between bg-white/80 backdrop-blur-sm sticky top-0 z-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden flex-1",children:[(0,b.jsx)("div",{className:"cursor-move text-slate-300 hover:text-slate-500 transition-colors p-1 rounded hover:bg-slate-50",children:(0,b.jsx)(C,{size:16,weight:"bold"})}),(0,b.jsx)("span",{className:"font-bold text-slate-700 text-sm truncate",children:a.title})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),J(a.id)},className:"p-1.5 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Maximizar",children:(0,b.jsx)(E,{size:14,weight:"bold"})}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),((a,b)=>{if(!b)return;if("MATRIX"===b.type){let c=["Proyecto","Progreso Total",...Array.from({length:b.maxPhases},(a,b)=>`Fase ${b+1}`)],d=new Blob([`
                <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">
                <head>
                    <meta charset="utf-8">
                    <style>
                        table { border-collapse: collapse; font-family: sans-serif; }
                        th { background-color: #7c3aed; color: white; border: 1px solid #ddd; padding: 10px; }
                        td { border: 1px solid #ddd; padding: 10px; text-align: center; font-size: 12px; }
                        .project-cell { text-align: left; font-weight: bold; background-color: #f8fafc; }
                        .progress-high { background-color: #10b981; color: white; }
                        .progress-mid { background-color: #8b5cf6; color: white; }
                        .progress-low { background-color: #f1f5f9; color: #64748b; }
                        .team { font-size: 10px; color: #475569; display: block; margin-top: 4px; }
                    </style>
                </head>
                <body>
                    <table>
                        <thead>
                            <tr>${c.map(a=>`<th>${a}</th>`).join("")}</tr>
                        </thead>
                        <tbody>
                            ${b.rows.map(a=>`
                                <tr>
                                    <td class="project-cell">${a.project}</td>
                                    <td>${a.progress}%</td>
                                    ${Array.from({length:b.maxPhases},(b,c)=>{let d=a.phases[c];if(!d)return"<td>-</td>";let e=d.progress>=80?"progress-high":d.progress>=20?"progress-mid":"progress-low";return`<td class="${e}">
                                            <div><strong>${d.name}</strong></div>
                                            <div>${d.progress}%</div>
                                            <div class="team">${d.team||""}</div>
                                        </td>`}).join("")}
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                </body>
                </html>
            `.replace(/>\s+</g,"><")],{type:"application/vnd.ms-excel"}),e=URL.createObjectURL(d),f=document.body.appendChild(document.createElement("a"));f.href=e,f.download=`${a.title}.xls`,f.click(),document.body.removeChild(f);return}let c="data:text/csv;charset=utf-8,";c+="\uFEFF",b.labels&&b.data?(c+="Etiqueta,Valor\n",b.labels.forEach((a,d)=>{c+=`"${a}",${b.data[d]}
`})):b.value&&(c+=`KPI,Valor
"${b.label}","${b.value}"
`);let d=encodeURI(c),e=document.body.appendChild(document.createElement("a"));e.href=d,e.download=`${a.title}.csv`,e.click(),document.body.removeChild(e)})(a,n)},className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Exportar CSV",children:(0,b.jsx)(x.DownloadSimple,{size:14,weight:"bold"})}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),W(a.id)},className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:(0,b.jsx)(w.Trash,{size:14,weight:"bold"})})]})]}),(0,b.jsxs)("div",{className:"flex-1 p-4 overflow-hidden flex flex-col relative",children:[n?(0,b.jsxs)(b.Fragment,{children:["KPI"===a.config.chartType&&(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-fadeIn",children:[(0,b.jsx)("div",{className:"text-5xl font-black text-slate-900 mb-2 drop-shadow-sm",children:n.value}),(0,b.jsx)("div",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-bold bg-slate-100 px-2 py-1 rounded-full",children:n.label})]}),"BAR"===a.config.chartType&&(0,b.jsxs)("div",{className:"flex-1 flex flex-col pt-2",children:[(0,b.jsx)("div",{className:"flex-1 flex items-end gap-2 px-2 pb-2 w-full min-h-[150px]",children:n.labels.map((a,c)=>{let d=Math.max(...n.data,1),e=n.data[c]/d*100;return(0,b.jsx)("div",{className:"flex-1 flex flex-col items-center group/bar relative h-full justify-end",children:(0,b.jsx)("div",{className:"w-full bg-gradient-to-t from-purple-600 to-purple-400 rounded-t-lg transition-all duration-500 group-hover/bar:from-purple-500 group-hover/bar:to-purple-300 shadow-sm relative min-h-[2px]",style:{height:`${Math.max(e,2)}%`},children:(0,b.jsx)("div",{className:"absolute -top-7 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[9px] px-1.5 py-0.5 rounded opacity-0 group-hover/bar:opacity-100 transition-opacity whitespace-nowrap z-20 shadow-xl font-bold",children:n.data[c]})})},c)})}),(0,b.jsx)("div",{className:"flex justify-between gap-1 px-1 border-t border-slate-50 pt-2",children:n.labels.map((a,c)=>(0,b.jsx)("span",{className:"flex-1 text-[8px] text-slate-400 truncate text-center font-bold",title:a,children:a.substring(0,8)},c))})]}),"PIE"===a.config.chartType&&(0,b.jsxs)("div",{className:"flex-1 flex items-center justify-center gap-6 p-4",children:[(0,b.jsx)("div",{className:"relative w-36 h-36 flex-shrink-0",children:(0,b.jsxs)("svg",{viewBox:"0 0 100 100",className:"w-full h-full -rotate-90 filter drop-shadow-md",children:[n.data.reduce((a,c,d)=>{let e=n.data.reduce((a,b)=>a+b,0),f=a.totalPercent,g=c/e*100;a.totalPercent+=g;let h=50+40*Math.cos(2*Math.PI*f/100),i=50+40*Math.sin(2*Math.PI*f/100),j=50+40*Math.cos(2*Math.PI*a.totalPercent/100),k=50+40*Math.sin(2*Math.PI*a.totalPercent/100),l=`M 50 50 L ${h} ${i} A 40 40 0 ${+(g>50)} 1 ${j} ${k} Z`;return a.paths.push((0,b.jsx)("path",{d:l,fill:["#8b5cf6","#ec4899","#3b82f6","#10b981","#f59e0b","#ef4444"][d%6],className:"hover:opacity-80 transition-opacity cursor-pointer group/pie",children:(0,b.jsxs)("title",{children:[n.labels[d],": ",c," (",Math.round(g),"%)"]})},d)),a},{totalPercent:0,paths:[]}).paths,(0,b.jsx)("circle",{cx:"50",cy:"50",r:"20",fill:"white"})]})}),(0,b.jsx)("div",{className:"flex flex-col gap-1.5 flex-1 min-w-0 max-h-[200px] overflow-y-auto pr-2 custom-scrollbar",children:n.labels.map((a,c)=>{let d=n.data.reduce((a,b)=>a+b,0),e=Math.round(n.data[c]/d*100);return(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3 group/row",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:["#8b5cf6","#ec4899","#3b82f6","#10b981","#f59e0b","#ef4444"][c%6]}}),(0,b.jsx)("span",{className:"text-[10px] text-slate-600 font-medium truncate",children:a})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[(0,b.jsxs)("span",{className:"text-[10px] font-bold text-slate-900",children:[e,"%"]}),(0,b.jsxs)("span",{className:"text-[8px] text-slate-400",children:["(",n.data[c],")"]})]})]},c)})})]}),"RADAR"===a.config.chartType&&(0,b.jsx)("div",{className:"flex items-center justify-center p-2 flex-1 overflow-hidden",children:(0,b.jsxs)("svg",{viewBox:"-120 -120 240 240",className:"w-full h-full max-w-[280px] max-h-[280px]",children:[[20,40,60,80,100].map(a=>(0,b.jsx)("circle",{cx:"0",cy:"0",r:a,fill:"none",stroke:"#e2e8f0",strokeWidth:"0.5"},a)),n.labels.map((a,c)=>{let d=2*Math.PI*c/n.labels.length,e=100*Math.cos(d-Math.PI/2),f=100*Math.sin(d-Math.PI/2);return(0,b.jsx)("line",{x1:"0",y1:"0",x2:e,y2:f,stroke:"#cbd5e1",strokeWidth:"0.5"},c)}),(0,b.jsx)("polygon",{points:n.labels.map((a,b)=>{let c=(n.data[b]||0)/100*100,d=2*Math.PI*b/n.labels.length,e=Math.cos(d-Math.PI/2)*c,f=Math.sin(d-Math.PI/2)*c;return`${e},${f}`}).join(" "),fill:"rgba(139, 92, 246, 0.15)",stroke:"#8b5cf6",strokeWidth:"2.5"}),n.labels.map((a,c)=>{let d=2*Math.PI*c/n.labels.length,e=115*Math.cos(d-Math.PI/2),f=115*Math.sin(d-Math.PI/2),g=a.length>12?a.substring(0,10)+"...":a;return(0,b.jsx)("text",{x:e,y:f,textAnchor:"middle",dominantBaseline:"middle",fill:"#475569",fontSize:"8",fontWeight:"600",children:g},c)})]})}),"LINE"===a.config.chartType&&(0,b.jsxs)("div",{className:"flex-1 flex flex-col pt-4 px-2",children:[(0,b.jsx)("div",{className:"flex-1 w-full relative h-[180px]",children:(0,b.jsx)("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"w-full h-full overflow-visible",children:(c=Math.max(...n.data,1),e=100/(n.data.length-1||1),g=n.data.map((a,b)=>`${b*e},${100-a/c*100}`).join(" "),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("polyline",{points:g,fill:"none",stroke:"#8b5cf6",strokeWidth:"2.5",vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",className:"drop-shadow-sm"}),(0,b.jsx)("path",{d:`M ${g} L 100,100 L 0,100 Z`,fill:"url(#lineGradient)"}),(0,b.jsx)("defs",{children:(0,b.jsxs)("linearGradient",{id:"lineGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"0%",stopColor:"#8b5cf6",stopOpacity:"0.1"}),(0,b.jsx)("stop",{offset:"100%",stopColor:"#8b5cf6",stopOpacity:"0"})]})})]}))})}),(0,b.jsx)("div",{className:"flex justify-between px-1 text-[8px] text-slate-400 font-bold uppercase tracking-wider mt-4",children:n.labels.map((a,c)=>(0,b.jsx)("span",{className:"truncate w-8 text-center",children:a.substring(0,3)},c))})]}),"MATRIX"===a.config.chartType&&n?.type==="MATRIX"&&(0,b.jsx)("div",{className:"flex-1 overflow-auto rounded-lg border border-slate-100 bg-slate-50/50 custom-scrollbar",children:(0,b.jsxs)("table",{className:"w-full text-left text-[10px] border-collapse min-w-[600px]",children:[(0,b.jsx)("thead",{className:"bg-white sticky top-0 z-10 border-b shadow-sm",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-3 font-bold text-slate-700 bg-white min-w-[140px] sticky left-0 z-20 border-r",children:"Proyecto"}),(0,b.jsx)("th",{className:"p-3 font-bold text-slate-700 text-center bg-white border-r",children:"Progreso Total"}),Array.from({length:n.maxPhases||0}).map((a,c)=>(0,b.jsxs)("th",{className:"p-3 font-bold text-slate-700 text-center bg-white border-r min-w-[120px]",children:["Fase ",c+1]},c))]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:n.rows.map(a=>(0,b.jsxs)("tr",{className:"bg-white hover:bg-slate-50 transition-colors",children:[(0,b.jsx)("td",{className:"p-3 font-bold text-slate-800 sticky left-0 bg-inherit z-10 border-r shadow-[2px_0_5px_rgba(0,0,0,0.02)]",children:a.project}),(0,b.jsx)("td",{className:"p-3 text-center border-r",children:(0,b.jsx)("div",{className:"flex items-center gap-1 justify-center",children:(0,b.jsxs)("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black ${100===a.progress?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:[a.progress,"%"]})})}),Array.from({length:n.maxPhases||0}).map((c,d)=>{let e=a.phases?.[d];return e?(0,b.jsx)("td",{className:"p-3 border-r",children:(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center text-[8px] font-bold uppercase truncate",title:e.name,children:[(0,b.jsx)("span",{className:"truncate max-w-[80px]",children:e.name}),(0,b.jsxs)("span",{className:100===e.progress?"text-green-600":"text-purple-600",children:[e.progress,"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-slate-100 h-1.5 rounded-full overflow-hidden shadow-inner",children:(0,b.jsx)("div",{className:`h-full transition-all duration-700 ${100===e.progress?"bg-green-500":"bg-purple-500"}`,style:{width:`${e.progress}%`}})}),e.team&&(0,b.jsxs)("div",{className:"text-[7px] text-slate-400 truncate mt-0.5 italic",title:e.team,children:["Ref: ",e.team]})]})},d):(0,b.jsx)("td",{className:"p-3 text-center bg-slate-50/30 border-r text-slate-300",children:"-"},d)})]},a.id))})]})}),"GANTT"===a.config.chartType&&(0,b.jsxs)("div",{className:"flex-1 flex flex-col p-2 space-y-3",children:[n.tasks.map((a,c)=>(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsxs)("div",{className:"flex justify-between text-[8px] font-bold text-slate-500 uppercase px-1",children:[(0,b.jsx)("span",{className:"truncate max-w-[150px]",children:a.name}),(0,b.jsxs)("span",{className:"text-slate-400",children:["Progreso: ",a.progress,"%"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"text-[7px] text-slate-300 w-8",children:["Dic ",2*c+1]}),(0,b.jsx)("div",{className:"flex-1 h-3 bg-slate-100 rounded-md overflow-hidden relative shadow-inner border border-slate-200/50",children:(0,b.jsx)("div",{className:`h-full absolute left-0 ${"COMPLETED"===a.status?"bg-green-500":"IN_PROGRESS"===a.status?"bg-purple-500":"bg-slate-300"} shadow-lg rounded-r-md transition-all duration-1000`,style:{width:`${Math.max(a.progress,15)}%`,marginLeft:`${10*c}%`},children:(0,b.jsx)("div",{className:"w-full h-full bg-white/20 animate-pulse"})})}),(0,b.jsxs)("span",{className:"text-[7px] text-slate-300 w-8",children:["Ene ",2*c+5]})]})]},c)),(0,b.jsxs)("div",{className:"flex justify-between px-10 text-[7px] font-black text-slate-300 border-t border-slate-100 pt-2",children:[(0,b.jsx)("span",{children:"SEMANA 1"}),(0,b.jsx)("span",{children:"SEMANA 2"}),(0,b.jsx)("span",{children:"SEMANA 3"}),(0,b.jsx)("span",{children:"SEMANA 4"})]})]}),"BAR_STACKED"===a.config.chartType&&n?.type==="STACKED"&&(0,b.jsxs)("div",{className:"flex-1 flex flex-col px-2 pt-4",children:[(0,b.jsx)("div",{className:"flex-1 flex items-end gap-3 pb-6 border-b border-slate-100",children:n.labels.map((a,c)=>{let d=n.series.reduce((a,b)=>a+b.data[c],0),e=Math.max(...n.labels.map((a,b)=>n.series.reduce((a,c)=>a+c.data[b],0)),1);return(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center group/stacked relative",children:[(0,b.jsx)("div",{className:"w-full flex flex-col-reverse rounded-t-lg overflow-hidden shadow-sm",style:{height:`${100/e*d}%`},children:n.series.map((a,e)=>{let f=a.data[c];return 0===f?null:(0,b.jsx)("div",{className:"w-full hover:brightness-110 transition-all cursor-pointer",style:{height:`${f/d*100}%`,backgroundColor:["#e2e8f0","#8b5cf6","#10b981","#f59e0b"][e%4]},title:`${a.name}: ${f}`},e)})}),(0,b.jsx)("span",{className:"text-[8px] text-slate-400 mt-2 truncate w-full text-center font-bold",children:a.substring(0,5)})]},c)})}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:n.series.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:["#e2e8f0","#8b5cf6","#10b981","#f59e0b"][c%4]}}),(0,b.jsx)("span",{className:"text-[7px] font-bold text-slate-400 uppercase",children:a.name})]},c))})]}),"FUNNEL"===a.config.chartType&&(0,b.jsx)("div",{className:"flex-1 flex flex-col justify-center space-y-2 px-6",children:(j=Math.max(...(i=["Sin Iniciar","En Proceso","Completado"].map(a=>{let b=n.labels.findIndex(b=>b.includes(a)||"Sin Iniciar"===a&&b.includes("NOT_STARTED")||"En Proceso"===a&&b.includes("IN_PROGRESS")||"Completado"===a&&b.includes("COMPLETED"));return{label:a,value:b>=0?n.data[b]:0}})).map(a=>a.value),1),k=["bg-slate-300","bg-purple-400","bg-purple-600"],i.map((a,c)=>{let d=a.value/j*100;return(0,b.jsx)("div",{className:"w-full flex flex-col items-center",children:(0,b.jsxs)("div",{className:`h-8 ${k[c]} rounded-xl flex items-center justify-between px-4 text-white text-[10px] font-bold shadow-sm transition-all hover:scale-[1.02] cursor-pointer`,style:{width:`${Math.max(d,30)}%`},children:[(0,b.jsx)("span",{children:a.label}),(0,b.jsx)("span",{className:"bg-white/20 px-1.5 py-0.5 rounded-lg ml-2",children:a.value})]})},c)}))})]}):(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300 text-center p-8 space-y-3",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-slate-50 flex items-center justify-center border border-slate-100 border-dashed",children:(0,b.jsx)(h.ChartBar,{size:32,weight:"thin"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500",children:"Sin Visualización"}),(0,b.jsx)("p",{className:"text-[10px] mt-1 text-slate-400",children:"Selecciona datos válidos para generar el gráfico"})]})]}),(0,b.jsxs)("div",{className:"absolute bottom-2 right-2 flex items-center gap-1.5 bg-slate-50/80 backdrop-blur-sm px-2 py-1 rounded-full border border-slate-100 z-0",children:[(0,b.jsx)("div",{className:`w-1.5 h-1.5 rounded-full ${m?.sourceType==="UPLOAD"?"bg-green-500":"bg-blue-500"}`}),(0,b.jsx)("span",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-tighter",children:m?.sourceType})]})]})]},a.id)}),0===a.widgets.length&&(0,b.jsxs)("div",{className:"col-span-full border-2 border-dashed border-slate-200 rounded-3xl h-48 flex flex-col items-center justify-center text-slate-400 bg-slate-50/30 group/empty hover:bg-slate-50 hover:border-purple-200 transition-all cursor-pointer",onClick:()=>T(a.id),children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-white shadow-sm flex items-center justify-center mb-3 group-hover/empty:scale-110 transition-transform",children:(0,b.jsx)(e.Plus,{size:24,className:"text-slate-300 group-hover/empty:text-purple-500"})}),(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-500",children:"Sección Vacía"}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Haz clic para añadir tu primera visualización"})]})]})]},a.id)),(0,b.jsxs)("div",{className:"flex justify-center pt-12 items-center gap-4",children:[(0,b.jsx)("div",{className:"h-[1px] bg-slate-200 flex-1"}),(0,b.jsxs)("button",{onClick:()=>{let a={id:`SEC-${Date.now()}`,title:"NUEVA SECCIÓN",widgets:[]};q({...p,sections:[...p.sections,a]})},className:"flex items-center gap-2 px-8 py-4 bg-white border-2 border-dashed border-slate-300 text-slate-500 rounded-2xl hover:border-purple-400 hover:text-purple-600 hover:bg-purple-50 hover:shadow-xl hover:shadow-purple-500/5 transition-all font-bold text-sm group",children:[(0,b.jsx)(H.PlusCircle,{size:24,weight:"bold",className:"group-hover:rotate-90 transition-transform duration-300"}),"Añadir Nueva Sección de Análisis"]}),(0,b.jsx)("div",{className:"h-[1px] bg-slate-200 flex-1"})]})]})]})]}),L&&(0,b.jsx)(ad,{dashboard:p,onClose:()=>O(!1),users:f.users}),I&&(()=>{let a=p.sections.flatMap(a=>a.widgets).find(a=>a.id===I);if(!a)return null;let c=d.find(b=>b.id===a.config.datasetId),e=c?X(a.config,c,f,l):null;return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-8",onClick:()=>J(null),children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-7xl h-[90vh] flex flex-col",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:a.title}),(0,b.jsx)("button",{onClick:()=>J(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Cerrar",children:(0,b.jsx)(G,{size:24,className:"text-slate-600"})})]}),(0,b.jsx)("div",{className:"flex-1 p-8 overflow-auto",children:e?(0,b.jsxs)("div",{className:"h-full flex items-center justify-center",children:["KPI"===a.config.chartType&&(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-8xl font-black text-slate-900 mb-4",children:e.value}),(0,b.jsx)("div",{className:"text-2xl text-slate-500 uppercase tracking-wider",children:e.label})]}),"MATRIX"===a.config.chartType&&e?.type==="MATRIX"&&(0,b.jsx)("div",{className:"w-full h-full flex flex-col p-4",children:(0,b.jsx)("div",{className:"overflow-auto rounded-xl border border-slate-200 bg-white shadow-xl",children:(0,b.jsxs)("table",{className:"w-full text-left text-sm border-collapse",children:[(0,b.jsx)("thead",{className:"bg-slate-50 sticky top-0 z-10 border-b group",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-5 font-bold text-slate-900 bg-slate-50 min-w-[200px] sticky left-0 z-20 border-r",children:"Nombre del Proyecto"}),(0,b.jsx)("th",{className:"p-5 font-bold text-slate-900 text-center bg-slate-50 border-r min-w-[120px]",children:"Salud Total"}),Array.from({length:e.maxPhases||0}).map((a,c)=>(0,b.jsxs)("th",{className:"p-5 font-bold text-slate-900 text-center bg-slate-50 border-r min-w-[180px]",children:["Fase ",c+1]},c))]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:e.rows.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[(0,b.jsx)("td",{className:"p-5 font-bold text-slate-900 sticky left-0 bg-white group-hover:bg-slate-50 z-10 border-r shadow-md",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),a.project]})}),(0,b.jsx)("td",{className:"p-5 border-r",children:(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:"flex justify-between font-black text-xs",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"AVANCE"}),(0,b.jsxs)("span",{className:"text-purple-600",children:[a.progress,"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-slate-100 h-2 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full ${100===a.progress?"bg-green-500":"bg-purple-600"} shadow-lg`,style:{width:`${a.progress}%`}})})]})}),Array.from({length:e.maxPhases||0}).map((c,d)=>{let e=a.phases?.[d];return e?(0,b.jsx)("td",{className:"p-5 border-r",children:(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:["FASE ",d+1]}),(0,b.jsx)("span",{className:"font-bold text-slate-800 text-xs truncate max-w-[150px]",title:e.name,children:e.name}),e.team&&(0,b.jsxs)("span",{className:"text-[9px] text-slate-500 italic mt-0.5 truncate max-w-[150px]",title:e.team,children:["Responsable: ",e.team]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 bg-slate-100 h-2 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full transition-all duration-1000 ${100===e.progress?"bg-green-500":"bg-purple-500"}`,style:{width:`${e.progress}%`}})}),(0,b.jsxs)("span",{className:"text-xs font-bold text-slate-600 w-10 text-right",children:[e.progress,"%"]})]})]})},d):(0,b.jsx)("td",{className:"p-5 text-center bg-slate-50/20 border-r text-slate-300",children:"-"},d)})]},a.id))})]})})}),"KPI"!==a.config.chartType&&"MATRIX"!==a.config.chartType&&(0,b.jsx)("div",{className:"w-full h-full bg-slate-50 rounded-xl flex items-center justify-center text-slate-400",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(k.PresentationChart,{size:64,className:"mx-auto mb-4"}),(0,b.jsxs)("p",{className:"text-lg",children:["Vista maximizada para ",a.config.chartType]}),(0,b.jsx)("p",{className:"text-sm mt-2",children:"Visualización ampliada en desarrollo."})]})})]}):(0,b.jsx)("div",{className:"h-full flex items-center justify-center text-slate-400",children:(0,b.jsx)("p",{children:"No hay datos disponibles para esta vista."})})})]})})})()]})}function $({datasets:a,onNormalize:c}){return(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,b.jsx)("thead",{className:"bg-slate-50 text-slate-500 font-semibold border-b border-slate-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4 pl-6",children:"Nombre"}),(0,b.jsx)("th",{className:"p-4",children:"Origen"}),(0,b.jsx)("th",{className:"p-4",children:"Filas"}),(0,b.jsx)("th",{className:"p-4",children:"Acceso"}),(0,b.jsx)("th",{className:"p-4",children:"Actualizado"}),(0,b.jsx)("th",{className:"p-4 text-right pr-6",children:"Acciones"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50 group",children:[(0,b.jsxs)("td",{className:"p-4 pl-6 font-bold text-slate-800 flex items-center gap-3",children:[(0,b.jsx)("span",{className:`p-1.5 rounded ${"UPLOAD"===a.sourceType?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:"UPLOAD"===a.sourceType?(0,b.jsx)(i.FileCsv,{}):(0,b.jsx)(l.Kanban,{})}),a.title]}),(0,b.jsx)("td",{className:"p-4 text-slate-600",children:(0,b.jsx)("span",{className:"badge border border-slate-200",children:a.sourceType})}),(0,b.jsx)("td",{className:"p-4 text-slate-600",children:a.rows}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("span",{className:`text-xs px-2 py-1 rounded-full font-bold flex w-fit items-center gap-1 ${"PRIVATE"===a.access?"bg-slate-100 text-slate-600":"bg-blue-50 text-blue-600"}`,children:["PRIVATE"===a.access?(0,b.jsx)(t.Lock,{size:10}):(0,b.jsx)(u.Globe,{size:10})," ",a.access]})}),(0,b.jsx)("td",{className:"p-4 text-slate-400 text-xs",children:a.updatedAt}),(0,b.jsx)("td",{className:"p-4 text-right pr-6",children:(0,b.jsxs)("button",{onClick:()=>c(a),className:"p-2 hover:bg-purple-100 text-purple-600 rounded-lg transition-colors flex items-center gap-2 font-bold text-xs",title:"Normalizar Datos",children:[(0,b.jsx)(q,{size:16,weight:"fill"}),"Normalizar"]})})]},a.id))})]})})}function _({dashboard:a,onClick:c,onDelete:d,onEdit:e,onShare:f}){return(0,b.jsxs)("div",{onClick:c,className:"bg-white border border-slate-200 p-5 rounded-xl hover:shadow-lg hover:border-purple-200 cursor-pointer transition-all group relative",children:[(0,b.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1 z-10 opacity-0 group-hover:opacity-100 transition-all",children:[(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),f()},className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Compartir",children:(0,b.jsx)(g.ShareNetwork,{size:16})}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),e()},className:"p-1.5 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-all",title:"Propiedades",children:(0,b.jsx)(s.Gear,{size:16})}),d&&(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),confirm(`\xbfEst\xe1s seguro de eliminar el tablero "${a.title}"?

Esta acci\xf3n no se puede deshacer.`)&&d(a.id)},className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Eliminar",children:(0,b.jsx)(w.Trash,{size:16})})]}),(0,b.jsxs)("div",{className:"aspect-video bg-slate-50 rounded-lg mb-4 flex items-center justify-center border border-slate-100 group-hover:bg-purple-50 transition-colors relative overflow-hidden",children:[(0,b.jsx)(h.ChartBar,{size:32,className:"text-slate-300 group-hover:text-purple-400"}),a.isAuto&&(0,b.jsxs)("div",{className:"absolute top-0 left-0 bg-purple-600 text-white text-[9px] font-black px-2 py-1 uppercase tracking-tighter flex items-center gap-1",children:[(0,b.jsx)(q,{size:10,weight:"fill"}),"Autogenerado"]})]}),(0,b.jsx)("h3",{className:"font-bold text-slate-800 mb-1",children:a.title}),(a.unit||a.process)&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1.5 mt-2 mb-2",children:[a.unit&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-purple-50 border border-purple-200 text-purple-700 rounded text-[10px] font-bold uppercase",children:a.unit}),a.process&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-blue-50 border border-blue-200 text-blue-700 rounded text-[10px] font-semibold",children:a.process}),!a.unit&&!a.process&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-slate-50 border border-slate-200 text-slate-500 rounded text-[10px] font-bold uppercase",children:"GLOBAL"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-xs text-slate-400 mt-3",children:[(0,b.jsx)("span",{children:a.updatedAt}),(0,b.jsx)("span",{className:`px-1.5 py-0.5 rounded border ${"PUBLIC_ORG"===a.access?"bg-blue-50 border-blue-100 text-blue-600":"bg-slate-50 border-slate-100"}`,children:a.access})]})]})}function aa({dashboard:a,onClose:d,onSave:e}){let{currentTenantId:f}=(0,R.useApp)(),[g,h]=(0,c.useState)(a.title),[i,j]=(0,c.useState)(a.description),[k,l]=(0,c.useState)(a.access),[n,o]=(0,c.useState)("GLOBAL"),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(a.process||"");(0,c.useEffect)(()=>{if(a.unit){let b=Q.DB.units.find(b=>b.name===a.unit&&b.tenantId===f);if(b){if(1===b.depth)o(a.unit),q("");else if(2===b.depth){let c=Q.DB.units.find(a=>a.id===b.parentId);c&&(o(c.name),q(a.unit))}}}},[a.unit,f]);let v=(0,c.useMemo)(()=>Q.DB.units.filter(a=>a.tenantId===f&&"UNIT"===a.type&&1===a.depth).map(a=>a.name),[f]),w=(0,c.useMemo)(()=>{if("GLOBAL"===n||!n)return[];let a=Q.DB.units.find(a=>a.tenantId===f&&"UNIT"===a.type&&a.name===n&&1===a.depth);return a?Q.DB.units.filter(b=>b.tenantId===f&&"UNIT"===b.type&&b.parentId===a.id).map(a=>a.name):[]},[f,n]),x=(0,c.useMemo)(()=>{if("GLOBAL"===n)return[];let a=p||n;if(!a)return[];let b=Q.DB.units.find(b=>b.tenantId===f&&b.name===a);return b?Q.DB.units.filter(a=>a.tenantId===f&&"PROCESS"===a.type&&a.parentId===b.id).map(a=>a.name):[]},[f,n,p]);(0,c.useEffect)(()=>{q(""),s("")},[n]),(0,c.useEffect)(()=>{s("")},[p]);let y="GLOBAL"===n||"GLOBAL"!==n&&r;return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fadeIn",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-md animate-scaleIn max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"font-bold text-lg",children:"Propiedades del Tablero"}),(0,b.jsx)("button",{onClick:d,className:"p-1 hover:bg-slate-100 rounded-full",children:(0,b.jsx)(m.X,{size:20})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Título"}),(0,b.jsx)("input",{className:"input",value:g,onChange:a=>h(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Descripción"}),(0,b.jsx)("textarea",{className:"input h-24 resize-none",value:i,onChange:a=>j(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Área"}),(0,b.jsxs)("select",{className:"w-full text-sm bg-white border border-slate-200 rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-purple-500",value:n,onChange:a=>o(a.target.value),children:[(0,b.jsx)("option",{value:"GLOBAL",children:"Global (Toda la Organización)"}),v.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),"GLOBAL"!==n&&w.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Subárea (Opcional)"}),(0,b.jsxs)("select",{className:"w-full text-sm bg-white border border-slate-200 rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-purple-500",value:p,onChange:a=>q(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"-- Sin Subárea --"}),w.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),"GLOBAL"!==n&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Proceso *"}),(0,b.jsxs)("select",{className:"w-full text-sm bg-white border border-slate-200 rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-purple-500",value:r,onChange:a=>s(a.target.value),disabled:0===x.length,children:[(0,b.jsx)("option",{value:"",children:"-- Seleccionar Proceso --"}),x.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),0===x.length&&(0,b.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:p?"No hay procesos disponibles para esta subárea":"Selecciona una subárea o el área tendrá procesos directos"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Visibilidad"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)("button",{onClick:()=>l("PRIVATE"),className:`flex items-center gap-2 p-3 border rounded-xl text-xs font-bold transition-all ${"PRIVATE"===k?"bg-slate-100 border-slate-500 text-slate-900 shadow-inner":"bg-white border-slate-200 text-slate-400 hover:border-slate-300"}`,children:[(0,b.jsx)(t.Lock,{size:16})," Privado"]}),(0,b.jsxs)("button",{onClick:()=>l("PUBLIC_ORG"),className:`flex items-center gap-2 p-3 border rounded-xl text-xs font-bold transition-all ${"PUBLIC_ORG"===k?"bg-blue-50 border-blue-500 text-blue-700 shadow-inner":"bg-white border-slate-200 text-slate-400 hover:border-blue-300"}`,children:[(0,b.jsx)(u.Globe,{size:16})," Pública (Org)"]})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-8",children:[(0,b.jsx)("button",{onClick:d,className:"btn-ghost text-slate-500 px-6",children:"Cancelar"}),(0,b.jsx)("button",{onClick:()=>{e({title:g,description:i,access:k,unit:p||("GLOBAL"!==n?n:void 0),process:r||void 0})},disabled:!y,className:"btn bg-purple-600 text-white px-8 h-10 shadow-lg shadow-purple-500/20 disabled:opacity-50 disabled:cursor-not-allowed",children:"Guardar Cambios"})]})]})})}function ab({onClose:a,onCreate:d,folderDatasets:e}){let{currentTenantId:f}=(0,R.useApp)(),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[l,n]=(0,c.useState)("PRIVATE"),[o,p]=(0,c.useState)(""),[r,s]=(0,c.useState)("GLOBAL"),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),z=(0,c.useMemo)(()=>Q.DB.units.filter(a=>a.tenantId===f&&"UNIT"===a.type&&1===a.depth).map(a=>a.name),[f]),A=(0,c.useMemo)(()=>{if("GLOBAL"===r||!r)return[];let a=Q.DB.units.find(a=>a.tenantId===f&&"UNIT"===a.type&&a.name===r&&1===a.depth);return a?Q.DB.units.filter(b=>b.tenantId===f&&"UNIT"===b.type&&b.parentId===a.id).map(a=>a.name):[]},[f,r]),B=(0,c.useMemo)(()=>{if("GLOBAL"===r)return[];let a=v||r;if(!a)return[];let b=Q.DB.units.find(b=>b.tenantId===f&&b.name===a);return b?Q.DB.units.filter(a=>a.tenantId===f&&"PROCESS"===a.type&&a.parentId===b.id).map(a=>a.name):[]},[f,r,v]);(0,c.useEffect)(()=>{o||(w(""),y(""))},[r,o]),(0,c.useEffect)(()=>{o||y("")},[v,o]),(0,c.useEffect)(()=>{if(o){let a=e.find(a=>a.id===o);if(a){let b=a._filterFolderId,c=Q.DB.projectFolders.find(a=>a.id===b);if(c){if(c.unit){let a=c.unit.split(" > ");a.length>0&&s(a[0]),a.length>1&&w(a[1])}c.process&&y(c.process),g||h(`Tablero Proyectos: ${c.name}`)}}}},[o,e]);let C=!!o,D=g.trim().length>0&&("GLOBAL"===r||x);return(0,b.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl animate-scaleIn max-h-[95vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8 border-b border-slate-100 pb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"font-extrabold text-2xl text-slate-800 flex items-center gap-2",children:[(0,b.jsx)(k.PresentationChart,{className:"text-purple-600",weight:"fill"}),"Crear Nuevo Tablero"]}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Configura las propiedades y origen de datos de tu tablero."})]}),(0,b.jsx)("button",{onClick:a,className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400",children:(0,b.jsx)(m.X,{size:24})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Información General"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{children:(0,b.jsx)("input",{className:"input w-full font-bold text-lg",autoFocus:!0,value:g,onChange:a=>h(a.target.value),placeholder:"Título del Tablero"})}),(0,b.jsx)("div",{children:(0,b.jsx)("textarea",{className:"input w-full min-h-[100px] text-sm py-3",value:i,onChange:a=>j(a.target.value),placeholder:"Descripción o propósito del análisis..."})})]})]}),(0,b.jsxs)("div",{className:"p-4 bg-purple-50 rounded-2xl border border-purple-100",children:[(0,b.jsxs)("label",{className:"text-[10px] font-black text-purple-800 uppercase tracking-widest mb-3 block flex items-center gap-2",children:[(0,b.jsx)(q,{size:14,weight:"fill"}),"Autogenerador desde Proyecto"]}),(0,b.jsxs)("select",{className:"w-full text-sm bg-white border border-purple-200 rounded-xl px-3 py-2.5 outline-none focus:ring-2 focus:ring-purple-500 shadow-sm",value:o,onChange:a=>p(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"-- No autogenerar --"}),e&&e.map(a=>(0,b.jsx)("option",{value:a.id,children:a.title.replace("Carpeta: ","")},a.id))]}),(0,b.jsx)("p",{className:"text-[10px] text-purple-600 mt-2 italic px-1",children:C?"✓ Usando estructura de carpeta para Área/Proceso.":"Selecciona una carpeta para crear un tablero pre-configurado."})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4 block",children:"Clasificación Org."}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-[10px] text-slate-500 font-bold ml-1 uppercase",children:"Área"}),(0,b.jsxs)("select",{className:"w-full mt-1 text-sm bg-slate-50 border border-slate-200 rounded-xl px-3 py-2.5 outline-none focus:ring-2 focus:ring-purple-500",value:r,onChange:a=>s(a.target.value),disabled:C,children:[(0,b.jsx)("option",{value:"GLOBAL",children:"Global (Toda la Organización)"}),z.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),"GLOBAL"!==r&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-[10px] text-slate-500 font-bold ml-1 uppercase",children:"Subárea"}),(0,b.jsxs)("select",{className:"w-full mt-1 text-sm bg-slate-50 border border-slate-200 rounded-xl px-3 py-2.5 outline-none focus:ring-2 focus:ring-purple-500",value:v,onChange:a=>w(a.target.value),disabled:C||0===A.length,children:[(0,b.jsx)("option",{value:"",children:"-- Sin Subárea --"}),A.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-[10px] text-slate-500 font-bold ml-1 uppercase",children:"Proceso *"}),(0,b.jsxs)("select",{className:"w-full mt-1 text-sm bg-slate-50 border border-slate-200 rounded-xl px-3 py-2.5 outline-none focus:ring-2 focus:ring-purple-500",value:x,onChange:a=>y(a.target.value),disabled:C||0===B.length,children:[(0,b.jsx)("option",{value:"",children:"-- Seleccionar Proceso --"}),B.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4 block",children:"Visibilidad"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{id:"PRIVATE",label:"Privado",icon:t.Lock,desc:"Solo yo"},{id:"PUBLIC_ORG",label:"Organización",icon:u.Globe,desc:"Todo el tenant"}].map(a=>(0,b.jsxs)("button",{onClick:()=>n(a.id),className:`flex flex-col items-start gap-1 p-3 border-2 rounded-xl transition-all ${l===a.id?"border-purple-600 bg-purple-50 text-purple-700":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(a.icon,{size:16,weight:l===a.id?"fill":"bold"}),(0,b.jsx)("span",{className:"text-xs font-bold uppercase",children:a.label})]}),(0,b.jsx)("span",{className:"text-[10px] opacity-70",children:a.desc})]},a.id))})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-10 pt-6 border-t border-slate-100",children:[(0,b.jsx)("button",{onClick:a,className:"btn-ghost text-slate-500 px-6 font-bold",children:"Cancelar"}),(0,b.jsx)("button",{onClick:()=>{d(g,i,"PUBLIC_ORG"===l,o,v?`${r} > ${v}`:"GLOBAL"!==r?r:void 0,x)},disabled:!D,className:"btn bg-purple-600 text-white px-10 h-12 shadow-lg shadow-purple-500/20 disabled:opacity-50 disabled:cursor-not-allowed transform active:scale-95 transition-all font-bold",children:C?"Generar Tablero Maestro":"Crear Tablero Vacío"})]})]})})}function ac({onClose:a,onCreate:d}){let{currentTenantId:e}=(0,R.useApp)(),[g,h]=(0,c.useState)(""),[i,k]=(0,c.useState)("FILE"),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),t=(0,c.useMemo)(()=>Q.DB.docs.filter(a=>a.tenantId===e&&a.title.toLowerCase().includes(p.toLowerCase())),[e,p]),v=(0,c.useMemo)(()=>Q.DB.projects.filter(a=>a.tenantId===e&&a.title.toLowerCase().includes(p.toLowerCase())),[e,p]),w=[{id:"ST-01",name:"Amazon S3 (Data Lake Principal)",provider:"S3"},{id:"ST-02",name:"SharePoint: Reportes RRHH",provider:"SHAREPOINT"},{id:"ST-03",name:"Google Cloud Storage: Auditoría",provider:"GCS"}];return(0,b.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md animate-scaleIn max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"font-bold text-xl text-slate-800",children:"Nuevo Dataset"}),(0,b.jsx)("button",{onClick:a,className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400",children:(0,b.jsx)(m.X,{size:20})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label text-xs font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Nombre del Dataset (Opcional)"}),(0,b.jsx)("input",{className:"input w-full",value:g,onChange:a=>h(a.target.value),placeholder:"Ej: Análisis Trimestral"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label text-xs font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Tipo de Origen"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{id:"FILE",label:"Cargar Archivo",icon:f.Upload},{id:"REPOSITORY",label:"Repositorio",icon:u.Globe},{id:"PROJECTS",label:"Proyectos",icon:l.Kanban},{id:"STORAGE",label:"Storage Org.",icon:j.Database}].map(a=>(0,b.jsxs)("button",{onClick:()=>{k(a.id),q(""),s("")},className:`flex flex-col items-center gap-2 p-4 border-2 rounded-2xl transition-all ${i===a.id?"border-blue-600 bg-blue-50 text-blue-700 shadow-inner":"border-slate-100 bg-white text-slate-400 hover:border-slate-200 hover:text-slate-600"}`,children:[(0,b.jsx)(a.icon,{size:24,weight:i===a.id?"fill":"bold"}),(0,b.jsx)("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:a.label})]},a.id))})]}),"FILE"===i&&(0,b.jsxs)("div",{className:"p-6 border-2 border-dashed border-slate-200 rounded-2xl bg-slate-50 text-center animate-fadeIn",children:[(0,b.jsx)(f.Upload,{size:32,className:"mx-auto text-slate-300 mb-2"}),(0,b.jsx)("input",{type:"file",id:"file-upload",accept:".csv,.xls,.xlsx",onChange:a=>o(a.target.files?a.target.files[0]:null),className:"hidden"}),(0,b.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer block",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-blue-600 hover:underline",children:"Seleccionar archivo"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400 mt-1",children:"Excel (.xlsx, .xls) o CSV"})]}),n&&(0,b.jsx)("p",{className:"mt-3 text-xs font-bold text-slate-700 bg-white p-2 rounded border border-slate-100 shadow-sm truncate",children:n.name})]}),("REPOSITORY"===i||"PROJECTS"===i)&&(0,b.jsxs)("div",{className:"space-y-4 animate-fadeIn",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-blue-500",placeholder:"REPOSITORY"===i?"Buscar en repositorio...":"Buscar proyecto...",value:p,onChange:a=>q(a.target.value)}),(0,b.jsx)(O.MagnifyingGlass,{className:"absolute left-3 top-2.5 text-slate-400",size:18})]}),(0,b.jsxs)("div",{className:"max-h-48 overflow-y-auto border border-slate-100 rounded-xl divide-y divide-slate-50 custom-scrollbar",children:["REPOSITORY"===i?t.map(a=>(0,b.jsxs)("button",{onClick:()=>s(a.id),className:`w-full text-left p-3 text-xs transition-colors flex items-center justify-between ${r===a.id?"bg-blue-50 text-blue-700 font-bold":"hover:bg-slate-50 text-slate-600"}`,children:[(0,b.jsx)("span",{className:"truncate flex-1",children:a.title}),r===a.id&&(0,b.jsx)(P.CheckCircle,{size:14,weight:"fill"})]},a.id)):v.map(a=>(0,b.jsxs)("button",{onClick:()=>s(a.id),className:`w-full text-left p-3 text-xs transition-colors flex items-center justify-between ${r===a.id?"bg-blue-50 text-blue-700 font-bold":"hover:bg-slate-50 text-slate-600"}`,children:[(0,b.jsxs)("div",{className:"flex flex-col truncate flex-1",children:[(0,b.jsx)("span",{children:a.title}),(0,b.jsx)("span",{className:"text-[10px] font-normal text-slate-400 tracking-tighter uppercase",children:"ESTRUCTURA .XLS"})]}),r===a.id&&(0,b.jsx)(P.CheckCircle,{size:14,weight:"fill"})]},a.id)),p&&("REPOSITORY"===i?0===t.length:0===v.length)&&(0,b.jsx)("p",{className:"p-4 text-center text-xs text-slate-400 italic",children:"No se encontraron resultados."})]})]}),"STORAGE"===i&&(0,b.jsxs)("div",{className:"space-y-3 animate-fadeIn",children:[(0,b.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Puntos de Storage Configurador por Admin"}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-2",children:w.map(a=>(0,b.jsxs)("button",{onClick:()=>s(a.id),className:`w-full text-left p-4 rounded-xl border-2 transition-all flex items-center gap-3 ${r===a.id?"border-blue-600 bg-blue-50":"border-slate-100 hover:border-slate-200 bg-white"}`,children:[(0,b.jsx)("div",{className:`p-2 rounded-lg ${r===a.id?"bg-blue-600 text-white":"bg-slate-100 text-slate-400"}`,children:(0,b.jsx)(j.Database,{size:20})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:`text-sm font-bold ${r===a.id?"text-blue-700":"text-slate-700"}`,children:a.name}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400 font-mono uppercase",children:a.provider})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-8",children:[(0,b.jsx)("button",{onClick:a,className:"btn-ghost text-slate-500 px-6",children:"Cancelar"}),(0,b.jsx)("button",{onClick:()=>{let a=g;a||("FILE"===i&&n?a=n.name:"REPOSITORY"===i?a=t.find(a=>a.id===r)?.title||"Doc Repositorio":"PROJECTS"===i?a=v.find(a=>a.id===r)?.title||"Estructura Proyecto":"STORAGE"===i&&(a=w.find(a=>a.id===r)?.name||"Storage Externo")),d(a,i,"FILE"===i?n:r)},disabled:"FILE"===i&&!n||["REPOSITORY","PROJECTS","STORAGE"].includes(i)&&!r,className:"btn bg-blue-600 text-white px-8 h-12 shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transform active:scale-95 transition-all font-bold",children:"Cargar Dataset"})]})]})]})})}function ad({dashboard:a,onClose:d,users:e}){let[f,h]=(0,c.useState)("INTERNAL"),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)([]),[n,o]=(0,c.useState)(""),[p,s]=(0,c.useState)(!1),t=e.filter(a=>a.name.toLowerCase().includes(i.toLowerCase())||a.role.toLowerCase().includes(i.toLowerCase())).slice(0,5),x=`https://knowledgeflow.app/shared/dashboard/${a.id}`;return(0,b.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fadeIn",onClick:d,children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl overflow-hidden animate-scaleIn",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center shadow-inner",children:(0,b.jsx)(g.ShareNetwork,{size:24,weight:"fill"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Compartir Tablero"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:a.title})]})]}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,b.jsx)(m.X,{size:20})})]}),(0,b.jsxs)("div",{className:"flex px-6 border-b border-slate-100 bg-slate-50/30",children:[(0,b.jsxs)("button",{onClick:()=>h("INTERNAL"),className:`flex items-center gap-2 py-4 px-4 text-xs font-bold uppercase tracking-wider transition-all border-b-2 ${"INTERNAL"===f?"border-blue-600 text-blue-700":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[(0,b.jsx)(J.UserPlus,{size:16})," Colaboradores Internos"]}),(0,b.jsxs)("button",{onClick:()=>h("EXTERNAL"),className:`flex items-center gap-2 py-4 px-4 text-xs font-bold uppercase tracking-wider transition-all border-b-2 ${"EXTERNAL"===f?"border-purple-600 text-purple-700":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[(0,b.jsx)(u.Globe,{size:16})," Acceso Externo"]})]}),(0,b.jsx)("div",{className:"p-8",children:"INTERNAL"===f?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase mb-2 block tracking-widest",children:"Añadir a tu equipo"}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("input",{className:"w-full pl-11 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 focus:bg-white transition-all shadow-sm",placeholder:"Busca por nombre, correo o cargo...",value:i,onChange:a=>j(a.target.value)}),(0,b.jsx)(v.Users,{className:"absolute left-4 top-3.5 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:20})]})]}),i&&(0,b.jsx)("div",{className:"space-y-1 bg-white border border-slate-100 rounded-2xl shadow-xl p-2 animate-fadeIn max-h-56 overflow-y-auto custom-scrollbar",children:t.length>0?t.map(a=>(0,b.jsxs)("button",{onClick:()=>{k.includes(a.id)||l([...k,a.id]),j("")},className:"w-full flex items-center gap-3 p-3 hover:bg-blue-50/50 rounded-xl transition-all border border-transparent hover:border-blue-100 group",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white flex items-center justify-center font-bold text-sm shadow-md",children:a.initials}),(0,b.jsxs)("div",{className:"text-left flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-bold text-slate-800",children:a.name}),(0,b.jsx)("p",{className:"text-[11px] text-slate-500 font-medium",children:a.role})]}),(0,b.jsx)(H.PlusCircle,{size:20,className:"text-blue-500 opacity-0 group-hover:opacity-100 transition-opacity"})]},a.id)):(0,b.jsx)("div",{className:"p-4 text-center text-slate-400 text-xs italic",children:"No se encontraron usuarios"})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase block tracking-widest",children:"Usuarios con acceso"}),0===k.length?(0,b.jsxs)("div",{className:"p-8 border-2 border-dashed border-slate-100 rounded-2xl text-center bg-slate-50/50",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center mx-auto mb-3 shadow-sm border border-slate-100",children:(0,b.jsx)(v.Users,{size:24,className:"text-slate-200"})}),(0,b.jsx)("p",{className:"text-xs text-slate-400 font-medium",children:"Solo tú tienes acceso a este tablero actualmente."})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 gap-2",children:k.map(a=>{let c=e.find(b=>b.id===a);return(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow group",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center font-bold text-sm border border-slate-200",children:c?.initials}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-bold text-slate-800",children:c?.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,b.jsx)("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-2 py-0.5 rounded-full font-bold",children:"EDITOR"}),(0,b.jsx)("span",{className:"text-[10px] text-slate-400",children:"• Acceso total"})]})]}),(0,b.jsx)("button",{onClick:()=>l(k.filter(b=>b!==a)),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all",children:(0,b.jsx)(w.Trash,{size:18})})]},a)})})]})]}):(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"p-6 bg-gradient-to-br from-purple-600 to-purple-800 rounded-3xl border border-purple-400 shadow-xl shadow-purple-500/20 relative overflow-hidden group",children:[(0,b.jsx)("span",{className:"absolute -right-4 -top-4 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),(0,b.jsxs)("div",{className:"flex items-start gap-4 relative z-10",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center text-white border border-white/30",children:(0,b.jsx)(r.Link,{size:24,weight:"bold"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"text-lg font-bold text-white mb-1",children:"Enlace de Visualización Pública"}),(0,b.jsx)("p",{className:"text-white/70 text-xs leading-relaxed",children:"Comparte una versión interactiva y de solo lectura de este tablero con personas externas (clientes, socios o directivos)."})]})]}),(0,b.jsxs)("div",{className:"mt-6 flex gap-3 relative z-10",children:[(0,b.jsx)("div",{className:"flex-1 bg-black/20 backdrop-blur-md border border-white/20 rounded-2xl px-4 py-3 text-[11px] font-mono text-purple-100 truncate flex items-center shadow-inner",children:x}),(0,b.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(x),s(!0),setTimeout(()=>s(!1),2e3)},className:`px-6 py-3 rounded-2xl font-bold text-xs transition-all flex items-center gap-2 transform active:scale-95 ${p?"bg-green-500 text-white shadow-lg shadow-green-500/30":"bg-white text-purple-700 hover:bg-purple-50 shadow-lg"}`,children:[p?(0,b.jsx)(K.Check,{size:18,weight:"bold"}):(0,b.jsx)(L.Copy,{size:18}),p?"Copiado":"Copiar"]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:[(0,b.jsx)(I.Envelope,{size:14,className:"text-purple-500"}),"Enviar Invitación por Correo"]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1 group",children:[(0,b.jsx)("input",{className:"w-full pl-11 pr-4 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm outline-none focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 focus:bg-white transition-all shadow-sm",placeholder:"ejemplo@cliente.com",value:n,onChange:a=>o(a.target.value)}),(0,b.jsx)(I.Envelope,{className:"absolute left-4 top-4 text-slate-400 group-focus-within:text-purple-500 transition-colors",size:20})]}),(0,b.jsx)("button",{disabled:!n.includes("@"),onClick:()=>{alert(`Invitaci\xf3n de acceso enviada correctamente a: ${n}`),o("")},className:"bg-slate-900 text-white px-8 rounded-2xl text-xs font-bold hover:bg-slate-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-slate-900/20 active:scale-95 transform",children:"Enviar Acceso"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 px-1",children:[(0,b.jsx)("div",{className:"w-1 h-4 bg-purple-500 rounded-full"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 font-medium italic",children:"Se generará una URL única con token de seguridad para el destinatario."})]})]})]})}),(0,b.jsxs)("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex justify-end items-center gap-4",children:[(0,b.jsx)("button",{onClick:d,className:"text-xs font-bold text-slate-400 hover:text-slate-600 transition-colors uppercase tracking-widest px-4",children:"Cerrar"}),"INTERNAL"===f?(0,b.jsxs)("button",{disabled:0===k.length,onClick:()=>{alert("¡Equipos notificados y acceso concedido!"),d()},className:"bg-blue-600 text-white px-8 py-3 rounded-2xl text-xs font-bold hover:bg-blue-700 hover:shadow-xl hover:shadow-blue-500/30 transition-all disabled:opacity-50 disabled:grayscale transform active:scale-95",children:["Confirmar Accesos (",k.length,")"]}):(0,b.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 bg-white border border-slate-200 px-3 py-2 rounded-full shadow-sm",children:[(0,b.jsx)(q,{size:14,className:"text-purple-500"}),"ACTUALIZACIÓN EN TIEMPO REAL ACTIVA"]})]})]})})}function ae({dataset:a,onClose:d,onSave:e}){let[f,g]=(0,c.useState)(a.title),[h,i]=(0,c.useState)(JSON.parse(JSON.stringify(a.columns)));return(0,b.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-4xl animate-scaleIn max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8 border-b border-slate-100 pb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"font-extrabold text-2xl text-slate-800 flex items-center gap-2",children:[(0,b.jsx)(q,{className:"text-purple-600",weight:"fill"}),"Normalizar Dataset"]}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Refina los nombres y tipos de datos antes de usarlos en un tablero."})]}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400",children:(0,b.jsx)(m.X,{size:24})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"md:col-span-1 border-r border-slate-100 pr-8 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Nombre del Dataset"}),(0,b.jsx)("input",{className:"input w-full",value:f,onChange:a=>g(a.target.value)})]}),(0,b.jsxs)("div",{className:"bg-purple-50 p-4 rounded-xl border border-purple-100",children:[(0,b.jsxs)("h4",{className:"text-xs font-bold text-purple-700 flex items-center gap-2 mb-2",children:[(0,b.jsx)(l.Kanban,{size:16}),"Resumen del Origen"]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-[11px]",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Tipo:"}),(0,b.jsx)("span",{className:"font-bold text-slate-700",children:a.sourceType})]}),(0,b.jsxs)("div",{className:"flex justify-between text-[11px]",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Filas estimadas:"}),(0,b.jsx)("span",{className:"font-bold text-slate-700",children:a.rows})]}),(0,b.jsxs)("div",{className:"flex justify-between text-[11px]",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Columnas:"}),(0,b.jsx)("span",{className:"font-bold text-slate-700",children:h.length})]})]})]}),(0,b.jsx)("div",{className:"text-[10px] text-slate-400 italic",children:"Tip: Cambia los tipos de datos a NUMBER si planeas realizar cálculos matemáticos o DATE para filtros de tiempo."})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"label text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4 block",children:"Mapeo de Columnas"}),(0,b.jsx)("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:h.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-slate-50 hover:bg-white border border-transparent hover:border-slate-200 rounded-xl transition-all group",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-white shadow-sm flex items-center justify-center text-xs font-bold text-slate-400",children:c+1}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("input",{className:"bg-transparent border-none outline-none font-bold text-slate-700 w-full focus:ring-0",value:a.name,onChange:a=>{var b;let d;return b=a.target.value,void((d=[...h])[c].name=b,i(d))},placeholder:"Nombre de columna"})}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)("select",{className:"bg-white border-slate-200 text-xs rounded-lg py-1 px-3 outline-none focus:ring-2 focus:ring-purple-500",value:a.type,onChange:a=>{var b;let d;return b=a.target.value,void((d=[...h])[c].type=b,i(d))},children:[(0,b.jsx)("option",{value:"STRING",children:"TEXTO (Abc)"}),(0,b.jsx)("option",{value:"NUMBER",children:"NÚMERO (123)"}),(0,b.jsx)("option",{value:"DATE",children:"FECHA (📅)"})]})})]},c))}),(0,b.jsxs)("div",{className:"mt-8 flex justify-end gap-3",children:[(0,b.jsx)("button",{onClick:d,className:"btn-ghost text-slate-500 px-6",children:"Descartar"}),(0,b.jsx)("button",{onClick:()=>e({...a,title:f,columns:h}),className:"btn bg-purple-600 text-white px-8 h-12 shadow-lg shadow-purple-500/20 transform active:scale-95 transition-all font-bold",children:"Guardar Normalización"})]})]})]})]})})}a.s(["default",()=>Y],17372)}];

//# sourceMappingURL=app_dashboard_analytics_page_tsx_a21b0636._.js.map