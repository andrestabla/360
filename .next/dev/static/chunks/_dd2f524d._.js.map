{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ImportUsersModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { X, UploadSimple, DownloadSimple, CheckCircle, Warning, Info } from '@phosphor-icons/react';\nimport { User } from '@/lib/data';\n\ninterface ImportUsersModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onImport: (users: Partial<User>[]) => void;\n    tenantId: string;\n}\n\nexport default function ImportUsersModal({ isOpen, onClose, onImport, tenantId }: ImportUsersModalProps) {\n    const [file, setFile] = useState<File | null>(null);\n    const [preview, setPreview] = useState<Partial<User>[]>([]);\n    const [errors, setErrors] = useState<string[]>([]);\n    const [importing, setImporting] = useState(false);\n\n    if (!isOpen) return null;\n\n    const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n        const selectedFile = e.target.files?.[0];\n        if (!selectedFile) return;\n\n        setFile(selectedFile);\n        setErrors([]);\n        setPreview([]);\n\n        // Parse CSV\n        const text = await selectedFile.text();\n        const lines = text.split('\\n').filter(line => line.trim());\n\n        if (lines.length < 2) {\n            setErrors(['El archivo est√° vac√≠o o no tiene datos']);\n            return;\n        }\n\n        // Parse header\n        const header = lines[0].split(',').map(h => h.trim());\n        const requiredFields = ['name', 'email'];\n        const missingFields = requiredFields.filter(f => !header.includes(f));\n\n        if (missingFields.length > 0) {\n            setErrors([`Faltan campos requeridos: ${missingFields.join(', ')}`]);\n            return;\n        }\n\n        // Parse data\n        const users: Partial<User>[] = [];\n        const validationErrors: string[] = [];\n\n        for (let i = 1; i < lines.length; i++) {\n            const values = lines[i].split(',').map(v => v.trim());\n            const row: Record<string, string> = {};\n\n            header.forEach((key, index) => {\n                row[key] = values[index] || '';\n            });\n\n            // Validate required fields\n            if (!row.name || !row.email) {\n                validationErrors.push(`L√≠nea ${i + 1}: Faltan campos requeridos (name, email)`);\n                continue;\n            }\n\n            // Validate email format\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (!emailRegex.test(row.email)) {\n                validationErrors.push(`L√≠nea ${i + 1}: Email inv√°lido \"${row.email}\"`);\n                continue;\n            }\n\n            // Validate level\n            const level = parseInt(row.level) || 3;\n            if (level < 1 || level > 6) {\n                validationErrors.push(`L√≠nea ${i + 1}: Nivel inv√°lido. Debe ser entre 1 y 6`);\n                continue;\n            }\n\n            const user: Partial<User> = {\n                id: `user_${Date.now()}_${i}`,\n                tenantId: tenantId,\n                name: row.name,\n                email: row.email,\n                password: row.password || 'ChangeMe123!',\n                level: level,\n                role: row.role || 'Usuario',\n                unit: row.unit || '',\n                jobTitle: row.jobTitle || '',\n                phone: row.phone || '',\n                location: row.location || '',\n                status: (row.status === 'ACTIVE' || row.status === 'SUSPENDED' || row.status === 'PENDING_INVITE' || row.status === 'DELETED'\n                    ? row.status\n                    : 'ACTIVE') as 'ACTIVE' | 'SUSPENDED' | 'PENDING_INVITE' | 'DELETED',\n                initials: row.name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2)\n            };\n\n            users.push(user);\n        }\n\n        if (validationErrors.length > 0) {\n            setErrors(validationErrors);\n        }\n\n        setPreview(users);\n    };\n\n    const handleImport = () => {\n        if (preview.length === 0) return;\n\n        setImporting(true);\n\n        // Simulate import delay\n        setTimeout(() => {\n            onImport(preview);\n            setImporting(false);\n            handleClose();\n        }, 1500);\n    };\n\n    const handleClose = () => {\n        setFile(null);\n        setPreview([]);\n        setErrors([]);\n        setImporting(false);\n        onClose();\n    };\n\n    const handleDownloadTemplate = () => {\n        // Download the example CSV\n        const link = document.createElement('a');\n        link.href = '/templates/usuarios-ejemplo.csv';\n        link.download = 'usuarios-ejemplo.csv';\n        link.click();\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fadeIn\">\n            <div className=\"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-slideUp\">\n                {/* Header */}\n                <div className=\"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white p-6 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                        <div className=\"p-3 bg-white/20 rounded-lg\">\n                            <UploadSimple size={32} weight=\"fill\" />\n                        </div>\n                        <div>\n                            <h2 className=\"text-2xl font-bold\">Importar Usuarios</h2>\n                            <p className=\"text-indigo-100 text-sm mt-1\">Carga masiva desde archivo CSV</p>\n                        </div>\n                    </div>\n                    <button\n                        onClick={handleClose}\n                        className=\"p-2 hover:bg-white/20 rounded-lg transition-colors\"\n                    >\n                        <X size={24} weight=\"bold\" />\n                    </button>\n                </div>\n\n                {/* Content */}\n                <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n                    {/* Instructions */}\n                    <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-4\">\n                        <div className=\"flex items-start gap-3\">\n                            <Info size={24} className=\"text-blue-600 flex-shrink-0\" weight=\"fill\" />\n                            <div className=\"text-sm text-blue-900\">\n                                <p className=\"font-bold mb-2\">Instrucciones:</p>\n                                <ol className=\"list-decimal list-inside space-y-1\">\n                                    <li>Descarga el archivo de ejemplo haciendo clic en el bot√≥n abajo</li>\n                                    <li>Edita el archivo CSV con los datos de tus usuarios</li>\n                                    <li>Aseg√∫rate de mantener el formato y los nombres de las columnas</li>\n                                    <li>Sube el archivo editado usando el bot√≥n de carga</li>\n                                </ol>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Download Template */}\n                    <div className=\"flex justify-center\">\n                        <button\n                            onClick={handleDownloadTemplate}\n                            className=\"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 transition-colors shadow-lg\"\n                        >\n                            <DownloadSimple size={20} weight=\"bold\" />\n                            Descargar Plantilla CSV de Ejemplo\n                        </button>\n                    </div>\n\n                    {/* CSV Format Info */}\n                    <div className=\"bg-slate-50 border border-slate-200 rounded-xl p-4\">\n                        <h3 className=\"font-bold text-slate-800 mb-3\">Formato del Archivo CSV</h3>\n                        <div className=\"text-sm text-slate-700 space-y-2\">\n                            <p><strong>Columnas requeridas:</strong></p>\n                            <ul className=\"list-disc list-inside space-y-1 ml-4\">\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">name</code> - Nombre completo del usuario</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">email</code> - Email corporativo (debe ser √∫nico)</li>\n                            </ul>\n                            <p className=\"mt-3\"><strong>Columnas opcionales:</strong></p>\n                            <ul className=\"list-disc list-inside space-y-1 ml-4\">\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">password</code> - Contrase√±a inicial (default: ChangeMe123!)</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">level</code> - Nivel de acceso 1-6 (default: 3)</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">role</code> - Rol del usuario (ej: Analista, Manager)</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">unit</code> - Unidad organizacional</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">jobTitle</code> - Cargo o t√≠tulo del puesto</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">phone</code> - Tel√©fono de contacto</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">location</code> - Ubicaci√≥n f√≠sica</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">status</code> - ACTIVE o INACTIVE (default: ACTIVE)</li>\n                            </ul>\n                        </div>\n                    </div>\n\n                    {/* File Upload */}\n                    <div className=\"border-2 border-dashed border-slate-300 rounded-xl p-8 text-center hover:border-indigo-400 transition-colors\">\n                        <input\n                            type=\"file\"\n                            accept=\".csv\"\n                            onChange={handleFileChange}\n                            className=\"hidden\"\n                            id=\"csv-upload\"\n                        />\n                        <label\n                            htmlFor=\"csv-upload\"\n                            className=\"cursor-pointer flex flex-col items-center gap-3\"\n                        >\n                            <div className=\"p-4 bg-indigo-100 rounded-full\">\n                                <UploadSimple size={48} className=\"text-indigo-600\" weight=\"fill\" />\n                            </div>\n                            <div>\n                                <p className=\"text-lg font-bold text-slate-800\">\n                                    {file ? file.name : 'Haz clic para seleccionar un archivo CSV'}\n                                </p>\n                                <p className=\"text-sm text-slate-500 mt-1\">\n                                    o arrastra y suelta aqu√≠\n                                </p>\n                            </div>\n                        </label>\n                    </div>\n\n                    {/* Errors */}\n                    {errors.length > 0 && (\n                        <div className=\"bg-red-50 border border-red-200 rounded-xl p-4\">\n                            <div className=\"flex items-start gap-3\">\n                                <Warning size={24} className=\"text-red-600 flex-shrink-0\" weight=\"fill\" />\n                                <div className=\"flex-1\">\n                                    <p className=\"font-bold text-red-900 mb-2\">Errores encontrados:</p>\n                                    <ul className=\"text-sm text-red-800 space-y-1\">\n                                        {errors.slice(0, 10).map((error, index) => (\n                                            <li key={index}>‚Ä¢ {error}</li>\n                                        ))}\n                                        {errors.length > 10 && (\n                                            <li className=\"text-red-600 font-bold\">... y {errors.length - 10} errores m√°s</li>\n                                        )}\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Preview */}\n                    {preview.length > 0 && errors.length === 0 && (\n                        <div className=\"bg-green-50 border border-green-200 rounded-xl p-4\">\n                            <div className=\"flex items-start gap-3 mb-4\">\n                                <CheckCircle size={24} className=\"text-green-600 flex-shrink-0\" weight=\"fill\" />\n                                <div>\n                                    <p className=\"font-bold text-green-900\">\n                                        Vista Previa: {preview.length} usuarios listos para importar\n                                    </p>\n                                    <p className=\"text-sm text-green-800 mt-1\">\n                                        Revisa los datos antes de confirmar la importaci√≥n\n                                    </p>\n                                </div>\n                            </div>\n\n                            <div className=\"max-h-96 overflow-y-auto bg-white rounded-lg border border-green-200\">\n                                <table className=\"w-full text-sm\">\n                                    <thead className=\"bg-green-100 sticky top-0\">\n                                        <tr>\n                                            <th className=\"text-left p-2 font-bold text-green-900\">Nombre</th>\n                                            <th className=\"text-left p-2 font-bold text-green-900\">Email</th>\n                                            <th className=\"text-left p-2 font-bold text-green-900\">Nivel</th>\n                                            <th className=\"text-left p-2 font-bold text-green-900\">Rol</th>\n                                            <th className=\"text-left p-2 font-bold text-green-900\">Unidad</th>\n                                            <th className=\"text-left p-2 font-bold text-green-900\">Estado</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {preview.map((user, index) => (\n                                            <tr key={index} className=\"border-t border-green-100 hover:bg-green-50\">\n                                                <td className=\"p-2\">{user.name}</td>\n                                                <td className=\"p-2 text-xs\">{user.email}</td>\n                                                <td className=\"p-2\">\n                                                    <span className=\"px-2 py-0.5 rounded text-xs font-bold bg-blue-100 text-blue-700\">\n                                                        Nivel {user.level}\n                                                    </span>\n                                                </td>\n                                                <td className=\"p-2 text-xs\">{user.role}</td>\n                                                <td className=\"p-2 text-xs\">{user.unit || '-'}</td>\n                                                <td className=\"p-2\">\n                                                    <span className={`px-2 py-0.5 rounded text-xs font-bold ${user.status === 'ACTIVE'\n                                                            ? 'bg-green-100 text-green-700'\n                                                            : 'bg-slate-100 text-slate-700'\n                                                        }`}>\n                                                        {user.status}\n                                                    </span>\n                                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* Footer */}\n                <div className=\"border-t border-slate-200 p-4 bg-slate-50 flex justify-end gap-3\">\n                    <button\n                        onClick={handleClose}\n                        className=\"px-6 py-2 border border-slate-300 text-slate-700 rounded-lg font-bold hover:bg-slate-100 transition-colors\"\n                    >\n                        Cancelar\n                    </button>\n                    <button\n                        onClick={handleImport}\n                        disabled={preview.length === 0 || errors.length > 0 || importing}\n                        className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors flex items-center gap-2\"\n                    >\n                        {importing ? (\n                            <>\n                                <div className=\"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent\"></div>\n                                Importando...\n                            </>\n                        ) : (\n                            <>\n                                <UploadSimple size={20} weight=\"bold\" />\n                                Importar {preview.length} Usuarios\n                            </>\n                        )}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 994, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/AdminGuide.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Info, X, CheckCircle, Warning, Lightbulb } from '@phosphor-icons/react';\n\nexport interface GuideStep {\n    title: string;\n    description: string;\n    type?: 'info' | 'warning' | 'tip';\n}\n\nexport interface AdminGuideProps {\n    title: string;\n    description: string;\n    steps: GuideStep[];\n    tips?: string[];\n}\n\nexport default function AdminGuide({ title, description, steps, tips }: AdminGuideProps) {\n    const [isOpen, setIsOpen] = useState(false);\n\n    const getIcon = (type?: string) => {\n        switch (type) {\n            case 'warning':\n                return <Warning size={20} className=\"text-amber-600\" weight=\"fill\" />;\n            case 'tip':\n                return <Lightbulb size={20} className=\"text-yellow-600\" weight=\"fill\" />;\n            default:\n                return <CheckCircle size={20} className=\"text-blue-600\" weight=\"fill\" />;\n        }\n    };\n\n    const getColor = (type?: string) => {\n        switch (type) {\n            case 'warning':\n                return 'bg-amber-50 border-amber-200';\n            case 'tip':\n                return 'bg-yellow-50 border-yellow-200';\n            default:\n                return 'bg-blue-50 border-blue-200';\n        }\n    };\n\n    return (\n        <>\n            {/* Floating Help Button */}\n            <button\n                onClick={() => setIsOpen(true)}\n                className=\"fixed bottom-8 right-8 bg-blue-600 text-white rounded-full p-4 shadow-2xl hover:bg-blue-700 transition-all hover:scale-110 z-40 flex items-center gap-2 group\"\n                title=\"Ver Gu√≠a de Ayuda\"\n            >\n                <Info size={24} weight=\"fill\" />\n                <span className=\"max-w-0 overflow-hidden group-hover:max-w-xs transition-all duration-300 whitespace-nowrap font-bold\">\n                    Gu√≠a de Ayuda\n                </span>\n            </button>\n\n            {/* Modal */}\n            {isOpen && (\n                <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fadeIn\">\n                    <div className=\"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-slideUp\">\n                        {/* Header */}\n                        <div className=\"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex items-center justify-between\">\n                            <div className=\"flex items-center gap-3\">\n                                <div className=\"p-3 bg-white/20 rounded-lg\">\n                                    <Info size={32} weight=\"fill\" />\n                                </div>\n                                <div>\n                                    <h2 className=\"text-2xl font-bold\">{title}</h2>\n                                    <p className=\"text-blue-100 text-sm mt-1\">{description}</p>\n                                </div>\n                            </div>\n                            <button\n                                onClick={() => setIsOpen(false)}\n                                className=\"p-2 hover:bg-white/20 rounded-lg transition-colors\"\n                            >\n                                <X size={24} weight=\"bold\" />\n                            </button>\n                        </div>\n\n                        {/* Content */}\n                        <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n                            {/* Steps */}\n                            <div className=\"space-y-4\">\n                                <h3 className=\"text-lg font-bold text-slate-800 flex items-center gap-2\">\n                                    <CheckCircle size={24} className=\"text-green-600\" weight=\"fill\" />\n                                    Pasos a Seguir\n                                </h3>\n                                {steps.map((step, index) => (\n                                    <div\n                                        key={index}\n                                        className={`border rounded-lg p-4 ${getColor(step.type)}`}\n                                    >\n                                        <div className=\"flex items-start gap-3\">\n                                            <div className=\"flex-shrink-0 w-8 h-8 bg-white rounded-full flex items-center justify-center font-bold text-slate-700 shadow-sm\">\n                                                {index + 1}\n                                            </div>\n                                            <div className=\"flex-1\">\n                                                <div className=\"flex items-center gap-2 mb-2\">\n                                                    {getIcon(step.type)}\n                                                    <h4 className=\"font-bold text-slate-800\">{step.title}</h4>\n                                                </div>\n                                                <p className=\"text-sm text-slate-700 leading-relaxed\">\n                                                    {step.description}\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n\n                            {/* Tips */}\n                            {tips && tips.length > 0 && (\n                                <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-6\">\n                                    <h3 className=\"text-lg font-bold text-purple-900 flex items-center gap-2 mb-4\">\n                                        <Lightbulb size={24} className=\"text-purple-600\" weight=\"fill\" />\n                                        Consejos √ötiles\n                                    </h3>\n                                    <ul className=\"space-y-3\">\n                                        {tips.map((tip, index) => (\n                                            <li key={index} className=\"flex items-start gap-3\">\n                                                <div className=\"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0\"></div>\n                                                <p className=\"text-sm text-purple-900 leading-relaxed\">{tip}</p>\n                                            </li>\n                                        ))}\n                                    </ul>\n                                </div>\n                            )}\n\n                            {/* Footer Note */}\n                            <div className=\"bg-slate-50 border border-slate-200 rounded-lg p-4\">\n                                <p className=\"text-xs text-slate-600 text-center\">\n                                    üí° <strong>Nota:</strong> Si necesitas ayuda adicional, contacta al equipo de soporte t√©cnico.\n                                </p>\n                            </div>\n                        </div>\n\n                        {/* Footer */}\n                        <div className=\"border-t border-slate-200 p-4 bg-slate-50 flex justify-end\">\n                            <button\n                                onClick={() => setIsOpen(false)}\n                                className=\"px-6 py-2 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition-colors\"\n                            >\n                                Entendido\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1385, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/adminGuides.ts"],"sourcesContent":["export interface AdminGuide {\n  title: string;\n  description: string;\n  steps: string[];\n  tips?: string[];\n}\n\nexport const adminGeneralGuide: AdminGuide = {\n  title: 'Configuracion General',\n  description: 'Configure la apariencia y marca de su organizacion en la plataforma.',\n  steps: [\n    'Suba el logo de su organizacion',\n    'Configure los colores primario y de acento',\n    'Personalice el titulo de la aplicacion',\n    'Configure el idioma y zona horaria predeterminados'\n  ],\n  tips: [\n    'Use colores que representen la identidad de su marca',\n    'El logo se mostrara en el menu lateral y pantalla de inicio'\n  ]\n};\n\nexport const usersGuide: AdminGuide = {\n  title: 'Gestion de Usuarios',\n  description: 'Administre los usuarios de su organizacion, sus roles y permisos.',\n  steps: [\n    'Haga clic en \"Nuevo Usuario\" para agregar un usuario',\n    'Complete el formulario con los datos del usuario',\n    'Seleccione el rol y nivel de acceso apropiado',\n    'El usuario recibira una invitacion por correo electronico'\n  ],\n  tips: [\n    'Puede importar usuarios masivamente usando un archivo CSV',\n    'Los usuarios inactivos pueden ser suspendidos sin eliminarlos'\n  ]\n};\n\nexport const unitsGuide: AdminGuide = {\n  title: 'Estructura Organizacional',\n  description: 'Define la estructura jerarquica de su organizacion.',\n  steps: [\n    'Cree unidades principales primero (departamentos, areas)',\n    'Agregue subunidades segun sea necesario',\n    'Asigne responsables a cada unidad',\n    'Configure los permisos por nivel'\n  ],\n  tips: [\n    'Una estructura bien definida facilita la gestion de permisos',\n    'Las unidades pueden representar departamentos, equipos o procesos'\n  ]\n};\n\nexport const rolesGuide: AdminGuide = {\n  title: 'Roles y Permisos',\n  description: 'Configure los permisos para cada nivel de usuario.',\n  steps: [\n    'Seleccione el nivel que desea configurar',\n    'Active o desactive los permisos correspondientes',\n    'Los cambios se aplicaran inmediatamente a los usuarios de ese nivel'\n  ],\n  tips: [\n    'El nivel 1 (Admin) tiene todos los permisos por defecto',\n    'Sea conservador al asignar permisos de eliminacion'\n  ]\n};\n\nexport const storageGuide: AdminGuide = {\n  title: 'Configuracion de Almacenamiento',\n  description: 'Configure el proveedor de almacenamiento para sus documentos.',\n  steps: [\n    'Seleccione el proveedor de almacenamiento',\n    'Ingrese las credenciales de configuracion',\n    'Pruebe la conexion antes de guardar',\n    'Active el proveedor cuando este listo'\n  ],\n  tips: [\n    'Google Drive y OneDrive requieren configuracion OAuth',\n    'S3 es recomendado para grandes volumenes de archivos'\n  ]\n};\n\nexport const storageDashboardGuide: AdminGuide = {\n  title: 'Panel de Almacenamiento',\n  description: 'Monitoree el uso de almacenamiento de su organizacion.',\n  steps: [\n    'Revise el uso total y disponible',\n    'Identifique los archivos mas grandes',\n    'Configure alertas de uso si es necesario'\n  ],\n  tips: [\n    'Realice limpiezas periodicas de archivos obsoletos',\n    'Considere archivar documentos antiguos'\n  ]\n};\n\nexport const communicationsGuide: AdminGuide = {\n  title: 'Comunicaciones',\n  description: 'Gestione las publicaciones y anuncios de su organizacion.',\n  steps: [\n    'Cree una nueva publicacion haciendo clic en \"Nueva Publicacion\"',\n    'Seleccione la audiencia objetivo',\n    'Agregue contenido multimedia si es necesario',\n    'Publique o guarde como borrador'\n  ],\n  tips: [\n    'Las publicaciones importantes pueden destacarse',\n    'Programe publicaciones para fechas futuras'\n  ]\n};\n\nexport const technicalSettingsGuide: AdminGuide = {\n  title: 'Configuracion Tecnica',\n  description: 'Configure integraciones y parametros tecnicos de la plataforma.',\n  steps: [\n    'Configure las integraciones SSO si aplica',\n    'Establezca las politicas de seguridad',\n    'Configure los webhooks necesarios'\n  ],\n  tips: [\n    'SSO simplifica el inicio de sesion para sus usuarios',\n    'Las integraciones mejoran la productividad'\n  ]\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAOO,MAAM,oBAAgC;IAC3C,OAAO;IACP,aAAa;IACb,OAAO;QACL;QACA;QACA;QACA;KACD;IACD,MAAM;QACJ;QACA;KACD;AACH;AAEO,MAAM,aAAyB;IACpC,OAAO;IACP,aAAa;IACb,OAAO;QACL;QACA;QACA;QACA;KACD;IACD,MAAM;QACJ;QACA;KACD;AACH;AAEO,MAAM,aAAyB;IACpC,OAAO;IACP,aAAa;IACb,OAAO;QACL;QACA;QACA;QACA;KACD;IACD,MAAM;QACJ;QACA;KACD;AACH;AAEO,MAAM,aAAyB;IACpC,OAAO;IACP,aAAa;IACb,OAAO;QACL;QACA;QACA;KACD;IACD,MAAM;QACJ;QACA;KACD;AACH;AAEO,MAAM,eAA2B;IACtC,OAAO;IACP,aAAa;IACb,OAAO;QACL;QACA;QACA;QACA;KACD;IACD,MAAM;QACJ;QACA;KACD;AACH;AAEO,MAAM,wBAAoC;IAC/C,OAAO;IACP,aAAa;IACb,OAAO;QACL;QACA;QACA;KACD;IACD,MAAM;QACJ;QACA;KACD;AACH;AAEO,MAAM,sBAAkC;IAC7C,OAAO;IACP,aAAa;IACb,OAAO;QACL;QACA;QACA;QACA;KACD;IACD,MAAM;QACJ;QACA;KACD;AACH;AAEO,MAAM,yBAAqC;IAChD,OAAO;IACP,aAAa;IACb,OAAO;QACL;QACA;QACA;KACD;IACD,MAAM;QACJ;QACA;KACD;AACH"}},
    {"offset": {"line": 1519, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/dashboard/admin/users/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport { useApp } from '@/context/AppContext';\nimport { DB, User, Unit } from '@/lib/data';\nimport { Users, Plus, Pencil, Trash, MagnifyingGlass, UserCircle, Buildings, ShieldCheck, ClockCounterClockwise, Key, Envelope, List } from '@phosphor-icons/react';\nimport ImportUsersModal from '@/components/ImportUsersModal';\nimport AdminGuide from '@/components/AdminGuide';\nimport { usersGuide } from '@/lib/adminGuides';\n\nconst LEVELS = [\n    { level: 1, label: 'Nivel 1 (Admin Tenant)' },\n    { level: 2, label: 'Nivel 2 (Jefe √Årea)' },\n    { level: 3, label: 'Nivel 3 (Analista Sr)' },\n    { level: 4, label: 'Nivel 4 (Analista Jr)' },\n    { level: 5, label: 'Nivel 5 (Asistente)' },\n    { level: 6, label: 'Nivel 6 (Operativo)' },\n];\n\nexport default function UsersPage() {\n    const { currentUser, currentTenant, adminCreateUser, adminUpdateUser, adminDeleteUser, adminResendInvite, isSuperAdmin, adminCheckEmailUnique } = useApp();\n\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [isImportModalOpen, setIsImportModalOpen] = useState(false);\n    const [editingId, setEditingId] = useState<string | null>(null);\n    const [refreshKey, setRefreshKey] = useState(0);\n    const [search, setSearch] = useState('');\n    const [activeTab, setActiveTab] = useState<'details' | 'security' | 'logs'>('details');\n    const [filterUnit, setFilterUnit] = useState('');\n    const [filterLevel, setFilterLevel] = useState('');\n\n    const [formData, setFormData] = useState<Partial<User> & { password?: string, passwordMode?: 'auto' | 'manual', mustChangePassword?: boolean, tenantId?: string }>({\n        name: '',\n        email: '',\n        jobTitle: '',\n        level: 6,\n        unit: '',\n        status: 'ACTIVE',\n        passwordMode: 'auto',\n        password: '',\n        mustChangePassword: true,\n        tenantId: ''\n    });\n\n    // Super Admin: Global Tenant Filter\n    const [filterTenantId, setFilterTenantId] = useState('ALL');\n    const { currentTenant: actualCurrentTenant } = useApp();\n\n    // Determine effective scope\n    // If SuperAuth, we use filterTenantId. If strict tenant admin, we use actualCurrentTenant.id\n    const effectiveTenantId = isSuperAdmin ? (filterTenantId === 'ALL' ? null : filterTenantId) : actualCurrentTenant?.id;\n\n    // Get units based on selection\n    // Get units based on selection in FORM or Filter\n    const formTenantId = formData.tenantId || (isSuperAdmin ? filterTenantId : actualCurrentTenant?.id);\n\n    const tenantUnits = useMemo(() => {\n        // If creating/editing, use the form's selected tenant\n        const targetTenant = formTenantId === 'ALL' ? null : formTenantId;\n\n        if (targetTenant && targetTenant !== 'global') {\n            return DB.units.filter(u => u.tenantId === targetTenant);\n        }\n        return [];\n    }, [formTenantId]);\n\n    // Get users\n    const tenantUsers = useMemo(() => {\n        return DB.users.filter(u => {\n            // 1. Tenant Scope\n            let matchesTenant = true;\n            if (isSuperAdmin) {\n                if (filterTenantId !== 'ALL') matchesTenant = u.tenantId === filterTenantId;\n            } else {\n                if (!actualCurrentTenant) return false;\n                matchesTenant = u.tenantId === actualCurrentTenant.id;\n            }\n\n            const matchesSearch = u.name.toLowerCase().includes(search.toLowerCase()) ||\n                (u.jobTitle || '').toLowerCase().includes(search.toLowerCase()) ||\n                u.email?.toLowerCase().includes(search.toLowerCase()); // Added email search\n\n            const matchesUnit = filterUnit ? u.unit === filterUnit : true;\n            const matchesLevel = filterLevel ? u.level === Number(filterLevel) : true;\n\n            return matchesTenant && matchesSearch && matchesUnit && matchesLevel;\n        });\n    }, [actualCurrentTenant, isSuperAdmin, filterTenantId, search, refreshKey, filterUnit, filterLevel]);\n\n    // Get logs for editing user\n    const logs = useMemo(() => {\n        if (!editingId) return [];\n        return DB.platformAudit.filter(log => log.target_user_id === editingId || log.actor_id === editingId)\n            .sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())\n            .slice(0, 50);\n    }, [editingId, refreshKey]);\n\n    // Access Control: Allow if SuperAdmin OR if Tenant Admin (Level 1)\n    if (!isSuperAdmin && (!currentUser || currentUser.level !== 1)) {\n        return <div className=\"p-8 text-center text-red-500\">Acceso Denegado. Solo Admin Tenant.</div>;\n    }\n\n    if (!currentUser) return <div>Loading...</div>; // Allow render if SuperAdmin even without currentTenant context\n    const displayTenantName = isSuperAdmin ? (filterTenantId === 'ALL' ? 'Todos los Tenants' : DB.tenants.find(t => t.id === filterTenantId)?.name) : currentTenant?.name;\n\n    const handleCreate = () => {\n        setEditingId(null);\n        setFormData({\n            name: '',\n            email: '',\n            jobTitle: '',\n            level: 6,\n            unit: '',\n            status: 'ACTIVE',\n            passwordMode: 'auto',\n            password: '',\n            mustChangePassword: true,\n            tenantId: isSuperAdmin ? (filterTenantId === 'ALL' ? '' : filterTenantId) : currentTenant?.id\n        });\n        setActiveTab('details');\n        setIsModalOpen(true);\n    };\n\n    const handleEdit = (user: User) => {\n        setEditingId(user.id);\n        const unitId = tenantUnits.find(u => u.name === user.unit)?.id || ''; // Try to match name or keep empty if mismatch\n        setFormData({\n            name: user.name,\n            email: user.email || '',\n            jobTitle: user.jobTitle,\n            level: user.level,\n            unit: user.unit, // We store Unit Name in User model currently, not ID. Legacy issue.\n            status: user.status,\n            mustChangePassword: user.mustChangePassword,\n            tenantId: user.tenantId\n        });\n        setActiveTab('details');\n        setIsModalOpen(true);\n    };\n\n    const handleDelete = (id: string) => {\n        if (confirm('¬øEst√°s seguro de eliminar este usuario?')) {\n            adminDeleteUser(id);\n            setRefreshKey(prev => prev + 1);\n        }\n    };\n\n    const handleResendInvite = () => {\n        if (!editingId) return;\n        if (confirm(`¬øReenviar credenciales de acceso a ${formData.email}?`)) {\n            adminResendInvite(editingId);\n            alert('Credenciales enviadas correctamente.');\n            setRefreshKey(prev => prev + 1);\n        }\n    };\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n\n        // Check for unique email\n        if (!editingId && formData.email) {\n            if (!adminCheckEmailUnique(formData.email)) {\n                alert('El correo electr√≥nico ya est√° registrado.');\n                return;\n            }\n        }\n\n        // Validate password if manual\n        if (!editingId && formData.passwordMode === 'manual' && !formData.password) {\n            alert('Por favor, ingresa una contrase√±a manual.');\n            return;\n        }\n\n        // Map level to role name for display\n        // Map level to role name for display\n        let roleName = LEVELS.find(l => l.level === Number(formData.level))?.label.split('(')[1].replace(')', '') || 'Usuario';\n\n        // Special Case: Global Admin\n        if (formData.tenantId === 'global') {\n            roleName = 'Super Admin';\n        }\n\n        const { password, passwordMode, ...userData } = formData;\n        const dataToSave = { ...userData, role: roleName };\n\n        if (editingId) {\n            adminUpdateUser(editingId, dataToSave);\n        } else {\n            console.log(`[Notification System] Creating user ${formData.email} with role ${roleName}`);\n            adminCreateUser(dataToSave, {\n                sendNotification: formData.passwordMode === 'auto',\n                customPassword: formData.passwordMode === 'manual' ? formData.password : undefined\n            });\n            alert(`Usuario creado exitosamente. ${formData.passwordMode === 'auto' ? 'Se envi√≥ invitaci√≥n por correo.' : 'Contrase√±a asignada manualmente.'}`);\n        }\n        setIsModalOpen(false);\n        setRefreshKey(prev => prev + 1);\n    };\n\n    return (\n        <div className=\"max-w-6xl mx-auto p-6 animate-fadeIn\">\n            <div className=\"flex justify-between items-center mb-6\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-slate-900 flex items-center gap-2\">\n                        <Users className=\"text-blue-600\" /> Gesti√≥n de Usuarios\n                    </h1>\n                    <p className=\"text-sm text-slate-500 mt-1\">Administra el talento humano de {displayTenantName}.</p>\n                </div>\n                <div className=\"flex gap-2\">\n                    <button onClick={() => setIsImportModalOpen(true)} className=\"btn btn-secondary flex items-center gap-2\">\n                        Importar CSV\n                    </button>\n                    <button onClick={handleCreate} className=\"btn btn-primary flex items-center gap-2\">\n                        <Plus weight=\"bold\" /> Invitar Usuario\n                    </button>\n                </div>\n            </div>\n\n            <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden\">\n                <div className=\"p-4 border-b border-slate-100 flex gap-2 flex-wrap\">\n                    <div className=\"relative flex-1 min-w-[200px]\">\n                        <MagnifyingGlass className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\" />\n                        <input\n                            className=\"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 ring-blue-500/10\"\n                            placeholder=\"Buscar por nombre o cargo...\"\n                            value={search}\n                            onChange={e => setSearch(e.target.value)}\n                        />\n                    </div>\n\n                    {/* Super Admin: Tenant Filter */}\n                    {isSuperAdmin && (\n                        <select\n                            className=\"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-600 focus:outline-none focus:ring-2 ring-blue-500/10 font-bold text-blue-800\"\n                            value={filterTenantId}\n                            onChange={e => { setFilterTenantId(e.target.value); setFilterUnit(''); }} // Reset unit filter on tenant change\n                        >\n                            <option value=\"ALL\">üè¢ Global (Todos)</option>\n                            {DB.tenants.map(t => (\n                                <option key={t.id} value={t.id}>{t.name}</option>\n                            ))}\n                        </select>\n                    )}\n                    <select\n                        className=\"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-600 focus:outline-none focus:ring-2 ring-blue-500/10\"\n                        value={filterUnit}\n                        onChange={e => setFilterUnit(e.target.value)}\n                    >\n                        <option value=\"\">Todas las Unidades</option>\n                        {tenantUnits.map(u => (\n                            <option key={u.id} value={u.name}>{u.name}</option>\n                        ))}\n                    </select>\n                    <select\n                        className=\"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-600 focus:outline-none focus:ring-2 ring-blue-500/10\"\n                        value={filterLevel}\n                        onChange={e => setFilterLevel(e.target.value)}\n                    >\n                        <option value=\"\">Todos los Niveles</option>\n                        {LEVELS.map(l => (\n                            <option key={l.level} value={l.level}>{l.label}</option>\n                        ))}\n                    </select>\n                </div>\n\n                <table className=\"w-full text-sm text-left\">\n                    <thead className=\"bg-slate-50 border-b border-slate-200 text-slate-500 uppercase font-semibold text-xs\">\n                        <tr>\n                            <th className=\"px-6 py-4\">Usuario</th>\n                            <th className=\"px-6 py-4\">Rol / Nivel</th>\n                            <th className=\"px-6 py-4\">Unidad</th>\n                            {isSuperAdmin && filterTenantId === 'ALL' && <th className=\"px-6 py-4\">Tenant</th>}\n                            <th className=\"px-6 py-4\">Estado</th>\n                            <th className=\"px-6 py-4 text-right\">Acciones</th>\n                        </tr>\n                    </thead>\n                    <tbody className=\"divide-y divide-slate-100\">\n                        {tenantUsers.map(user => (\n                            <tr key={user.id} className=\"hover:bg-slate-50 transition-colors\">\n                                <td className=\"px-6 py-4\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div className=\"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-xs\">\n                                            {user.initials}\n                                        </div>\n                                        <div>\n                                            <div className=\"font-medium text-slate-900\">{user.name}</div>\n                                            <div className=\"text-xs text-slate-500\">{user.jobTitle}</div>\n                                        </div>\n                                    </div>\n                                </td>\n                                <td className=\"px-6 py-4\">\n                                    <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-600 border border-slate-200\">\n                                        <span className=\"w-1.5 h-1.5 rounded-full bg-slate-400\"></span>\n                                        Nivel {user.level} - {user.role}\n                                    </span>\n                                </td>\n                                <td className=\"px-6 py-4\">\n                                    {user.unit ? (\n                                        <span className=\"inline-flex items-center gap-1.5 text-slate-600\">\n                                            <Buildings size={14} /> {user.unit}\n                                        </span>\n                                    ) : (\n                                        <span className=\"text-slate-400 italic\">Sin asignar</span>\n                                    )}\n                                </td>\n                                {isSuperAdmin && filterTenantId === 'ALL' && (\n                                    <td className=\"px-6 py-4\">\n                                        <span className={`inline-flex items-center gap-1.5 text-xs font-bold px-2 py-1 rounded ${user.tenantId === 'global' ? 'bg-purple-100 text-purple-700' : 'bg-slate-100 text-slate-500'}`}>\n                                            {user.tenantId === 'global' ? 'üåé Global' : (DB.tenants.find(t => t.id === user.tenantId)?.name || 'N/A')}\n                                        </span>\n                                    </td>\n                                )}\n                                <td className=\"px-6 py-4\">\n                                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${user.status === 'ACTIVE' ? 'bg-green-50 text-green-700 border-green-200' :\n                                        user.status === 'SUSPENDED' ? 'bg-red-50 text-red-700 border-red-200' :\n                                            'bg-yellow-50 text-yellow-700 border-yellow-200'\n                                        }`}>\n                                        {user.status === 'ACTIVE' ? 'Activo' : user.status === 'SUSPENDED' ? 'Suspendido' : 'Pendiente'}\n                                    </span>\n                                </td>\n                                <td className=\"px-6 py-4 text-right\">\n                                    <div className=\"flex justify-end gap-1\">\n                                        <button onClick={() => handleEdit(user)} className=\"p-1.5 hover:bg-blue-50 text-blue-600 rounded\" title=\"Editar\">\n                                            <Pencil />\n                                        </button>\n                                        <button onClick={() => handleDelete(user.id)} className=\"p-1.5 hover:bg-red-50 text-red-600 rounded\" title=\"Eliminar\">\n                                            <Trash />\n                                        </button>\n                                    </div>\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n\n            {/* Modal */}\n            {isModalOpen && (\n                <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm\">\n                    <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-fadeIn\">\n                        <div className=\"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50\">\n                            <h3 className=\"font-bold text-slate-800\">{editingId ? 'Editar Usuario' : 'Invitar Usuario'}</h3>\n                            <button onClick={() => setIsModalOpen(false)} className=\"text-slate-400 hover:text-slate-600\">&times;</button>\n                        </div>\n\n                        {/* Tabs */}\n                        {editingId && (\n                            <div className=\"flex border-b border-slate-100 px-6 gap-6\">\n                                <button onClick={() => setActiveTab('details')} className={`py-3 text-sm font-medium border-b-2 transition-colors ${activeTab === 'details' ? 'border-blue-500 text-blue-600' : 'border-transparent text-slate-500 hover:text-slate-800'}`}>\n                                    Detalles\n                                </button>\n                                <button onClick={() => setActiveTab('security')} className={`py-3 text-sm font-medium border-b-2 transition-colors ${activeTab === 'security' ? 'border-blue-500 text-blue-600' : 'border-transparent text-slate-500 hover:text-slate-800'}`}>\n                                    Seguridad & Acceso\n                                </button>\n                                <button onClick={() => setActiveTab('logs')} className={`py-3 text-sm font-medium border-b-2 transition-colors ${activeTab === 'logs' ? 'border-blue-500 text-blue-600' : 'border-transparent text-slate-500 hover:text-slate-800'}`}>\n                                    Actividad\n                                </button>\n                            </div>\n                        )}\n\n                        <div className=\"p-6 h-[450px] overflow-y-auto\">\n                            {activeTab === 'details' && (\n                                <form id=\"userForm\" onSubmit={handleSubmit} className=\"space-y-4\">\n                                    <div className=\"grid grid-cols-2 gap-4\">\n                                        <div>\n                                            <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Nombre Completo</label>\n                                            <input\n                                                required\n                                                className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 ring-blue-500/20 outline-none transition-all\"\n                                                value={formData.name}\n                                                onChange={e => setFormData({ ...formData, name: e.target.value })}\n                                                placeholder=\"Ej. Juan P√©rez\"\n                                            />\n                                        </div>\n\n                                        {/* Super Admin: Tenant Selector takes 2nd slot if present, else Status */}\n                                        {isSuperAdmin ? (\n                                            <div>\n                                                <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Organizaci√≥n / Tenant</label>\n                                                <select\n                                                    className={`w-full px-3 py-2 border rounded-lg bg-white ${formData.tenantId === 'global' ? 'ring-2 ring-purple-500 border-purple-500 bg-purple-50' : ''}`}\n                                                    value={formData.tenantId}\n                                                    onChange={e => setFormData({ ...formData, tenantId: e.target.value, unit: '' })}\n                                                    disabled={!!editingId}\n                                                >\n                                                    <option value=\"\" disabled>Seleccionar...</option>\n                                                    <option value=\"global\">üåé Global System (Super Admin)</option>\n                                                    {DB.tenants.map(t => (\n                                                        <option key={t.id} value={t.id}>{t.name}</option>\n                                                    ))}\n                                                </select>\n                                                {formData.tenantId === 'global' && (\n                                                    <p className=\"text-[10px] text-purple-600 mt-1 font-bold\">‚ö†Ô∏è Este usuario tendr√° acceso total a la plataforma.</p>\n                                                )}\n                                            </div>\n                                        ) : (\n                                            <div>\n                                                <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Estado</label>\n                                                <select\n                                                    className=\"w-full px-3 py-2 border rounded-lg bg-white\"\n                                                    value={formData.status}\n                                                    onChange={e => setFormData({ ...formData, status: e.target.value as any })}\n                                                >\n                                                    <option value=\"ACTIVE\">Activo</option>\n                                                    <option value=\"PENDING_INVITE\">Pendiente</option>\n                                                    <option value=\"SUSPENDED\">Suspendido</option>\n                                                </select>\n                                            </div>\n                                        )}\n                                    </div>\n\n                                    {/* If Super Admin, show Status in a separate row or new grid */}\n                                    {isSuperAdmin && (\n                                        <div>\n                                            <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Estado</label>\n                                            <select\n                                                className=\"w-full px-3 py-2 border rounded-lg bg-white\"\n                                                value={formData.status}\n                                                onChange={e => setFormData({ ...formData, status: e.target.value as any })}\n                                            >\n                                                <option value=\"ACTIVE\">Activo</option>\n                                                <option value=\"PENDING_INVITE\">Pendiente</option>\n                                                <option value=\"SUSPENDED\">Suspendido</option>\n                                            </select>\n                                        </div>\n                                    )}\n\n                                    <div>\n                                        <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Email Corporativo</label>\n                                        <input\n                                            type=\"email\"\n                                            required\n                                            className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 ring-blue-500/20 outline-none transition-all\"\n                                            value={formData.email}\n                                            onChange={e => setFormData({ ...formData, email: e.target.value })}\n                                            placeholder=\"usuario@empresa.com\"\n                                        />\n                                    </div>\n\n                                    <div>\n                                        <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Cargo / Puesto</label>\n                                        <input\n                                            required\n                                            className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 ring-blue-500/20 outline-none transition-all\"\n                                            value={formData.jobTitle}\n                                            onChange={e => setFormData({ ...formData, jobTitle: e.target.value })}\n                                            placeholder=\"Ej. Analista Senior\"\n                                        />\n                                    </div>\n\n                                    <div className=\"grid grid-cols-2 gap-4\">\n                                        <div>\n                                            <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Capa / Nivel</label>\n                                            <select\n                                                className=\"w-full px-3 py-2 border rounded-lg bg-white\"\n                                                value={formData.level}\n                                                onChange={e => setFormData({ ...formData, level: Number(e.target.value) })}\n                                                disabled={formData.tenantId === 'global'}\n                                            >\n                                                {formData.tenantId === 'global' ? (\n                                                    <option value=\"1\">Nivel Global (Super Admin)</option>\n                                                ) : (\n                                                    LEVELS.map(l => (\n                                                        <option key={l.level} value={l.level}>{l.label}</option>\n                                                    ))\n                                                )}\n                                            </select>\n                                        </div>\n                                        <div>\n                                            <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Unidad Org.</label>\n                                            <select\n                                                className=\"w-full px-3 py-2 border rounded-lg bg-white\"\n                                                value={formData.unit || ''}\n                                                onChange={e => setFormData({ ...formData, unit: e.target.value })}\n                                            >\n                                                <option value=\"\">(Sin asignar)</option>\n                                                {tenantUnits.map(u => (\n                                                    <option key={u.id} value={u.name}>{u.name}</option>\n                                                ))}\n                                            </select>\n                                            {formData.tenantId === 'global' && <p className=\"text-[10px] text-slate-400 mt-1\">Global no tiene unidades.</p>}\n                                        </div>\n                                    </div>\n\n                                    {!editingId && (\n                                        <div className=\"space-y-4 p-4 bg-slate-50 rounded-xl border border-slate-200 mt-4\">\n                                            <h4 className=\"text-xs font-bold text-slate-700 uppercase tracking-wider flex items-center gap-2\">\n                                                <UserCircle size={16} className=\"text-blue-600\" /> Configuraci√≥n de Acceso\n                                            </h4>\n\n                                            <div className=\"flex gap-4\">\n                                                <label className=\"flex items-center gap-2 cursor-pointer group\">\n                                                    <input\n                                                        type=\"radio\"\n                                                        name=\"pwdMode\"\n                                                        checked={formData.passwordMode === 'auto'}\n                                                        onChange={() => setFormData({ ...formData, passwordMode: 'auto' })}\n                                                        className=\"w-4 h-4 text-blue-600 border-slate-300 focus:ring-blue-500\"\n                                                    />\n                                                    <span className=\"text-sm text-slate-600 group-hover:text-slate-900 transition-colors\">Auto-generar y enviar</span>\n                                                </label>\n                                                <label className=\"flex items-center gap-2 cursor-pointer group\">\n                                                    <input\n                                                        type=\"radio\"\n                                                        name=\"pwdMode\"\n                                                        checked={formData.passwordMode === 'manual'}\n                                                        onChange={() => setFormData({ ...formData, passwordMode: 'manual' })}\n                                                        className=\"w-4 h-4 text-blue-600 border-slate-300 focus:ring-blue-500\"\n                                                    />\n                                                    <span className=\"text-sm text-slate-600 group-hover:text-slate-900 transition-colors\">Asignar manual</span>\n                                                </label>\n                                            </div>\n\n                                            {formData.passwordMode === 'manual' && (\n                                                <div className=\"animate-fadeIn\">\n                                                    <label className=\"block text-[10px] font-bold text-slate-400 uppercase mb-1\">Contrase√±a Manual</label>\n                                                    <input\n                                                        type=\"password\"\n                                                        required={formData.passwordMode === 'manual'}\n                                                        className=\"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 ring-blue-500/20 outline-none transition-all\"\n                                                        value={formData.password}\n                                                        onChange={e => setFormData({ ...formData, password: e.target.value })}\n                                                        placeholder=\"M√≠nimo 8 caracteres\"\n                                                    />\n                                                </div>\n                                            )}\n                                        </div>\n                                    )}\n                                </form>\n                            )}\n\n                            {activeTab === 'security' && (\n                                <div className=\"space-y-6\">\n                                    <div className=\"p-4 bg-orange-50 border border-orange-100 rounded-xl\">\n                                        <h4 className=\"flex items-center gap-2 font-bold text-orange-800 text-sm mb-2\">\n                                            <Envelope size={18} /> Comunicaci√≥n\n                                        </h4>\n                                        <p className=\"text-xs text-orange-700 mb-3\">\n                                            Env√≠a un correo electr√≥nico al usuario con instrucciones para restablecer su acceso.\n                                        </p>\n                                        <button\n                                            type=\"button\"\n                                            onClick={handleResendInvite}\n                                            className=\"bg-white border border-orange-200 text-orange-700 px-3 py-1.5 rounded-lg text-xs font-semibold hover:bg-orange-100 transition-colors shadow-sm\"\n                                        >\n                                            Reenviar Credenciales\n                                        </button>\n                                    </div>\n\n                                    <form id=\"userForm\" onSubmit={handleSubmit} className=\"space-y-4\">\n                                        <div className=\"border-t border-slate-100 pt-4\">\n                                            <label className=\"flex items-center gap-3 p-3 border border-slate-200 rounded-xl cursor-pointer hover:bg-slate-50 transition-colors\">\n                                                <input\n                                                    type=\"checkbox\"\n                                                    className=\"w-4 h-4 text-blue-600 rounded\"\n                                                    checked={formData.mustChangePassword}\n                                                    onChange={e => setFormData({ ...formData, mustChangePassword: e.target.checked })}\n                                                />\n                                                <div>\n                                                    <div className=\"text-sm font-semibold text-slate-800\">Forzar cambio de contrase√±a</div>\n                                                    <div className=\"text-xs text-slate-500\">El usuario deber√° actualizar su clave en el pr√≥ximo inicio de sesi√≥n.</div>\n                                                </div>\n                                            </label>\n                                        </div>\n\n                                        <div className=\"border-t border-slate-100 pt-4\">\n                                            <h4 className=\"text-xs font-bold text-slate-400 uppercase mb-3 flex items-center gap-2\">\n                                                <Key size={14} /> Asignaci√≥n Manual de Contrase√±a\n                                            </h4>\n                                            <div className=\"space-y-3\">\n                                                <input\n                                                    type=\"password\"\n                                                    className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 ring-blue-500/20 outline-none transition-all text-sm\"\n                                                    value={formData.password}\n                                                    onChange={e => setFormData({ ...formData, password: e.target.value })}\n                                                    placeholder=\"Nueva contrase√±a (dejar vac√≠o si no desea cambiar)\"\n                                                />\n                                                <p className=\"text-[10px] text-slate-400\">\n                                                    Escribe aqu√≠ solo si deseas sobrescribir la contrase√±a actual del usuario manualmente.\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </form>\n                                </div>\n                            )}\n\n                            {activeTab === 'logs' && (\n                                <div className=\"space-y-4\">\n                                    {logs.length === 0 ? (\n                                        <div className=\"text-center py-10 text-slate-400 text-sm\">\n                                            No hay actividad registrada recientemente.\n                                        </div>\n                                    ) : (\n                                        <table className=\"w-full text-xs text-left\">\n                                            <thead>\n                                                <tr className=\"border-b border-slate-100 text-slate-500\">\n                                                    <th className=\"py-2\">Evento</th>\n                                                    <th className=\"py-2\">Fecha</th>\n                                                    <th className=\"py-2\">Detalle</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody className=\"divide-y divide-slate-50\">\n                                                {logs.map((log) => (\n                                                    <tr key={log.id} className=\"hover:bg-slate-50\">\n                                                        <td className=\"py-2 font-medium text-slate-700\">{log.event_type}</td>\n                                                        <td className=\"py-2 text-slate-500\">\n                                                            {new Date(log.created_at).toLocaleString()}\n                                                        </td>\n                                                        <td className=\"py-2 text-slate-500 max-w-[150px] truncate\" title={JSON.stringify(log.metadata)}>\n                                                            {log.metadata?.changes && Array.isArray(log.metadata.changes) ? log.metadata.changes.join(', ') : '-'}\n                                                        </td>\n                                                    </tr>\n                                                ))}\n                                            </tbody>\n                                        </table>\n                                    )}\n                                </div>\n                            )}\n                        </div>\n\n                        <div className=\"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3\">\n                            <button type=\"button\" onClick={() => setIsModalOpen(false)} className=\"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg text-sm font-medium\">Cancelar</button>\n                            {activeTab !== 'logs' && (\n                                <button form=\"userForm\" type=\"submit\" className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium shadow-lg shadow-blue-500/20\">\n                                    {editingId ? 'Guardar Cambios' : 'Enviar Invitaci√≥n'}\n                                </button>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Import Modal */}\n            <ImportUsersModal\n                isOpen={isImportModalOpen}\n                onClose={() => setIsImportModalOpen(false)}\n                onImport={(users) => {\n                    // Import users\n                    users.forEach(user => {\n                        adminCreateUser(user, { sendNotification: false });\n                    });\n                    setIsImportModalOpen(false);\n                    setRefreshKey(prev => prev + 1);\n                }}\n                tenantId={isSuperAdmin ? (filterTenantId === 'ALL' ? 'global' : filterTenantId) : (currentTenant?.id || 'global')}\n            />\n\n            {/* Admin Guide */}\n            <AdminGuide {...usersGuide as any} />\n\n        </div >\n    );\n}\n"],"names":[],"mappings":"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"}}]
}