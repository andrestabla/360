(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25209,e=>{"use strict";var t=e.i(71645),s=e.i(69464);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z",opacity:"0.2"}),t.createElement("path",{d:"M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"}))]]),l=t.forwardRef((e,l)=>t.createElement(s.default,{ref:l,...e,weights:a}));l.displayName="MagnifyingGlassIcon",e.s(["MagnifyingGlass",()=>l],25209)},12963,e=>{"use strict";var t=e.i(43476),s=e.i(73146),a=e.i(31487),l=e.i(25209),n=e.i(8344),i=e.i(71645);function r(){let{impersonateUser:e}=(0,s.useApp)(),[r,d]=(0,i.useState)(""),[o,c]=(0,i.useState)(null),[m,x]=(0,i.useState)(""),u=(0,i.useMemo)(()=>{if(!r||r.length<2)return[];let e=r.toLowerCase();return a.DB.users.filter(t=>t.name.toLowerCase().includes(e)||t.email&&t.email.toLowerCase().includes(e)||t.id.toLowerCase().includes(e)).slice(0,20)},[r]);return(0,t.jsxs)("div",{className:"p-8 max-w-5xl mx-auto",children:[(0,t.jsxs)("header",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Support Helper"}),(0,t.jsx)("p",{className:"text-slate-500",children:"Find users and access their accounts securely to troubleshoot issues."})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm mb-8",children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Find User"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.MagnifyingGlass,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:24}),(0,t.jsx)("input",{className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-lg text-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all outline-none",placeholder:"Search by name, email, or user ID...",value:r,onChange:e=>d(e.target.value),autoFocus:!0})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-slate-400 pl-1",children:"Showing top 20 matches."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[u.map(e=>{let s=a.DB.tenants.find(t=>t.id===e.tenantId);return(0,t.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-slate-200 flex items-center justify-between hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center text-lg font-bold text-slate-500",children:e.initials}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-slate-900",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-mono bg-slate-100 px-1 rounded",children:e.email||"No Email"}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{className:"text-indigo-600 font-medium",children:s?.name||e.tenantId}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{className:"capitalize",children:e.role})]})]})]}),(0,t.jsxs)("button",{onClick:()=>c(e),className:"bg-indigo-50 text-indigo-700 hover:bg-indigo-100 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-colors",children:[(0,t.jsx)(n.UserSwitch,{size:20})," Access"]})]},e.id)}),0===u.length&&r.length>=2&&(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400 bg-slate-50 rounded-xl border border-dashed border-slate-200",children:['No users found matching "',r,'".']})]}),o&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:(0,t.jsxs)("div",{className:"bg-white max-w-md w-full rounded-2xl shadow-2xl overflow-hidden animate-scaleIn",children:[(0,t.jsx)("div",{className:"bg-amber-400 p-4 flex items-center justify-center",children:(0,t.jsx)(n.UserSwitch,{size:48,className:"text-amber-900 opacity-50"})}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-900 mb-2 text-center",children:"Confirm Access"}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 text-center mb-6",children:["You are about to log in as ",(0,t.jsx)("strong",{children:o.name}),".",(0,t.jsx)("br",{}),"All actions performed will be audited."]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Reason for Access (Required)"}),(0,t.jsx)("textarea",{className:"w-full border border-slate-200 rounded-lg p-3 text-sm focus:border-indigo-500 outline-none",rows:3,placeholder:"e.g. Ticket #1024 - Unable to upload file",value:m,onChange:e=>x(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{c(null),x("")},className:"flex-1 py-3 font-bold text-slate-500 hover:bg-slate-50 rounded-xl",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{o&&m&&e(o.id,o.tenantId)},disabled:!m.trim(),className:"flex-1 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-500/20",children:"Start Session"})]})]})]})})]})}e.s(["default",()=>r])}]);