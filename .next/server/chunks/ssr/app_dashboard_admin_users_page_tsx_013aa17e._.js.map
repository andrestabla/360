{"version":3,"sources":["../../../../app/dashboard/admin/users/page.tsx","../../../../node_modules/%40phosphor-icons/react/dist/csr/Key.es.js","../../../../node_modules/%40phosphor-icons/react/dist/defs/Key.es.js","../../../../components/ImportUsersModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport { useApp } from '@/context/AppContext';\nimport { DB, User, Unit } from '@/lib/data';\nimport { Users, Plus, Pencil, Trash, MagnifyingGlass, UserCircle, Buildings, ShieldCheck, ClockCounterClockwise, Key, Envelope, List } from '@phosphor-icons/react';\nimport ImportUsersModal from '@/components/ImportUsersModal';\nimport AdminGuide from '@/components/AdminGuide';\nimport { usersGuide } from '@/lib/adminGuides';\n\nconst LEVELS = [\n    { level: 1, label: 'Nivel 1 (Admin Tenant)' },\n    { level: 2, label: 'Nivel 2 (Jefe 츼rea)' },\n    { level: 3, label: 'Nivel 3 (Analista Sr)' },\n    { level: 4, label: 'Nivel 4 (Analista Jr)' },\n    { level: 5, label: 'Nivel 5 (Asistente)' },\n    { level: 6, label: 'Nivel 6 (Operativo)' },\n];\n\nexport default function UsersPage() {\n    const { currentUser, currentTenant, adminCreateUser, adminUpdateUser, adminDeleteUser, adminResendInvite, isSuperAdmin, adminCheckEmailUnique } = useApp();\n\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [isImportModalOpen, setIsImportModalOpen] = useState(false);\n    const [editingId, setEditingId] = useState<string | null>(null);\n    const [refreshKey, setRefreshKey] = useState(0);\n    const [search, setSearch] = useState('');\n    const [activeTab, setActiveTab] = useState<'details' | 'security' | 'logs'>('details');\n    const [filterUnit, setFilterUnit] = useState('');\n    const [filterLevel, setFilterLevel] = useState('');\n\n    const [formData, setFormData] = useState<Partial<User> & { password?: string, passwordMode?: 'auto' | 'manual', mustChangePassword?: boolean, tenantId?: string }>({\n        name: '',\n        email: '',\n        jobTitle: '',\n        level: 6,\n        unit: '',\n        status: 'ACTIVE',\n        passwordMode: 'auto',\n        password: '',\n        mustChangePassword: true,\n        tenantId: ''\n    });\n\n    // Super Admin: Global Tenant Filter\n    const [filterTenantId, setFilterTenantId] = useState('ALL');\n    const { currentTenant: actualCurrentTenant } = useApp();\n\n    // Determine effective scope\n    // If SuperAuth, we use filterTenantId. If strict tenant admin, we use actualCurrentTenant.id\n    const effectiveTenantId = isSuperAdmin ? (filterTenantId === 'ALL' ? null : filterTenantId) : actualCurrentTenant?.id;\n\n    // Get units based on selection\n    // Get units based on selection in FORM or Filter\n    const formTenantId = formData.tenantId || (isSuperAdmin ? filterTenantId : actualCurrentTenant?.id);\n\n    const tenantUnits = useMemo(() => {\n        // If creating/editing, use the form's selected tenant\n        const targetTenant = formTenantId === 'ALL' ? null : formTenantId;\n\n        if (targetTenant && targetTenant !== 'global') {\n            return DB.units.filter(u => u.tenantId === targetTenant);\n        }\n        return [];\n    }, [formTenantId]);\n\n    // Get users\n    const tenantUsers = useMemo(() => {\n        return DB.users.filter(u => {\n            // 1. Tenant Scope\n            let matchesTenant = true;\n            if (isSuperAdmin) {\n                if (filterTenantId !== 'ALL') matchesTenant = u.tenantId === filterTenantId;\n            } else {\n                if (!actualCurrentTenant) return false;\n                matchesTenant = u.tenantId === actualCurrentTenant.id;\n            }\n\n            const matchesSearch = u.name.toLowerCase().includes(search.toLowerCase()) ||\n                (u.jobTitle || '').toLowerCase().includes(search.toLowerCase()) ||\n                u.email?.toLowerCase().includes(search.toLowerCase()); // Added email search\n\n            const matchesUnit = filterUnit ? u.unit === filterUnit : true;\n            const matchesLevel = filterLevel ? u.level === Number(filterLevel) : true;\n\n            return matchesTenant && matchesSearch && matchesUnit && matchesLevel;\n        });\n    }, [actualCurrentTenant, isSuperAdmin, filterTenantId, search, refreshKey, filterUnit, filterLevel]);\n\n    // Get logs for editing user\n    const logs = useMemo(() => {\n        if (!editingId) return [];\n        return DB.platformAudit.filter(log => log.target_user_id === editingId || log.actor_id === editingId)\n            .sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())\n            .slice(0, 50);\n    }, [editingId, refreshKey]);\n\n    // Access Control: Allow if SuperAdmin OR if Tenant Admin (Level 1)\n    if (!isSuperAdmin && (!currentUser || currentUser.level !== 1)) {\n        return <div className=\"p-8 text-center text-red-500\">Acceso Denegado. Solo Admin Tenant.</div>;\n    }\n\n    if (!currentUser) return <div>Loading...</div>; // Allow render if SuperAdmin even without currentTenant context\n    const displayTenantName = isSuperAdmin ? (filterTenantId === 'ALL' ? 'Todos los Tenants' : DB.tenants.find(t => t.id === filterTenantId)?.name) : currentTenant?.name;\n\n    const handleCreate = () => {\n        setEditingId(null);\n        setFormData({\n            name: '',\n            email: '',\n            jobTitle: '',\n            level: 6,\n            unit: '',\n            status: 'ACTIVE',\n            passwordMode: 'auto',\n            password: '',\n            mustChangePassword: true,\n            tenantId: isSuperAdmin ? (filterTenantId === 'ALL' ? '' : filterTenantId) : currentTenant?.id\n        });\n        setActiveTab('details');\n        setIsModalOpen(true);\n    };\n\n    const handleEdit = (user: User) => {\n        setEditingId(user.id);\n        const unitId = tenantUnits.find(u => u.name === user.unit)?.id || ''; // Try to match name or keep empty if mismatch\n        setFormData({\n            name: user.name,\n            email: user.email || '',\n            jobTitle: user.jobTitle,\n            level: user.level,\n            unit: user.unit, // We store Unit Name in User model currently, not ID. Legacy issue.\n            status: user.status,\n            mustChangePassword: user.mustChangePassword,\n            tenantId: user.tenantId\n        });\n        setActiveTab('details');\n        setIsModalOpen(true);\n    };\n\n    const handleDelete = (id: string) => {\n        if (confirm('쮼st치s seguro de eliminar este usuario?')) {\n            adminDeleteUser(id);\n            setRefreshKey(prev => prev + 1);\n        }\n    };\n\n    const handleResendInvite = () => {\n        if (!editingId) return;\n        if (confirm(`Reenviar credenciales de acceso a ${formData.email}?`)) {\n            adminResendInvite(editingId);\n            alert('Credenciales enviadas correctamente.');\n            setRefreshKey(prev => prev + 1);\n        }\n    };\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n\n        // Check for unique email\n        if (!editingId && formData.email) {\n            if (!adminCheckEmailUnique(formData.email)) {\n                alert('El correo electr칩nico ya est치 registrado.');\n                return;\n            }\n        }\n\n        // Validate password if manual\n        if (!editingId && formData.passwordMode === 'manual' && !formData.password) {\n            alert('Por favor, ingresa una contrase침a manual.');\n            return;\n        }\n\n        // Map level to role name for display\n        // Map level to role name for display\n        let roleName = LEVELS.find(l => l.level === Number(formData.level))?.label.split('(')[1].replace(')', '') || 'Usuario';\n\n        // Special Case: Global Admin\n        if (formData.tenantId === 'global') {\n            roleName = 'Super Admin';\n        }\n\n        const { password, passwordMode, ...userData } = formData;\n        const dataToSave = { ...userData, role: roleName };\n\n        if (editingId) {\n            adminUpdateUser(editingId, dataToSave);\n        } else {\n            console.log(`[Notification System] Creating user ${formData.email} with role ${roleName}`);\n            adminCreateUser(dataToSave, {\n                sendNotification: formData.passwordMode === 'auto',\n                customPassword: formData.passwordMode === 'manual' ? formData.password : undefined\n            });\n            alert(`Usuario creado exitosamente. ${formData.passwordMode === 'auto' ? 'Se envi칩 invitaci칩n por correo.' : 'Contrase침a asignada manualmente.'}`);\n        }\n        setIsModalOpen(false);\n        setRefreshKey(prev => prev + 1);\n    };\n\n    return (\n        <div className=\"max-w-6xl mx-auto p-6 animate-fadeIn\">\n            <div className=\"flex justify-between items-center mb-6\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-slate-900 flex items-center gap-2\">\n                        <Users className=\"text-blue-600\" /> Gesti칩n de Usuarios\n                    </h1>\n                    <p className=\"text-sm text-slate-500 mt-1\">Administra el talento humano de {displayTenantName}.</p>\n                </div>\n                <div className=\"flex gap-2\">\n                    <button onClick={() => setIsImportModalOpen(true)} className=\"btn btn-secondary flex items-center gap-2\">\n                        Importar CSV\n                    </button>\n                    <button onClick={handleCreate} className=\"btn btn-primary flex items-center gap-2\">\n                        <Plus weight=\"bold\" /> Invitar Usuario\n                    </button>\n                </div>\n            </div>\n\n            <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden\">\n                <div className=\"p-4 border-b border-slate-100 flex gap-2 flex-wrap\">\n                    <div className=\"relative flex-1 min-w-[200px]\">\n                        <MagnifyingGlass className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\" />\n                        <input\n                            className=\"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 ring-blue-500/10\"\n                            placeholder=\"Buscar por nombre o cargo...\"\n                            value={search}\n                            onChange={e => setSearch(e.target.value)}\n                        />\n                    </div>\n\n                    {/* Super Admin: Tenant Filter */}\n                    {isSuperAdmin && (\n                        <select\n                            className=\"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-600 focus:outline-none focus:ring-2 ring-blue-500/10 font-bold text-blue-800\"\n                            value={filterTenantId}\n                            onChange={e => { setFilterTenantId(e.target.value); setFilterUnit(''); }} // Reset unit filter on tenant change\n                        >\n                            <option value=\"ALL\">游끽 Global (Todos)</option>\n                            {DB.tenants.map(t => (\n                                <option key={t.id} value={t.id}>{t.name}</option>\n                            ))}\n                        </select>\n                    )}\n                    <select\n                        className=\"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-600 focus:outline-none focus:ring-2 ring-blue-500/10\"\n                        value={filterUnit}\n                        onChange={e => setFilterUnit(e.target.value)}\n                    >\n                        <option value=\"\">Todas las Unidades</option>\n                        {tenantUnits.map(u => (\n                            <option key={u.id} value={u.name}>{u.name}</option>\n                        ))}\n                    </select>\n                    <select\n                        className=\"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-600 focus:outline-none focus:ring-2 ring-blue-500/10\"\n                        value={filterLevel}\n                        onChange={e => setFilterLevel(e.target.value)}\n                    >\n                        <option value=\"\">Todos los Niveles</option>\n                        {LEVELS.map(l => (\n                            <option key={l.level} value={l.level}>{l.label}</option>\n                        ))}\n                    </select>\n                </div>\n\n                <table className=\"w-full text-sm text-left\">\n                    <thead className=\"bg-slate-50 border-b border-slate-200 text-slate-500 uppercase font-semibold text-xs\">\n                        <tr>\n                            <th className=\"px-6 py-4\">Usuario</th>\n                            <th className=\"px-6 py-4\">Rol / Nivel</th>\n                            <th className=\"px-6 py-4\">Unidad</th>\n                            {isSuperAdmin && filterTenantId === 'ALL' && <th className=\"px-6 py-4\">Tenant</th>}\n                            <th className=\"px-6 py-4\">Estado</th>\n                            <th className=\"px-6 py-4 text-right\">Acciones</th>\n                        </tr>\n                    </thead>\n                    <tbody className=\"divide-y divide-slate-100\">\n                        {tenantUsers.map(user => (\n                            <tr key={user.id} className=\"hover:bg-slate-50 transition-colors\">\n                                <td className=\"px-6 py-4\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div className=\"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-xs\">\n                                            {user.initials}\n                                        </div>\n                                        <div>\n                                            <div className=\"font-medium text-slate-900\">{user.name}</div>\n                                            <div className=\"text-xs text-slate-500\">{user.jobTitle}</div>\n                                        </div>\n                                    </div>\n                                </td>\n                                <td className=\"px-6 py-4\">\n                                    <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-600 border border-slate-200\">\n                                        <span className=\"w-1.5 h-1.5 rounded-full bg-slate-400\"></span>\n                                        Nivel {user.level} - {user.role}\n                                    </span>\n                                </td>\n                                <td className=\"px-6 py-4\">\n                                    {user.unit ? (\n                                        <span className=\"inline-flex items-center gap-1.5 text-slate-600\">\n                                            <Buildings size={14} /> {user.unit}\n                                        </span>\n                                    ) : (\n                                        <span className=\"text-slate-400 italic\">Sin asignar</span>\n                                    )}\n                                </td>\n                                {isSuperAdmin && filterTenantId === 'ALL' && (\n                                    <td className=\"px-6 py-4\">\n                                        <span className={`inline-flex items-center gap-1.5 text-xs font-bold px-2 py-1 rounded ${user.tenantId === 'global' ? 'bg-purple-100 text-purple-700' : 'bg-slate-100 text-slate-500'}`}>\n                                            {user.tenantId === 'global' ? '游깵 Global' : (DB.tenants.find(t => t.id === user.tenantId)?.name || 'N/A')}\n                                        </span>\n                                    </td>\n                                )}\n                                <td className=\"px-6 py-4\">\n                                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${user.status === 'ACTIVE' ? 'bg-green-50 text-green-700 border-green-200' :\n                                        user.status === 'SUSPENDED' ? 'bg-red-50 text-red-700 border-red-200' :\n                                            'bg-yellow-50 text-yellow-700 border-yellow-200'\n                                        }`}>\n                                        {user.status === 'ACTIVE' ? 'Activo' : user.status === 'SUSPENDED' ? 'Suspendido' : 'Pendiente'}\n                                    </span>\n                                </td>\n                                <td className=\"px-6 py-4 text-right\">\n                                    <div className=\"flex justify-end gap-1\">\n                                        <button onClick={() => handleEdit(user)} className=\"p-1.5 hover:bg-blue-50 text-blue-600 rounded\" title=\"Editar\">\n                                            <Pencil />\n                                        </button>\n                                        <button onClick={() => handleDelete(user.id)} className=\"p-1.5 hover:bg-red-50 text-red-600 rounded\" title=\"Eliminar\">\n                                            <Trash />\n                                        </button>\n                                    </div>\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n\n            {/* Modal */}\n            {isModalOpen && (\n                <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm\">\n                    <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-fadeIn\">\n                        <div className=\"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50\">\n                            <h3 className=\"font-bold text-slate-800\">{editingId ? 'Editar Usuario' : 'Invitar Usuario'}</h3>\n                            <button onClick={() => setIsModalOpen(false)} className=\"text-slate-400 hover:text-slate-600\">&times;</button>\n                        </div>\n\n                        {/* Tabs */}\n                        {editingId && (\n                            <div className=\"flex border-b border-slate-100 px-6 gap-6\">\n                                <button onClick={() => setActiveTab('details')} className={`py-3 text-sm font-medium border-b-2 transition-colors ${activeTab === 'details' ? 'border-blue-500 text-blue-600' : 'border-transparent text-slate-500 hover:text-slate-800'}`}>\n                                    Detalles\n                                </button>\n                                <button onClick={() => setActiveTab('security')} className={`py-3 text-sm font-medium border-b-2 transition-colors ${activeTab === 'security' ? 'border-blue-500 text-blue-600' : 'border-transparent text-slate-500 hover:text-slate-800'}`}>\n                                    Seguridad & Acceso\n                                </button>\n                                <button onClick={() => setActiveTab('logs')} className={`py-3 text-sm font-medium border-b-2 transition-colors ${activeTab === 'logs' ? 'border-blue-500 text-blue-600' : 'border-transparent text-slate-500 hover:text-slate-800'}`}>\n                                    Actividad\n                                </button>\n                            </div>\n                        )}\n\n                        <div className=\"p-6 h-[450px] overflow-y-auto\">\n                            {activeTab === 'details' && (\n                                <form id=\"userForm\" onSubmit={handleSubmit} className=\"space-y-4\">\n                                    <div className=\"grid grid-cols-2 gap-4\">\n                                        <div>\n                                            <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Nombre Completo</label>\n                                            <input\n                                                required\n                                                className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 ring-blue-500/20 outline-none transition-all\"\n                                                value={formData.name}\n                                                onChange={e => setFormData({ ...formData, name: e.target.value })}\n                                                placeholder=\"Ej. Juan P칠rez\"\n                                            />\n                                        </div>\n\n                                        {/* Super Admin: Tenant Selector takes 2nd slot if present, else Status */}\n                                        {isSuperAdmin ? (\n                                            <div>\n                                                <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Organizaci칩n / Tenant</label>\n                                                <select\n                                                    className={`w-full px-3 py-2 border rounded-lg bg-white ${formData.tenantId === 'global' ? 'ring-2 ring-purple-500 border-purple-500 bg-purple-50' : ''}`}\n                                                    value={formData.tenantId}\n                                                    onChange={e => setFormData({ ...formData, tenantId: e.target.value, unit: '' })}\n                                                    disabled={!!editingId}\n                                                >\n                                                    <option value=\"\" disabled>Seleccionar...</option>\n                                                    <option value=\"global\">游깵 Global System (Super Admin)</option>\n                                                    {DB.tenants.map(t => (\n                                                        <option key={t.id} value={t.id}>{t.name}</option>\n                                                    ))}\n                                                </select>\n                                                {formData.tenantId === 'global' && (\n                                                    <p className=\"text-[10px] text-purple-600 mt-1 font-bold\">丘멆잺 Este usuario tendr치 acceso total a la plataforma.</p>\n                                                )}\n                                            </div>\n                                        ) : (\n                                            <div>\n                                                <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Estado</label>\n                                                <select\n                                                    className=\"w-full px-3 py-2 border rounded-lg bg-white\"\n                                                    value={formData.status}\n                                                    onChange={e => setFormData({ ...formData, status: e.target.value as any })}\n                                                >\n                                                    <option value=\"ACTIVE\">Activo</option>\n                                                    <option value=\"PENDING_INVITE\">Pendiente</option>\n                                                    <option value=\"SUSPENDED\">Suspendido</option>\n                                                </select>\n                                            </div>\n                                        )}\n                                    </div>\n\n                                    {/* If Super Admin, show Status in a separate row or new grid */}\n                                    {isSuperAdmin && (\n                                        <div>\n                                            <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Estado</label>\n                                            <select\n                                                className=\"w-full px-3 py-2 border rounded-lg bg-white\"\n                                                value={formData.status}\n                                                onChange={e => setFormData({ ...formData, status: e.target.value as any })}\n                                            >\n                                                <option value=\"ACTIVE\">Activo</option>\n                                                <option value=\"PENDING_INVITE\">Pendiente</option>\n                                                <option value=\"SUSPENDED\">Suspendido</option>\n                                            </select>\n                                        </div>\n                                    )}\n\n                                    <div>\n                                        <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Email Corporativo</label>\n                                        <input\n                                            type=\"email\"\n                                            required\n                                            className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 ring-blue-500/20 outline-none transition-all\"\n                                            value={formData.email}\n                                            onChange={e => setFormData({ ...formData, email: e.target.value })}\n                                            placeholder=\"usuario@empresa.com\"\n                                        />\n                                    </div>\n\n                                    <div>\n                                        <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Cargo / Puesto</label>\n                                        <input\n                                            required\n                                            className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 ring-blue-500/20 outline-none transition-all\"\n                                            value={formData.jobTitle}\n                                            onChange={e => setFormData({ ...formData, jobTitle: e.target.value })}\n                                            placeholder=\"Ej. Analista Senior\"\n                                        />\n                                    </div>\n\n                                    <div className=\"grid grid-cols-2 gap-4\">\n                                        <div>\n                                            <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Capa / Nivel</label>\n                                            <select\n                                                className=\"w-full px-3 py-2 border rounded-lg bg-white\"\n                                                value={formData.level}\n                                                onChange={e => setFormData({ ...formData, level: Number(e.target.value) })}\n                                                disabled={formData.tenantId === 'global'}\n                                            >\n                                                {formData.tenantId === 'global' ? (\n                                                    <option value=\"1\">Nivel Global (Super Admin)</option>\n                                                ) : (\n                                                    LEVELS.map(l => (\n                                                        <option key={l.level} value={l.level}>{l.label}</option>\n                                                    ))\n                                                )}\n                                            </select>\n                                        </div>\n                                        <div>\n                                            <label className=\"block text-xs font-semibold text-slate-500 mb-1\">Unidad Org.</label>\n                                            <select\n                                                className=\"w-full px-3 py-2 border rounded-lg bg-white\"\n                                                value={formData.unit || ''}\n                                                onChange={e => setFormData({ ...formData, unit: e.target.value })}\n                                            >\n                                                <option value=\"\">(Sin asignar)</option>\n                                                {tenantUnits.map(u => (\n                                                    <option key={u.id} value={u.name}>{u.name}</option>\n                                                ))}\n                                            </select>\n                                            {formData.tenantId === 'global' && <p className=\"text-[10px] text-slate-400 mt-1\">Global no tiene unidades.</p>}\n                                        </div>\n                                    </div>\n\n                                    {!editingId && (\n                                        <div className=\"space-y-4 p-4 bg-slate-50 rounded-xl border border-slate-200 mt-4\">\n                                            <h4 className=\"text-xs font-bold text-slate-700 uppercase tracking-wider flex items-center gap-2\">\n                                                <UserCircle size={16} className=\"text-blue-600\" /> Configuraci칩n de Acceso\n                                            </h4>\n\n                                            <div className=\"flex gap-4\">\n                                                <label className=\"flex items-center gap-2 cursor-pointer group\">\n                                                    <input\n                                                        type=\"radio\"\n                                                        name=\"pwdMode\"\n                                                        checked={formData.passwordMode === 'auto'}\n                                                        onChange={() => setFormData({ ...formData, passwordMode: 'auto' })}\n                                                        className=\"w-4 h-4 text-blue-600 border-slate-300 focus:ring-blue-500\"\n                                                    />\n                                                    <span className=\"text-sm text-slate-600 group-hover:text-slate-900 transition-colors\">Auto-generar y enviar</span>\n                                                </label>\n                                                <label className=\"flex items-center gap-2 cursor-pointer group\">\n                                                    <input\n                                                        type=\"radio\"\n                                                        name=\"pwdMode\"\n                                                        checked={formData.passwordMode === 'manual'}\n                                                        onChange={() => setFormData({ ...formData, passwordMode: 'manual' })}\n                                                        className=\"w-4 h-4 text-blue-600 border-slate-300 focus:ring-blue-500\"\n                                                    />\n                                                    <span className=\"text-sm text-slate-600 group-hover:text-slate-900 transition-colors\">Asignar manual</span>\n                                                </label>\n                                            </div>\n\n                                            {formData.passwordMode === 'manual' && (\n                                                <div className=\"animate-fadeIn\">\n                                                    <label className=\"block text-[10px] font-bold text-slate-400 uppercase mb-1\">Contrase침a Manual</label>\n                                                    <input\n                                                        type=\"password\"\n                                                        required={formData.passwordMode === 'manual'}\n                                                        className=\"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 ring-blue-500/20 outline-none transition-all\"\n                                                        value={formData.password}\n                                                        onChange={e => setFormData({ ...formData, password: e.target.value })}\n                                                        placeholder=\"M칤nimo 8 caracteres\"\n                                                    />\n                                                </div>\n                                            )}\n                                        </div>\n                                    )}\n                                </form>\n                            )}\n\n                            {activeTab === 'security' && (\n                                <div className=\"space-y-6\">\n                                    <div className=\"p-4 bg-orange-50 border border-orange-100 rounded-xl\">\n                                        <h4 className=\"flex items-center gap-2 font-bold text-orange-800 text-sm mb-2\">\n                                            <Envelope size={18} /> Comunicaci칩n\n                                        </h4>\n                                        <p className=\"text-xs text-orange-700 mb-3\">\n                                            Env칤a un correo electr칩nico al usuario con instrucciones para restablecer su acceso.\n                                        </p>\n                                        <button\n                                            type=\"button\"\n                                            onClick={handleResendInvite}\n                                            className=\"bg-white border border-orange-200 text-orange-700 px-3 py-1.5 rounded-lg text-xs font-semibold hover:bg-orange-100 transition-colors shadow-sm\"\n                                        >\n                                            Reenviar Credenciales\n                                        </button>\n                                    </div>\n\n                                    <form id=\"userForm\" onSubmit={handleSubmit} className=\"space-y-4\">\n                                        <div className=\"border-t border-slate-100 pt-4\">\n                                            <label className=\"flex items-center gap-3 p-3 border border-slate-200 rounded-xl cursor-pointer hover:bg-slate-50 transition-colors\">\n                                                <input\n                                                    type=\"checkbox\"\n                                                    className=\"w-4 h-4 text-blue-600 rounded\"\n                                                    checked={formData.mustChangePassword}\n                                                    onChange={e => setFormData({ ...formData, mustChangePassword: e.target.checked })}\n                                                />\n                                                <div>\n                                                    <div className=\"text-sm font-semibold text-slate-800\">Forzar cambio de contrase침a</div>\n                                                    <div className=\"text-xs text-slate-500\">El usuario deber치 actualizar su clave en el pr칩ximo inicio de sesi칩n.</div>\n                                                </div>\n                                            </label>\n                                        </div>\n\n                                        <div className=\"border-t border-slate-100 pt-4\">\n                                            <h4 className=\"text-xs font-bold text-slate-400 uppercase mb-3 flex items-center gap-2\">\n                                                <Key size={14} /> Asignaci칩n Manual de Contrase침a\n                                            </h4>\n                                            <div className=\"space-y-3\">\n                                                <input\n                                                    type=\"password\"\n                                                    className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 ring-blue-500/20 outline-none transition-all text-sm\"\n                                                    value={formData.password}\n                                                    onChange={e => setFormData({ ...formData, password: e.target.value })}\n                                                    placeholder=\"Nueva contrase침a (dejar vac칤o si no desea cambiar)\"\n                                                />\n                                                <p className=\"text-[10px] text-slate-400\">\n                                                    Escribe aqu칤 solo si deseas sobrescribir la contrase침a actual del usuario manualmente.\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </form>\n                                </div>\n                            )}\n\n                            {activeTab === 'logs' && (\n                                <div className=\"space-y-4\">\n                                    {logs.length === 0 ? (\n                                        <div className=\"text-center py-10 text-slate-400 text-sm\">\n                                            No hay actividad registrada recientemente.\n                                        </div>\n                                    ) : (\n                                        <table className=\"w-full text-xs text-left\">\n                                            <thead>\n                                                <tr className=\"border-b border-slate-100 text-slate-500\">\n                                                    <th className=\"py-2\">Evento</th>\n                                                    <th className=\"py-2\">Fecha</th>\n                                                    <th className=\"py-2\">Detalle</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody className=\"divide-y divide-slate-50\">\n                                                {logs.map((log) => (\n                                                    <tr key={log.id} className=\"hover:bg-slate-50\">\n                                                        <td className=\"py-2 font-medium text-slate-700\">{log.event_type}</td>\n                                                        <td className=\"py-2 text-slate-500\">\n                                                            {new Date(log.created_at).toLocaleString()}\n                                                        </td>\n                                                        <td className=\"py-2 text-slate-500 max-w-[150px] truncate\" title={JSON.stringify(log.metadata)}>\n                                                            {log.metadata?.changes && Array.isArray(log.metadata.changes) ? log.metadata.changes.join(', ') : '-'}\n                                                        </td>\n                                                    </tr>\n                                                ))}\n                                            </tbody>\n                                        </table>\n                                    )}\n                                </div>\n                            )}\n                        </div>\n\n                        <div className=\"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3\">\n                            <button type=\"button\" onClick={() => setIsModalOpen(false)} className=\"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg text-sm font-medium\">Cancelar</button>\n                            {activeTab !== 'logs' && (\n                                <button form=\"userForm\" type=\"submit\" className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium shadow-lg shadow-blue-500/20\">\n                                    {editingId ? 'Guardar Cambios' : 'Enviar Invitaci칩n'}\n                                </button>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Import Modal */}\n            <ImportUsersModal\n                isOpen={isImportModalOpen}\n                onClose={() => setIsImportModalOpen(false)}\n                onImport={(users) => {\n                    // Import users\n                    users.forEach(user => {\n                        adminCreateUser(user, { sendNotification: false });\n                    });\n                    setIsImportModalOpen(false);\n                    setRefreshKey(prev => prev + 1);\n                }}\n                tenantId={isSuperAdmin ? (filterTenantId === 'ALL' ? 'global' : filterTenantId) : (currentTenant?.id || 'global')}\n            />\n\n            {/* Admin Guide */}\n            <AdminGuide {...usersGuide as any} />\n\n        </div >\n    );\n}\n","import * as e from \"react\";\nimport a from \"../lib/IconBase.es.js\";\nimport m from \"../defs/Key.es.js\";\nconst o = e.forwardRef((r, t) => /* @__PURE__ */ e.createElement(a, { ref: t, ...r, weights: m }));\no.displayName = \"KeyIcon\";\nconst n = o;\nexport {\n  n as Key,\n  o as KeyIcon\n};\n","import * as a from \"react\";\nconst e = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M196,76a16,16,0,1,1-16-16A16,16,0,0,1,196,76Zm48,22.74A84.3,84.3,0,0,1,160.11,180H160a83.52,83.52,0,0,1-23.65-3.38l-7.86,7.87A12,12,0,0,1,120,188H108v12a12,12,0,0,1-12,12H84v12a12,12,0,0,1-12,12H40a20,20,0,0,1-20-20V187.31a19.86,19.86,0,0,1,5.86-14.14l53.52-53.52A84,84,0,1,1,244,98.74ZM202.43,53.57A59.48,59.48,0,0,0,158,36c-32,1-58,27.89-58,59.89a59.69,59.69,0,0,0,4.2,22.19,12,12,0,0,1-2.55,13.21L44,189v23H60V200a12,12,0,0,1,12-12H84V176a12,12,0,0,1,12-12h19l9.65-9.65a12,12,0,0,1,13.22-2.55A59.58,59.58,0,0,0,160,156h.08c32,0,58.87-26.07,59.89-58A59.55,59.55,0,0,0,202.43,53.57Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\n      \"path\",\n      {\n        d: \"M232,98.36C230.73,136.92,198.67,168,160.09,168a71.68,71.68,0,0,1-26.92-5.17h0L120,176H96v24H72v24H40a8,8,0,0,1-8-8V187.31a8,8,0,0,1,2.34-5.65l58.83-58.83h0A71.68,71.68,0,0,1,88,95.91c0-38.58,31.08-70.64,69.64-71.87A72,72,0,0,1,232,98.36Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ a.createElement(\"path\", { d: \"M216.57,39.43A80,80,0,0,0,83.91,120.78L28.69,176A15.86,15.86,0,0,0,24,187.31V216a16,16,0,0,0,16,16H72a8,8,0,0,0,8-8V208H96a8,8,0,0,0,8-8V184h16a8,8,0,0,0,5.66-2.34l9.56-9.57A79.73,79.73,0,0,0,160,176h.1A80,80,0,0,0,216.57,39.43ZM224,98.1c-1.09,34.09-29.75,61.86-63.89,61.9H160a63.7,63.7,0,0,1-23.65-4.51,8,8,0,0,0-8.84,1.68L116.69,168H96a8,8,0,0,0-8,8v16H72a8,8,0,0,0-8,8v16H40V187.31l58.83-58.82a8,8,0,0,0,1.68-8.84A63.72,63.72,0,0,1,96,95.92c0-34.14,27.81-62.8,61.9-63.89A64,64,0,0,1,224,98.1ZM192,76a12,12,0,1,1-12-12A12,12,0,0,1,192,76Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M216.57,39.43A80,80,0,0,0,83.91,120.78L28.69,176A15.86,15.86,0,0,0,24,187.31V216a16,16,0,0,0,16,16H72a8,8,0,0,0,8-8V208H96a8,8,0,0,0,8-8V184h16a8,8,0,0,0,5.66-2.34l9.56-9.57A79.73,79.73,0,0,0,160,176h.1A80,80,0,0,0,216.57,39.43ZM180,92a16,16,0,1,1,16-16A16,16,0,0,1,180,92Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M215.15,40.85A78,78,0,0,0,86.2,121.31l-56.1,56.1a13.94,13.94,0,0,0-4.1,9.9V216a14,14,0,0,0,14,14H72a6,6,0,0,0,6-6V206H96a6,6,0,0,0,6-6V182h18a6,6,0,0,0,4.24-1.76l10.45-10.44A77.59,77.59,0,0,0,160,174h.1A78,78,0,0,0,215.15,40.85ZM226,98.16c-1.12,35.16-30.67,63.8-65.88,63.84a65.93,65.93,0,0,1-24.51-4.67,6,6,0,0,0-6.64,1.26L117.51,170H96a6,6,0,0,0-6,6v18H72a6,6,0,0,0-6,6v18H40a2,2,0,0,1-2-2V187.31a2,2,0,0,1,.58-1.41l58.83-58.83a6,6,0,0,0,1.26-6.64A65.61,65.61,0,0,1,94,95.92C94,60.71,122.68,31.16,157.83,30A66,66,0,0,1,226,98.16ZM190,76a10,10,0,1,1-10-10A10,10,0,0,1,190,76Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M216.57,39.43A80,80,0,0,0,83.91,120.78L28.69,176A15.86,15.86,0,0,0,24,187.31V216a16,16,0,0,0,16,16H72a8,8,0,0,0,8-8V208H96a8,8,0,0,0,8-8V184h16a8,8,0,0,0,5.66-2.34l9.56-9.57A79.73,79.73,0,0,0,160,176h.1A80,80,0,0,0,216.57,39.43ZM224,98.1c-1.09,34.09-29.75,61.86-63.89,61.9H160a63.7,63.7,0,0,1-23.65-4.51,8,8,0,0,0-8.84,1.68L116.69,168H96a8,8,0,0,0-8,8v16H72a8,8,0,0,0-8,8v16H40V187.31l58.83-58.82a8,8,0,0,0,1.68-8.84A63.72,63.72,0,0,1,96,95.92c0-34.14,27.81-62.8,61.9-63.89A64,64,0,0,1,224,98.1ZM192,76a12,12,0,1,1-12-12A12,12,0,0,1,192,76Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ a.createElement(a.Fragment, null, /* @__PURE__ */ a.createElement(\"path\", { d: \"M213.74,42.26A76,76,0,0,0,88.51,121.84l-57,57A11.93,11.93,0,0,0,28,187.31V216a12,12,0,0,0,12,12H72a4,4,0,0,0,4-4V204H96a4,4,0,0,0,4-4V180h20a4,4,0,0,0,2.83-1.17l11.33-11.34A75.72,75.72,0,0,0,160,172h.1A76,76,0,0,0,213.74,42.26Zm14.22,56c-1.15,36.22-31.6,65.72-67.87,65.77H160a67.52,67.52,0,0,1-25.21-4.83,4,4,0,0,0-4.45.83l-12,12H96a4,4,0,0,0-4,4v20H72a4,4,0,0,0-4,4v20H40a4,4,0,0,1-4-4V187.31a4.06,4.06,0,0,1,1.17-2.83L96,125.66a4,4,0,0,0,.83-4.45A67.51,67.51,0,0,1,92,95.91C92,59.64,121.55,29.19,157.77,28A68,68,0,0,1,228,98.23ZM188,76a8,8,0,1,1-8-8A8,8,0,0,1,188,76Z\" }))\n  ]\n]);\nexport {\n  e as default\n};\n","'use client';\n\nimport { useState } from 'react';\nimport { X, UploadSimple, DownloadSimple, CheckCircle, Warning, Info } from '@phosphor-icons/react';\nimport { User } from '@/lib/data';\n\ninterface ImportUsersModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onImport: (users: Partial<User>[]) => void;\n    tenantId: string;\n}\n\nexport default function ImportUsersModal({ isOpen, onClose, onImport, tenantId }: ImportUsersModalProps) {\n    const [file, setFile] = useState<File | null>(null);\n    const [preview, setPreview] = useState<Partial<User>[]>([]);\n    const [errors, setErrors] = useState<string[]>([]);\n    const [importing, setImporting] = useState(false);\n\n    if (!isOpen) return null;\n\n    const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n        const selectedFile = e.target.files?.[0];\n        if (!selectedFile) return;\n\n        setFile(selectedFile);\n        setErrors([]);\n        setPreview([]);\n\n        // Parse CSV\n        const text = await selectedFile.text();\n        const lines = text.split('\\n').filter(line => line.trim());\n\n        if (lines.length < 2) {\n            setErrors(['El archivo est치 vac칤o o no tiene datos']);\n            return;\n        }\n\n        // Parse header\n        const header = lines[0].split(',').map(h => h.trim());\n        const requiredFields = ['name', 'email'];\n        const missingFields = requiredFields.filter(f => !header.includes(f));\n\n        if (missingFields.length > 0) {\n            setErrors([`Faltan campos requeridos: ${missingFields.join(', ')}`]);\n            return;\n        }\n\n        // Parse data\n        const users: Partial<User>[] = [];\n        const validationErrors: string[] = [];\n\n        for (let i = 1; i < lines.length; i++) {\n            const values = lines[i].split(',').map(v => v.trim());\n            const row: Record<string, string> = {};\n\n            header.forEach((key, index) => {\n                row[key] = values[index] || '';\n            });\n\n            // Validate required fields\n            if (!row.name || !row.email) {\n                validationErrors.push(`L칤nea ${i + 1}: Faltan campos requeridos (name, email)`);\n                continue;\n            }\n\n            // Validate email format\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (!emailRegex.test(row.email)) {\n                validationErrors.push(`L칤nea ${i + 1}: Email inv치lido \"${row.email}\"`);\n                continue;\n            }\n\n            // Validate level\n            const level = parseInt(row.level) || 3;\n            if (level < 1 || level > 6) {\n                validationErrors.push(`L칤nea ${i + 1}: Nivel inv치lido. Debe ser entre 1 y 6`);\n                continue;\n            }\n\n            const user: Partial<User> = {\n                id: `user_${Date.now()}_${i}`,\n                tenantId: tenantId,\n                name: row.name,\n                email: row.email,\n                password: row.password || 'ChangeMe123!',\n                level: level,\n                role: row.role || 'Usuario',\n                unit: row.unit || '',\n                jobTitle: row.jobTitle || '',\n                phone: row.phone || '',\n                location: row.location || '',\n                status: (row.status === 'ACTIVE' || row.status === 'SUSPENDED' || row.status === 'PENDING_INVITE' || row.status === 'DELETED'\n                    ? row.status\n                    : 'ACTIVE') as 'ACTIVE' | 'SUSPENDED' | 'PENDING_INVITE' | 'DELETED',\n                initials: row.name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2)\n            };\n\n            users.push(user);\n        }\n\n        if (validationErrors.length > 0) {\n            setErrors(validationErrors);\n        }\n\n        setPreview(users);\n    };\n\n    const handleImport = () => {\n        if (preview.length === 0) return;\n\n        setImporting(true);\n\n        // Simulate import delay\n        setTimeout(() => {\n            onImport(preview);\n            setImporting(false);\n            handleClose();\n        }, 1500);\n    };\n\n    const handleClose = () => {\n        setFile(null);\n        setPreview([]);\n        setErrors([]);\n        setImporting(false);\n        onClose();\n    };\n\n    const handleDownloadTemplate = () => {\n        // Download the example CSV\n        const link = document.createElement('a');\n        link.href = '/templates/usuarios-ejemplo.csv';\n        link.download = 'usuarios-ejemplo.csv';\n        link.click();\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fadeIn\">\n            <div className=\"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-slideUp\">\n                {/* Header */}\n                <div className=\"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white p-6 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                        <div className=\"p-3 bg-white/20 rounded-lg\">\n                            <UploadSimple size={32} weight=\"fill\" />\n                        </div>\n                        <div>\n                            <h2 className=\"text-2xl font-bold\">Importar Usuarios</h2>\n                            <p className=\"text-indigo-100 text-sm mt-1\">Carga masiva desde archivo CSV</p>\n                        </div>\n                    </div>\n                    <button\n                        onClick={handleClose}\n                        className=\"p-2 hover:bg-white/20 rounded-lg transition-colors\"\n                    >\n                        <X size={24} weight=\"bold\" />\n                    </button>\n                </div>\n\n                {/* Content */}\n                <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n                    {/* Instructions */}\n                    <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-4\">\n                        <div className=\"flex items-start gap-3\">\n                            <Info size={24} className=\"text-blue-600 flex-shrink-0\" weight=\"fill\" />\n                            <div className=\"text-sm text-blue-900\">\n                                <p className=\"font-bold mb-2\">Instrucciones:</p>\n                                <ol className=\"list-decimal list-inside space-y-1\">\n                                    <li>Descarga el archivo de ejemplo haciendo clic en el bot칩n abajo</li>\n                                    <li>Edita el archivo CSV con los datos de tus usuarios</li>\n                                    <li>Aseg칰rate de mantener el formato y los nombres de las columnas</li>\n                                    <li>Sube el archivo editado usando el bot칩n de carga</li>\n                                </ol>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Download Template */}\n                    <div className=\"flex justify-center\">\n                        <button\n                            onClick={handleDownloadTemplate}\n                            className=\"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 transition-colors shadow-lg\"\n                        >\n                            <DownloadSimple size={20} weight=\"bold\" />\n                            Descargar Plantilla CSV de Ejemplo\n                        </button>\n                    </div>\n\n                    {/* CSV Format Info */}\n                    <div className=\"bg-slate-50 border border-slate-200 rounded-xl p-4\">\n                        <h3 className=\"font-bold text-slate-800 mb-3\">Formato del Archivo CSV</h3>\n                        <div className=\"text-sm text-slate-700 space-y-2\">\n                            <p><strong>Columnas requeridas:</strong></p>\n                            <ul className=\"list-disc list-inside space-y-1 ml-4\">\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">name</code> - Nombre completo del usuario</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">email</code> - Email corporativo (debe ser 칰nico)</li>\n                            </ul>\n                            <p className=\"mt-3\"><strong>Columnas opcionales:</strong></p>\n                            <ul className=\"list-disc list-inside space-y-1 ml-4\">\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">password</code> - Contrase침a inicial (default: ChangeMe123!)</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">level</code> - Nivel de acceso 1-6 (default: 3)</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">role</code> - Rol del usuario (ej: Analista, Manager)</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">unit</code> - Unidad organizacional</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">jobTitle</code> - Cargo o t칤tulo del puesto</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">phone</code> - Tel칠fono de contacto</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">location</code> - Ubicaci칩n f칤sica</li>\n                                <li><code className=\"bg-slate-200 px-2 py-0.5 rounded\">status</code> - ACTIVE o INACTIVE (default: ACTIVE)</li>\n                            </ul>\n                        </div>\n                    </div>\n\n                    {/* File Upload */}\n                    <div className=\"border-2 border-dashed border-slate-300 rounded-xl p-8 text-center hover:border-indigo-400 transition-colors\">\n                        <input\n                            type=\"file\"\n                            accept=\".csv\"\n                            onChange={handleFileChange}\n                            className=\"hidden\"\n                            id=\"csv-upload\"\n                        />\n                        <label\n                            htmlFor=\"csv-upload\"\n                            className=\"cursor-pointer flex flex-col items-center gap-3\"\n                        >\n                            <div className=\"p-4 bg-indigo-100 rounded-full\">\n                                <UploadSimple size={48} className=\"text-indigo-600\" weight=\"fill\" />\n                            </div>\n                            <div>\n                                <p className=\"text-lg font-bold text-slate-800\">\n                                    {file ? file.name : 'Haz clic para seleccionar un archivo CSV'}\n                                </p>\n                                <p className=\"text-sm text-slate-500 mt-1\">\n                                    o arrastra y suelta aqu칤\n                                </p>\n                            </div>\n                        </label>\n                    </div>\n\n                    {/* Errors */}\n                    {errors.length > 0 && (\n                        <div className=\"bg-red-50 border border-red-200 rounded-xl p-4\">\n                            <div className=\"flex items-start gap-3\">\n                                <Warning size={24} className=\"text-red-600 flex-shrink-0\" weight=\"fill\" />\n                                <div className=\"flex-1\">\n                                    <p className=\"font-bold text-red-900 mb-2\">Errores encontrados:</p>\n                                    <ul className=\"text-sm text-red-800 space-y-1\">\n                                        {errors.slice(0, 10).map((error, index) => (\n                                            <li key={index}> {error}</li>\n                                        ))}\n                                        {errors.length > 10 && (\n                                            <li className=\"text-red-600 font-bold\">... y {errors.length - 10} errores m치s</li>\n                                        )}\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Preview */}\n                    {preview.length > 0 && errors.length === 0 && (\n                        <div className=\"bg-green-50 border border-green-200 rounded-xl p-4\">\n                            <div className=\"flex items-start gap-3 mb-4\">\n                                <CheckCircle size={24} className=\"text-green-600 flex-shrink-0\" weight=\"fill\" />\n                                <div>\n                                    <p className=\"font-bold text-green-900\">\n                                        Vista Previa: {preview.length} usuarios listos para importar\n                                    </p>\n                                    <p className=\"text-sm text-green-800 mt-1\">\n                                        Revisa los datos antes de confirmar la importaci칩n\n                                    </p>\n                                </div>\n                            </div>\n\n                            <div className=\"max-h-96 overflow-y-auto bg-white rounded-lg border border-green-200\">\n                                <table className=\"w-full text-sm\">\n                                    <thead className=\"bg-green-100 sticky top-0\">\n                                        <tr>\n                                            <th className=\"text-left p-2 font-bold text-green-900\">Nombre</th>\n                                            <th className=\"text-left p-2 font-bold text-green-900\">Email</th>\n                                            <th className=\"text-left p-2 font-bold text-green-900\">Nivel</th>\n                                            <th className=\"text-left p-2 font-bold text-green-900\">Rol</th>\n                                            <th className=\"text-left p-2 font-bold text-green-900\">Unidad</th>\n                                            <th className=\"text-left p-2 font-bold text-green-900\">Estado</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {preview.map((user, index) => (\n                                            <tr key={index} className=\"border-t border-green-100 hover:bg-green-50\">\n                                                <td className=\"p-2\">{user.name}</td>\n                                                <td className=\"p-2 text-xs\">{user.email}</td>\n                                                <td className=\"p-2\">\n                                                    <span className=\"px-2 py-0.5 rounded text-xs font-bold bg-blue-100 text-blue-700\">\n                                                        Nivel {user.level}\n                                                    </span>\n                                                </td>\n                                                <td className=\"p-2 text-xs\">{user.role}</td>\n                                                <td className=\"p-2 text-xs\">{user.unit || '-'}</td>\n                                                <td className=\"p-2\">\n                                                    <span className={`px-2 py-0.5 rounded text-xs font-bold ${user.status === 'ACTIVE'\n                                                            ? 'bg-green-100 text-green-700'\n                                                            : 'bg-slate-100 text-slate-700'\n                                                        }`}>\n                                                        {user.status}\n                                                    </span>\n                                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* Footer */}\n                <div className=\"border-t border-slate-200 p-4 bg-slate-50 flex justify-end gap-3\">\n                    <button\n                        onClick={handleClose}\n                        className=\"px-6 py-2 border border-slate-300 text-slate-700 rounded-lg font-bold hover:bg-slate-100 transition-colors\"\n                    >\n                        Cancelar\n                    </button>\n                    <button\n                        onClick={handleImport}\n                        disabled={preview.length === 0 || errors.length > 0 || importing}\n                        className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors flex items-center gap-2\"\n                    >\n                        {importing ? (\n                            <>\n                                <div className=\"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent\"></div>\n                                Importando...\n                            </>\n                        ) : (\n                            <>\n                                <UploadSimple size={20} weight=\"bold\" />\n                                Importar {preview.length} Usuarios\n                            </>\n                        )}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","ignoreList":[1,2]}